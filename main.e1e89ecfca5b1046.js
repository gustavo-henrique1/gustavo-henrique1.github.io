(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[792],{401:(n2,u1,Ve)=>{"use strict";Ve.d(u1,{Am:()=>ca,Bd:()=>Oe,FA:()=>ct,Fy:()=>Zt,I9:()=>ps,Im:()=>Ii,Ku:()=>la,Ll:()=>Wt,T9:()=>At,Uj:()=>Dt,XA:()=>n1,ZQ:()=>Re,bD:()=>Co,cY:()=>c1,eX:()=>Te,g:()=>be,gR:()=>Cs,hp:()=>Ls,jZ:()=>Tn,lT:()=>os,lV:()=>Li,mS:()=>dn,nr:()=>he,p7:()=>P1,sr:()=>f1,tD:()=>Er,u:()=>ee,zW:()=>ge,zw:()=>dt});const se=function(J){const Q=[];let ne=0;for(let Ee=0;Ee<J.length;Ee++){let pe=J.charCodeAt(Ee);pe<128?Q[ne++]=pe:pe<2048?(Q[ne++]=pe>>6|192,Q[ne++]=63&pe|128):55296==(64512&pe)&&Ee+1<J.length&&56320==(64512&J.charCodeAt(Ee+1))?(pe=65536+((1023&pe)<<10)+(1023&J.charCodeAt(++Ee)),Q[ne++]=pe>>18|240,Q[ne++]=pe>>12&63|128,Q[ne++]=pe>>6&63|128,Q[ne++]=63&pe|128):(Q[ne++]=pe>>12|224,Q[ne++]=pe>>6&63|128,Q[ne++]=63&pe|128)}return Q},xt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,Q){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let pe=0;pe<J.length;pe+=3){const bt=J[pe],kn=pe+1<J.length,xn=kn?J[pe+1]:0,L1=pe+2<J.length,Ei=L1?J[pe+2]:0;let ms=(15&xn)<<2|Ei>>6,eo=63&Ei;L1||(eo=64,kn||(ms=64)),Ee.push(ne[bt>>2],ne[(3&bt)<<4|xn>>4],ne[ms],ne[eo])}return Ee.join("")},encodeString(J,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(J):this.encodeByteArray(se(J),Q)},decodeString(J,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(J):function(J){const Q=[];let ne=0,Ee=0;for(;ne<J.length;){const pe=J[ne++];if(pe<128)Q[Ee++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const bt=J[ne++];Q[Ee++]=String.fromCharCode((31&pe)<<6|63&bt)}else if(pe>239&&pe<365){const L1=((7&pe)<<18|(63&J[ne++])<<12|(63&J[ne++])<<6|63&J[ne++])-65536;Q[Ee++]=String.fromCharCode(55296+(L1>>10)),Q[Ee++]=String.fromCharCode(56320+(1023&L1))}else{const bt=J[ne++],kn=J[ne++];Q[Ee++]=String.fromCharCode((15&pe)<<12|(63&bt)<<6|63&kn)}}return Q.join("")}(this.decodeStringToByteArray(J,Q))},decodeStringToByteArray(J,Q){this.init_();const ne=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let pe=0;pe<J.length;){const bt=ne[J.charAt(pe++)],xn=pe<J.length?ne[J.charAt(pe)]:0;++pe;const Ei=pe<J.length?ne[J.charAt(pe)]:64;++pe;const p1=pe<J.length?ne[J.charAt(pe)]:64;if(++pe,null==bt||null==xn||null==Ei||null==p1)throw new Je;Ee.push(bt<<2|xn>>4),64!==Ei&&(Ee.push(xn<<4&240|Ei>>2),64!==p1&&Ee.push(Ei<<6&192|p1))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dt=function(J){return function(J){const Q=se(J);return xt.encodeByteArray(Q,!0)}(J).replace(/\./g,"")},ee=function(J){try{return xt.decodeString(J,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function dt(J,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return Q}for(const ne in Q)!Q.hasOwnProperty(ne)||!St(ne)||(J[ne]=dt(J[ne],Q[ne]));return J}function St(J){return"__proto__"!==J}function dn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const In=()=>{try{return dn().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=J&&ee(J[1]);return Q&&JSON.parse(Q)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},At=()=>{var J;return null===(J=In())||void 0===J?void 0:J.config},n1=J=>{var Q;return null===(Q=In())||void 0===Q?void 0:Q[`_${J}`]};class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,ne)=>{this.resolve=Q,this.reject=ne})}wrapCallback(Q){return(ne,Ee)=>{ne?this.reject(ne):this.resolve(Ee),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(ne):Q(ne,Ee))}}}function Zt(J,Q){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=Q||"demo-project",pe=J.iat||0,bt=J.sub||J.user_id;if(!bt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const kn=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:pe,exp:pe+3600,auth_time:pe,sub:bt,user_id:bt,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(kn)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Wt(){var J;const Q=null===(J=In())||void 0===J?void 0:J.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Oe(){return typeof window<"u"||P1()}function P1(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function f1(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function Li(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function os(){const J=Re();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function he(){return!Wt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ge(){try{return"object"==typeof indexedDB}catch{return!1}}function Te(){return new Promise((J,Q)=>{try{let ne=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(Ee);pe.onsuccess=()=>{pe.result.close(),ne||self.indexedDB.deleteDatabase(Ee),J(!0)},pe.onupgradeneeded=()=>{ne=!1},pe.onerror=()=>{var bt;Q((null===(bt=pe.error)||void 0===bt?void 0:bt.message)||"")}}catch(ne){Q(ne)}})}class be extends Error{constructor(Q,ne,Ee){super(ne),this.code=Q,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ct.prototype.create)}}class ct{constructor(Q,ne,Ee){this.service=Q,this.serviceName=ne,this.errors=Ee}create(Q,...ne){const Ee=ne[0]||{},pe=`${this.service}/${Q}`,bt=this.errors[Q],kn=bt?function Pn(J,Q){return J.replace(O1,(ne,Ee)=>{const pe=Q[Ee];return null!=pe?String(pe):`<${Ee}?>`})}(bt,Ee):"Error";return new be(pe,`${this.serviceName}: ${kn} (${pe}).`,Ee)}}const O1=/\{\$([^}]+)}/g;function Cs(J,Q){return Object.prototype.hasOwnProperty.call(J,Q)}function Ii(J){for(const Q in J)if(Object.prototype.hasOwnProperty.call(J,Q))return!1;return!0}function Co(J,Q){if(J===Q)return!0;const ne=Object.keys(J),Ee=Object.keys(Q);for(const pe of ne){if(!Ee.includes(pe))return!1;const bt=J[pe],kn=Q[pe];if(aa(bt)&&aa(kn)){if(!Co(bt,kn))return!1}else if(bt!==kn)return!1}for(const pe of Ee)if(!ne.includes(pe))return!1;return!0}function aa(J){return null!==J&&"object"==typeof J}function ca(J){const Q=[];for(const[ne,Ee]of Object.entries(J))Array.isArray(Ee)?Ee.forEach(pe=>{Q.push(encodeURIComponent(ne)+"="+encodeURIComponent(pe))}):Q.push(encodeURIComponent(ne)+"="+encodeURIComponent(Ee));return Q.length?"&"+Q.join("&"):""}function ps(J){const Q={};return J.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[pe,bt]=Ee.split("=");Q[decodeURIComponent(pe)]=decodeURIComponent(bt)}}),Q}function Ls(J){const Q=J.indexOf("?");if(!Q)return"";const ne=J.indexOf("#",Q);return J.substring(Q,ne>0?ne:void 0)}function Er(J,Q){const ne=new $s(J,Q);return ne.subscribe.bind(ne)}class $s{constructor(Q,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{Q(this)}).catch(Ee=>{this.error(Ee)})}next(Q){this.forEachObserver(ne=>{ne.next(Q)})}error(Q){this.forEachObserver(ne=>{ne.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,ne,Ee){let pe;if(void 0===Q&&void 0===ne&&void 0===Ee)throw new Error("Missing Observer.");pe=function wr(J,Q){if("object"!=typeof J||null===J)return!1;for(const ne of Q)if(ne in J&&"function"==typeof J[ne])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:ne,complete:Ee},void 0===pe.next&&(pe.next=k2),void 0===pe.error&&(pe.error=k2),void 0===pe.complete&&(pe.complete=k2);const bt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch{}}),this.observers.push(pe),bt}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,Q)}sendOne(Q,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{ne(this.observers[Q])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k2(){}function la(J){return J&&J._delegate?J._delegate:J}},627:(n2,u1,Ve)=>{"use strict";var H={};Ve.r(H),Ve.d(H,{afterMain:()=>W1e,afterRead:()=>j1e,afterWrite:()=>X1e,applyStyles:()=>vz,arrow:()=>iie,auto:()=>WM,basePlacements:()=>Fd,beforeMain:()=>G1e,beforeRead:()=>B1e,beforeWrite:()=>q1e,bottom:()=>Zo,clippingParents:()=>V1e,computeStyles:()=>xz,createPopper:()=>Iz,createPopperBase:()=>Lct,createPopperLite:()=>Pct,detectOverflow:()=>Gd,end:()=>Vd,eventListeners:()=>Ez,flip:()=>lie,hide:()=>fie,left:()=>Kr,main:()=>$1e,modifierPhases:()=>Y1e,offset:()=>hie,placements:()=>_z,popper:()=>Ud,popperGenerator:()=>ZM,popperOffsets:()=>Lz,preventOverflow:()=>pie,read:()=>H1e,reference:()=>U1e,right:()=>Qo,start:()=>l8,top:()=>qr,variationPlacements:()=>gz,viewport:()=>mz,write:()=>K1e});let Fe=null,wn=1;const xt=Symbol("SIGNAL");function Je(n){const e=Fe;return Fe=n,e}const le={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dn(n){if((!Zt(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==wn)){if(!n.producerMustRecompute(n)&&!G1(n))return n.dirty=!1,void(n.lastCleanEpoch=wn);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=wn}}function In(n){return n&&(n.nextProducerIndex=0),Je(n)}function G1(n){Re(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(dn(t),i!==t.version))return!0}return!1}function At(n){if(Re(n),Zt(n))for(let e=0;e<n.producerNode.length;e++)c1(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function c1(n,e){if(function Tn(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),1===n.liveConsumerNode.length&&function Wt(n){return void 0!==n.producerNode}(n))for(let i=0;i<n.producerNode.length;i++)c1(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],s=n.liveConsumerNode[e];Re(s),s.producerIndexOfThis[i]=e}}function Zt(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Re(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let er=null;function Rn(n){return"function"==typeof n}function Ui(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Cs=Ui(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Gs(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ii{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const r of t)r.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Rn(i))try{i()}catch(r){e=r instanceof Cs?r.errors:[r]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const r of s)try{aa(r)}catch(o){e=e??[],o instanceof Cs?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Cs(e)}}add(e){var t;if(e&&e!==this)if(this.closed)aa(e);else{if(e instanceof Ii){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Gs(t,e)}remove(e){const{_finalizers:t}=this;t&&Gs(t,e),e instanceof Ii&&e._removeParent(this)}}Ii.EMPTY=(()=>{const n=new Ii;return n.closed=!0,n})();const y3=Ii.EMPTY;function Co(n){return n instanceof Ii||n&&"closed"in n&&Rn(n.remove)&&Rn(n.add)&&Rn(n.unsubscribe)}function aa(n){Rn(n)?n():n.unsubscribe()}const tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ca={setTimeout(n,e,...t){const{delegate:i}=ca;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ca;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ps(n){ca.setTimeout(()=>{const{onUnhandledError:e}=tr;if(!e)throw n;e(n)})}function Ls(){}const Bi=v2("C",void 0,void 0);function v2(n,e,t){return{kind:n,value:e,error:t}}let wr=null;function k2(n){if(tr.useDeprecatedSynchronousErrorHandling){const e=!wr;if(e&&(wr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=wr;if(wr=null,t)throw i}}else n()}class Hi extends Ii{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Co(e)&&e.add(this)):this.destination=Tr}static create(e,t,i){return new Qr(e,t,i)}next(e){this.isStopped?Jr(function $s(n){return v2("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Jr(function Er(n){return v2("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jr(Bi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w1=Function.prototype.bind;function zi(n,e){return w1.call(n,e)}class nr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){bs(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){bs(i)}else bs(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){bs(t)}}}class Qr extends Hi{constructor(e,t,i){let s;if(super(),Rn(e)||!e)s={next:e??void 0,error:t??void 0,complete:i??void 0};else{let r;this&&tr.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&zi(e.next,r),error:e.error&&zi(e.error,r),complete:e.complete&&zi(e.complete,r)}):s=e}this.destination=new nr(s)}}function bs(n){tr.useDeprecatedSynchronousErrorHandling?function Is(n){tr.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=n)}(n):ps(n)}function Jr(n,e){const{onStoppedNotification:t}=tr;t&&ca.setTimeout(()=>t(n,e))}const Tr={closed:!0,next:Ls,error:function v3(n){throw n},complete:Ls},M2="function"==typeof Symbol&&Symbol.observable||"@@observable";function ir(n){return n}function ka(n){return 0===n.length?ir:1===n.length?n[0]:function(t){return n.reduce((i,s)=>s(i),t)}}let Z1=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,s){const r=function Q(n){return n&&n instanceof Hi||function J(n){return n&&Rn(n.next)&&Rn(n.error)&&Rn(n.complete)}(n)&&Co(n)}(t)?t:new Qr(t,i,s);return k2(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=la(i))((s,r)=>{const o=new Qr({next:a=>{try{t(a)}catch(c){r(c),o.unsubscribe()}},error:r,complete:s});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[M2](){return this}pipe(...t){return ka(t)(this)}toPromise(t){return new(t=la(t))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=e=>new n(e),n})();function la(n){var e;return null!==(e=n??tr.Promise)&&void 0!==e?e:Promise}const ne=Ui(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ee=(()=>{class n extends Z1{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new pe(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new ne}next(t){k2(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){k2(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){k2(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:s,observers:r}=this;return i||s?y3:(this.currentObservers=null,r.push(t),new Ii(()=>{this.currentObservers=null,Gs(r,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:s,isStopped:r}=this;i?t.error(s):r&&t.complete()}asObservable(){const t=new Z1;return t.source=this,t}}return n.create=(e,t)=>new pe(e,t),n})();class pe extends Ee{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:y3}}class bt extends Ee{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function kn(n){return Rn(n?.lift)}function xn(n){return e=>{if(kn(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function L1(n,e,t,i,s){return new Ei(n,e,t,i,s)}class Ei extends Hi{constructor(e,t,i,s,r,o){super(e),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=s?function(a){try{s(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Bt(n,e){return xn((t,i)=>{let s=0;t.subscribe(L1(i,r=>{i.next(n.call(e,r,s++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const gs="https://g.co/ng/security#xss";class We extends Error{constructor(e,t){super(function Gi(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Eo(n){return{toString:n}.toString()}const a2="__parameters__";function io(n,e,t){return Eo(()=>{const i=function ga(n){return function(...t){if(n){const i=n(...t);for(const s in i)this[s]=i[s]}}}(e);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(a2)?c[a2]:Object.defineProperty(c,a2,{value:[]})[a2];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}const _i=globalThis;function U1(n){for(let e in n)if(n[e]===U1)return e;throw Error("Could not find renamed property on target object.")}function _s(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(_s).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function l5(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Bb=U1({__forward_ref__:U1});function zl(n){return n.__forward_ref__=zl,n.toString=function(){return _s(this())},n}function Wn(n){return Y0(n)?n():n}function Y0(n){return"function"==typeof n&&n.hasOwnProperty(Bb)&&n.__forward_ref__===zl}function Ft(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ga(n){return Xm(n,d5)||Xm(n,jb)}function Xm(n,e){return n.hasOwnProperty(e)?n[e]:null}function u5(n){return n&&(n.hasOwnProperty(rf)||n.hasOwnProperty(bR))?n[rf]:null}const d5=U1({\u0275prov:U1}),rf=U1({\u0275inj:U1}),jb=U1({ngInjectableDef:U1}),bR=U1({ngInjectorDef:U1});class rt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ft({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $a(n){return n&&!!n.\u0275providers}const P3=U1({\u0275cmp:U1}),cf=U1({\u0275dir:U1}),lf=U1({\u0275pipe:U1}),eg=U1({\u0275mod:U1}),Ic=U1({\u0275fac:U1}),Nl=U1({__NG_ELEMENT_ID__:U1}),tg=U1({__NG_ENV_ID__:U1});function Zn(n){return"string"==typeof n?n:null==n?"":String(n)}function ig(n,e){throw new We(-201,!1)}var m1=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(m1||{});let sg;function Wa(){return sg}function or(n){const e=sg;return sg=n,e}function rg(n,e,t){const i=Ga(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&m1.Optional?null:void 0!==e?e:void ig()}const $i={},uf="__NG_DI_FLAG__",Z0="ngTempTokenPath",df=/\n/gm,og="__source";let N3;function To(n){const e=N3;return N3=n,e}function ag(n,e=m1.Default){if(void 0===N3)throw new We(-203,!1);return null===N3?rg(n,void 0,e):N3.get(n,e&m1.Optional?null:void 0,e)}function ut(n,e=m1.Default){return(Wa()||ag)(Wn(n),e)}function Ke(n,e=m1.Default){return ut(n,Q0(e))}function Q0(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function p5(n){const e=[];for(let t=0;t<n.length;t++){const i=Wn(n[t]);if(Array.isArray(i)){if(0===i.length)throw new We(900,!1);let s,r=m1.Default;for(let o=0;o<i.length;o++){const a=i[o],c=Kb(a);"number"==typeof c?-1===c?s=a.token:r|=c:s=a}e.push(ut(s,r))}else e.push(ut(i))}return e}function D3(n,e){return n[uf]=e,n.prototype[uf]=e,n}function Kb(n){return n[uf]}const zc=D3(io("Optional"),8),_a=D3(io("SkipSelf"),4);function R3(n,e){return n.hasOwnProperty(Ic)?n[Ic]:null}function J0(n,e){n.forEach(t=>Array.isArray(t)?J0(t,e):e(t))}function Rl(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function m5(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}const ya={},k1=[],So=new rt(""),_5=new rt("",-1),mf=new rt("");class e4{get(e,t=$i){if(t===$i){const i=new Error(`NullInjectorError: No provider for ${_s(e)}!`);throw i.name="NullInjectorError",i}return t}}var y5=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(y5||{}),zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(zr||{}),Ao=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ao||{});function gf(n,e,t){let i=n.length;for(;;){const s=n.indexOf(e,t);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=e.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}t=s+1}}function _f(n,e,t){let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const r=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,r)}else{const r=s,o=t[++i];t4(r)?n.setProperty(e,r,o):n.setAttribute(e,r,o),i++}}return i}function v5(n){return 3===n||4===n||6===n}function t4(n){return 64===n.charCodeAt(0)}function Lo(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?t=s:0===t||M5(n,t,s,null,-1===t||2===t?e[++i]:null)}}return n}function M5(n,e,t,i,s){let r=0,o=n.length;if(-1===e)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,e),r=o+1),n.splice(r++,0,t),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}const fg="ng-template";function Qb(n,e,t,i){let s=0;if(i){for(;s<e.length&&"string"==typeof e[s];s+=2)if("class"===e[s]&&-1!==gf(e[s+1].toLowerCase(),t,0))return!0}else if(yf(n))return!1;if(s=e.indexOf(1,s),s>-1){let r;for(;++s<e.length&&"string"==typeof(r=e[s]);)if(r.toLowerCase()===t)return!0}return!1}function yf(n){return 4===n.type&&n.value!==fg}function vf(n,e,t){return e===(4!==n.type||t?n.value:fg)}function hg(n,e,t){let i=4;const s=n.attrs,r=null!==s?function Mf(n){for(let e=0;e<n.length;e++)if(v5(n[e]))return e;return n.length}(s):0;let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!vf(n,c,t)||""===c&&1===e.length){if(Io(i))return!1;o=!0}}else if(8&i){if(null===s||!Qb(n,s,c,t)){if(Io(i))return!1;o=!0}}else{const l=e[++a],u=Jb(c,s,yf(n),t);if(-1===u){if(Io(i))return!1;o=!0;continue}if(""!==l){let d;if(d=u>r?"":s[u+1].toLowerCase(),2&i&&l!==d){if(Io(i))return!1;o=!0}}}}else{if(!o&&!Io(i)&&!Io(c))return!1;if(o&&Io(c))continue;o=!1,i=c|1&i}}return Io(i)||o}function Io(n){return!(1&n)}function Jb(n,e,t,i){if(null===e)return-1;let s=0;if(i||!t){let r=!1;for(;s<e.length;){const o=e[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=e[++s];for(;"string"==typeof a;)a=e[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function tx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function C5(n,e,t=!1){for(let i=0;i<e.length;i++)if(hg(n,e[i],t))return!0;return!1}function Cf(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function b5(n,e){return n?":not("+e.trim()+")":e}function nx(n){let e=n[0],t=1,i=2,s="",r=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!Io(o)&&(e+=b5(r,s),s=""),i=o,r=r||!Io(i);t++}return""!==s&&(e+=b5(r,s)),e}function c2(n){return Eo(()=>{const e=mg(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===y5.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zr.Emulated,styles:n.styles||k1,_:null,schemas:n.schemas||null,tView:null,id:""};x5(t);const i=n.dependencies;return t.directiveDefs=E5(i,!1),t.pipeDefs=E5(i,!0),t.id=function Ef(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const s of t)e=Math.imul(31,e)+s.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function bf(n){return y1(n)||Ps(n)}function xf(n){return null!==n}function V2(n){return Eo(()=>({type:n.type,bootstrap:n.bootstrap||k1,declarations:n.declarations||k1,imports:n.imports||k1,exports:n.exports||k1,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pg(n,e){if(null==n)return ya;const t={};for(const i in n)if(n.hasOwnProperty(i)){const s=n[i];let r,o,a=Ao.None;Array.isArray(s)?(a=s[0],r=s[1],o=s[2]??r):(r=s,o=s),e?(t[r]=a!==Ao.None?[i,a]:i,e[r]=o):t[r]=i}return t}function Ks(n){return Eo(()=>{const e=mg(n);return x5(e),e})}function y1(n){return n[P3]||null}function Ps(n){return n[cf]||null}function l2(n){return n[lf]||null}function C2(n,e){const t=n[eg]||null;if(!t&&!0===e)throw new Error(`Type ${_s(n)} does not have '\u0275mod' property.`);return t}function mg(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ya,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||k1,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pg(n.inputs,e),outputs:pg(n.outputs),debugInfo:null}}function x5(n){n.features?.forEach(e=>e(n))}function E5(n,e){if(!n)return null;const t=e?l2:bf;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(xf)}function wf(...n){return{\u0275providers:n4(0,n),\u0275fromNgModule:!0}}function n4(n,...e){const t=[],i=new Set;let s;const r=o=>{t.push(o)};return J0(e,o=>{const a=o;kl(a,r,[],i)&&(s||=[],s.push(a))}),void 0!==s&&T5(s,r),t}function T5(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:s}=n[t];Tf(s,r=>{e(r,i)})}}function kl(n,e,t,i){if(!(n=Wn(n)))return!1;let s=null,r=u5(n);const o=!r&&y1(n);if(r||o){if(o&&!o.standalone)return!1;s=n}else{const c=n.ngModule;if(r=u5(c),!r)return!1;s=c}const a=i.has(s);if(o){if(a)return!1;if(i.add(s),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)kl(l,e,t,i)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let l;i.add(s);try{J0(r.imports,u=>{kl(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&T5(l,e)}if(!a){const l=R3(s)||(()=>new s);e({provide:s,useFactory:l,deps:k1},s),e({provide:mf,useValue:s,multi:!0},s),e({provide:So,useValue:()=>ut(s),multi:!0},s)}const c=r.providers;if(null!=c&&!a){const l=n;Tf(c,u=>{e(u,l)})}}}return s!==n&&void 0!==n.providers}function Tf(n,e){for(let t of n)$a(t)&&(t=t.\u0275providers),Array.isArray(t)?Tf(t,e):e(t)}const _g=U1({provide:String,useValue:U1});function S5(n){return null!==n&&"object"==typeof n&&_g in n}function Pc(n){return"function"==typeof n}const Lf=new rt(""),A5={},rx={};let Fl;function L5(){return void 0===Fl&&(Fl=new e4),Fl}class cr{}class k3 extends cr{get destroyed(){return this._destroyed}constructor(e,t,i,s){super(),this.parent=t,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zf(e,o=>this.processProvider(o)),this.records.set(_5,i4(void 0,this)),s.has("environment")&&this.records.set(cr,i4(void 0,this));const r=this.records.get(Lf);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(mf,k1,m1.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=Je(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Je(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=To(this),i=or(void 0);try{return e()}finally{To(t),or(i)}}get(e,t=$i,i=m1.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tg))return e[tg](this);i=Q0(i);const r=To(this),o=or(void 0);try{if(!(i&m1.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function lx(n){return"function"==typeof n||"object"==typeof n&&n instanceof rt}(e)&&Ga(e);c=l&&this.injectableDefInScope(l)?i4(If(e),A5):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&m1.Self?L5():this.parent).get(e,t=i&m1.Optional&&t===$i?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Z0]=a[Z0]||[]).unshift(_s(e)),r)throw a;return function ff(n,e,t,i){const s=n[Z0];throw e[og]&&s.unshift(e[og]),n.message=function cg(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let s=_s(e);if(Array.isArray(e))s=e.map(_s).join(" -> ");else if("object"==typeof e){let r=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):_s(a)))}s=`{${r.join(", ")}}`}return`${t}${i?"("+i+")":""}[${s}]: ${n.replace(df,"\n  ")}`}("\n"+n.message,s,t,i),n.ngTokenPath=s,n[Z0]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{or(o),To(r)}}resolveInjectorInitializers(){const e=Je(null),t=To(this),i=or(void 0);try{const r=this.get(So,k1,m1.Self);for(const o of r)o()}finally{To(t),or(i),Je(e)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(_s(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new We(205,!1)}processProvider(e){let t=Pc(e=Wn(e))?e:Wn(e&&e.provide);const i=function ox(n){return S5(n)?i4(void 0,n.useValue):i4(function vg(n,e,t){let i;if(Pc(n)){const s=Wn(n);return R3(s)||If(s)}if(S5(n))i=()=>Wn(n.useValue);else if(function yg(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...p5(n.deps||[]));else if(function Sf(n){return!(!n||!n.useExisting)}(n))i=()=>ut(Wn(n.useExisting));else{const s=Wn(n&&(n.useClass||n.provide));if(!function ax(n){return!!n.deps}(n))return R3(s)||If(s);i=()=>new s(...p5(n.deps))}return i}(n),A5)}(e);if(!Pc(e)&&!0===e.multi){let s=this.records.get(t);s||(s=i4(void 0,A5,!0),s.factory=()=>p5(s.multi),this.records.set(t,s)),t=e,s.multi.push(e)}this.records.set(t,i)}hydrate(e,t){const i=Je(null);try{return t.value===A5&&(t.value=rx,t.value=t.factory()),"object"==typeof t.value&&t.value&&function cx(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Je(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Wn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function If(n){const e=Ga(n),t=null!==e?e.factory:R3(n);if(null!==t)return t;if(n instanceof rt)throw new We(204,!1);if(n instanceof Function)return function I5(n){if(n.length>0)throw new We(204,!1);const t=function Hb(n){return n&&(n[d5]||n[jb])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new We(204,!1)}function i4(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function zf(n,e){for(const t of n)Array.isArray(t)?zf(t,e):t&&$a(t)?zf(t.\u0275providers,e):e(t)}function qa(n,e){n instanceof k3&&n.assertNotDestroyed();const i=To(n),s=or(void 0);try{return e()}finally{To(i),or(s)}}function z5(){return void 0!==Wa()||null!=function qb(){return N3}()}const Di=0,_t=1,Sn=2,ws=3,Ma=4,Ds=5,b2=6,Ka=7,bi=8,ys=9,Ca=10,Xn=11,Bl=12,Mg=13,r4=14,Ri=15,F3=16,Hl=17,Xa=18,so=19,Cg=20,Nc=21,o4=22,ro=23,pn=25,Of=1,oo=7,a4=9,Qi=10;var D5=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(D5||{});function Rs(n){return Array.isArray(n)&&"object"==typeof n[Of]}function x2(n){return Array.isArray(n)&&!0===n[Of]}function kf(n){return!!(4&n.flags)}function V3(n){return n.componentOffset>-1}function Gl(n){return!(1&~n.flags)}function Pr(n){return!!n.template}function $l(n){return!!(512&n[Sn])}class Ag{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Lg(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function Nr(){return Ig}function Ig(n){return n.type.prototype.ngOnChanges&&(n.setInput=ql),Dr}function Dr(){const n=zg(this),e=n?.current;if(e){const t=n.previous;if(t===ya)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function ql(n,e,t,i,s){const r=this.declaredInputs[i],o=zg(n)||function Uf(n,e){return n[Vf]=e}(n,{previous:ya,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[r];a[r]=new Ag(l&&l.currentValue,t,c===ya),Lg(n,e,s,t)}Nr.ngInherit=!0;const Vf="__ngSimpleChanges__";function zg(n){return n[Vf]||null}const zo=function(n,e,t){};function B1(n){for(;Array.isArray(n);)n=n[Di];return n}function B2(n,e){return B1(e[n.index])}function Xs(n,e){return n.data[e]}function H2(n,e){const t=e[n];return Rs(t)?t:t[Di]}function Po(n){return!(128&~n[Sn])}function Rr(n,e){return null==e?null:n[e]}function Hf(n){n[Hl]=0}function Dg(n){1024&n[Sn]||(n[Sn]|=1024,Po(n)&&F5(n))}function k5(n){return!!(9216&n[Sn]||n[ro]?.dirty)}function jf(n){n[Ca].changeDetectionScheduler?.notify(8),64&n[Sn]&&(n[Sn]|=1024),k5(n)&&F5(n)}function F5(n){n[Ca].changeDetectionScheduler?.notify(0);let e=f(n);for(;null!==e&&!(8192&e[Sn])&&(e[Sn]|=8192,Po(e));)e=f(e)}function V5(n,e){if(!(256&~n[Sn]))throw new We(911,!1);null===n[Nc]&&(n[Nc]=[]),n[Nc].push(e)}function f(n){const e=n[ws];return x2(e)?e[ws]:e}const p={lFrame:KR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let V=!1;function Qt(){return p.bindingsEnabled}function Ht(){return null!==p.skipHydrationRootTNode}function Le(){return p.lFrame.lView}function g1(){return p.lFrame.tView}function l4(n){return p.lFrame.contextLView=n,n[bi]}function Zl(n){return p.lFrame.contextLView=null,n}function ri(){let n=B5();for(;null!==n&&64===n.type;)n=n.parent;return n}function B5(){return p.lFrame.currentTNode}function Do(n,e){const t=p.lFrame;t.currentTNode=n,t.isParent=e}function Ql(){return p.lFrame.isParent}function $f(){p.lFrame.isParent=!1}function HR(){return V}function jR(n){V=n}function Or(){const n=p.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Qa(){return p.lFrame.bindingIndex++}function z3e(n,e){const t=p.lFrame;t.bindingIndex=t.bindingRootIndex=n,xx(e)}function xx(n){p.lFrame.currentDirectiveIndex=n}function wx(){return p.lFrame.currentQueryIndex}function Og(n){p.lFrame.currentQueryIndex=n}function N3e(n){const e=n[_t];return 2===e.type?e.declTNode:1===e.type?n[Ds]:null}function WR(n,e,t){if(t&m1.SkipSelf){let s=e,r=n;for(;!(s=s.parent,null!==s||t&m1.Host||(s=N3e(r),null===s||(r=r[r4],10&s.type))););if(null===s)return!1;e=s,n=r}const i=p.lFrame=qR();return i.currentTNode=e,i.lView=n,!0}function Tx(n){const e=qR(),t=n[_t];p.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qR(){const n=p.lFrame,e=null===n?null:n.child;return null===e?KR(n):e}function KR(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function XR(){const n=p.lFrame;return p.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const YR=XR;function Sx(){const n=XR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function j2(){return p.lFrame.selectedIndex}function Jl(n){p.lFrame.selectedIndex=n}function Wi(){const n=p.lFrame;return Xs(n.tView,n.selectedIndex)}let QR=!0;function Wf(){return QR}function Dc(n){QR=n}function kg(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const r=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=r;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Fg(n,e,t){JR(n,e,3,t)}function Vg(n,e,t,i){(3&n[Sn])===t&&JR(n,e,t,i)}function Ax(n,e){let t=n[Sn];(3&t)===e&&(t&=16383,t+=1,n[Sn]=t)}function JR(n,e,t,i){const r=i??-1,o=e.length-1;let a=0;for(let c=void 0!==i?65535&n[Hl]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[Hl]+=65536),(a<r||-1==r)&&(U3e(n,t,e,c),n[Hl]=(4294901760&n[Hl])+c+2),c++}function eO(n,e){zo(4,n,e);const t=Je(null);try{e.call(n)}finally{Je(t),zo(5,n,e)}}function U3e(n,e,t,i){const s=t[i]<0,r=t[i+1],a=n[s?-t[i]:t[i]];s?n[Sn]>>14<n[Hl]>>16&&(3&n[Sn])===e&&(n[Sn]+=16384,eO(a,r)):eO(a,r)}const H5=-1;class qf{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}const Ix={};class e6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Q0(i);const s=this.injector.get(e,Ix,i);return s!==Ix||t===Ix?s:this.parentInjector.get(e,t,i)}}function zx(n){return n!==H5}function Kf(n){return 32767&n}function Xf(n,e){let t=function G3e(n){return n>>16}(n),i=e;for(;t>0;)i=i[r4],t--;return i}let Px=!0;function Ug(n){const e=Px;return Px=n,e}const nO=255,iO=5;let W3e=0;const Rc={};function Bg(n,e){const t=sO(n,e);if(-1!==t)return t;const i=e[_t];i.firstCreatePass&&(n.injectorIndex=e.length,Nx(i.data,n),Nx(e,null),Nx(i.blueprint,null));const s=Hg(n,e),r=n.injectorIndex;if(zx(s)){const o=Kf(s),a=Xf(s,e),c=a[_t].data;for(let l=0;l<8;l++)e[r+l]=a[o+l]|c[o+l]}return e[r+8]=s,r}function Nx(n,e){n.push(0,0,0,0,0,0,0,0,e)}function sO(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Hg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,s=e;for(;null!==s;){if(i=dO(s),null===i)return H5;if(t++,s=s[r4],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return H5}function Dx(n,e,t){!function q3e(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Nl)&&(i=t[Nl]),null==i&&(i=t[Nl]=W3e++);const s=i&nO;e.data[n+(s>>iO)]|=1<<s}(n,e,t)}function rO(n,e,t){if(t&m1.Optional||void 0!==n)return n;ig()}function oO(n,e,t,i){if(t&m1.Optional&&void 0===i&&(i=null),!(t&(m1.Self|m1.Host))){const s=n[ys],r=or(void 0);try{return s?s.get(e,i,t&m1.Optional):rg(e,i,t&m1.Optional)}finally{or(r)}}return rO(i,0,t)}function aO(n,e,t,i=m1.Default,s){if(null!==n){if(2048&e[Sn]&&!(i&m1.Self)){const o=function Q3e(n,e,t,i,s){let r=n,o=e;for(;null!==r&&null!==o&&2048&o[Sn]&&!(512&o[Sn]);){const a=cO(r,o,t,i|m1.Self,Rc);if(a!==Rc)return a;let c=r.parent;if(!c){const l=o[Cg];if(l){const u=l.get(t,Rc,i);if(u!==Rc)return u}c=dO(o),o=o[r4]}r=c}return s}(n,e,t,i,Rc);if(o!==Rc)return o}const r=cO(n,e,t,i,Rc);if(r!==Rc)return r}return oO(e,t,i,s)}function cO(n,e,t,i,s){const r=function Y3e(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Nl)?n[Nl]:void 0;return"number"==typeof e?e>=0?e&nO:Z3e:e}(t);if("function"==typeof r){if(!WR(e,n,i))return i&m1.Host?rO(s,0,i):oO(e,t,i,s);try{let o;if(o=r(i),null!=o||i&m1.Optional)return o;ig()}finally{YR()}}else if("number"==typeof r){let o=null,a=sO(n,e),c=H5,l=i&m1.Host?e[Ri][Ds]:null;for((-1===a||i&m1.SkipSelf)&&(c=-1===a?Hg(n,e):e[a+8],c!==H5&&uO(i,!1)?(o=e[_t],a=Kf(c),e=Xf(c,e)):a=-1);-1!==a;){const u=e[_t];if(lO(r,a,u.data)){const d=X3e(a,e,t,o,i,l);if(d!==Rc)return d}c=e[a+8],c!==H5&&uO(i,e[_t].data[a+8]===l)&&lO(r,a,e)?(o=u,a=Kf(c),e=Xf(c,e)):a=-1}}return s}function X3e(n,e,t,i,s,r){const o=e[_t],a=o.data[n+8],u=jg(a,o,t,null==i?V3(a)&&Px:i!=o&&!!(3&a.type),s&m1.Host&&r===a);return null!==u?t6(e,o,u,a):Rc}function jg(n,e,t,i,s){const r=n.providerIndexes,o=e.data,a=1048575&r,c=n.directiveStart,u=r>>20,h=s?a+u:n.directiveEnd;for(let m=i?a:a+u;m<h;m++){const _=o[m];if(m<c&&t===_||m>=c&&_.type===t)return m}if(s){const m=o[c];if(m&&Pr(m)&&m.type===t)return c}return null}function t6(n,e,t,i){let s=n[t];const r=e.data;if(function B3e(n){return n instanceof qf}(s)){const o=s;o.resolving&&function ng(n,e){throw e&&e.join(" > "),new We(-200,n)}(function q1(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Zn(n)}(r[t]));const a=Ug(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?or(o.injectImpl):null;WR(n,i,m1.Default);try{s=n[t]=o.factory(void 0,r,n,i),e.firstCreatePass&&t>=i.directiveStart&&function V3e(n,e,t){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=e.type.prototype;if(i){const o=Ig(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}s&&(t.preOrderHooks??=[]).push(0-n,s),r&&((t.preOrderHooks??=[]).push(n,r),(t.preOrderCheckHooks??=[]).push(n,r))}(t,r[t],e)}finally{null!==l&&or(l),Ug(a),o.resolving=!1,YR()}}return s}function lO(n,e,t){return!!(t[e+(n>>iO)]&1<<n)}function uO(n,e){return!(n&m1.Self||n&m1.Host&&e)}class u2{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return aO(this._tNode,this._lView,e,Q0(i),t)}}function Z3e(){return new u2(ri(),Le())}function Rx(n){return Eo(()=>{const e=n.prototype.constructor,t=e[Ic]||Ox(e),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Ic]||Ox(s);if(r&&r!==t)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function Ox(n){return Y0(n)?()=>{const e=Ox(Wn(n));return e&&e()}:R3(n)}function dO(n){const e=n[_t],t=e.type;return 2===t?e.declTNode:1===t?n[Ds]:null}function gO(n,e=null,t=null,i){const s=_O(n,e,t,i);return s.resolveInjectorInitializers(),s}function _O(n,e=null,t=null,i,s=new Set){const r=[t||k1,wf(n)];return i=i||("object"==typeof n?void 0:_s(n)),new k3(r,e||L5(),i||null,s)}class E2{static#e=this.THROW_IF_NOT_FOUND=$i;static#t=this.NULL=new e4;static create(e,t){if(Array.isArray(e))return gO({name:""},t,e,"");{const i=e.name??"";return gO({name:i},e.parent,e.providers,i)}}static#n=this.\u0275prov=Ft({token:E2,providedIn:"any",factory:()=>ut(_5)});static#i=this.__NG_ELEMENT_ID__=-1}new rt("").__NG_ELEMENT_ID__=n=>{const e=ri();if(null===e)throw new We(204,!1);if(2&e.type)return e.value;if(n&m1.Optional)return null;throw new We(204,!1)};function Fx(n){return n.ngOriginalError}const vO=!0;let Zf=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=c0e;static#t=this.__NG_ENV_ID__=t=>t}return n})();class a0e extends Zf{constructor(e){super(),this._lView=e}onDestroy(e){return V5(this._lView,e),()=>function y(n,e){if(null===n[Nc])return;const t=n[Nc].indexOf(e);-1!==t&&n[Nc].splice(t,1)}(this._lView,e)}}function c0e(){return new a0e(Le())}let n6=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Ft({token:n,providedIn:"root",factory:()=>new n})}return n})();const lr=class l0e extends Ee{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,z5()&&(this.destroyRef=Ke(Zf,{optional:!0})??void 0,this.pendingTasks=Ke(n6,{optional:!0})??void 0)}emit(e){const t=Je(null);try{super.next(e)}finally{Je(t)}}subscribe(e,t,i){let s=e,r=t||(()=>null),o=i;if(e&&"object"==typeof e){const c=e;s=c.next?.bind(c),r=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(r=this.wrapInTimeout(r),s&&(s=this.wrapInTimeout(s)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:s,error:r,complete:o});return e instanceof Ii&&e.add(a),a}wrapInTimeout(e){return t=>{const i=this.pendingTasks?.add();setTimeout(()=>{e(t),void 0!==i&&this.pendingTasks?.remove(i)})}}};function $g(...n){}function MO(n){let e,t;function i(){n=$g;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function CO(n){return queueMicrotask(()=>n()),()=>{n=$g}}const Vx="isAngularZone",Wg=Vx+"_ID";let u0e=0;class K1{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lr(!1),this.onMicrotaskEmpty=new lr(!1),this.onStable=new lr(!1),this.onError=new lr(!1);const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:r=vO}=e;if(typeof Zone>"u")throw new We(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!s&&i,o.shouldCoalesceRunChangeDetection=s,o.callbackScheduled=!1,o.scheduleInRootZone=r,function h0e(n){const e=()=>{!function f0e(n){function e(){MO(()=>{n.callbackScheduled=!1,Bx(n),n.isCheckStableRunning=!0,Ux(n),n.isCheckStableRunning=!1})}n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Bx(n))}(n)},t=u0e++;n._inner=n._inner.fork({name:"angular",properties:{[Vx]:!0,[Wg]:t,[Wg+t]:!0},onInvokeTask:(i,s,r,o,a,c)=>{if(function p0e(n){return EO(n,"__ignore_ng_zone__")}(c))return i.invokeTask(r,o,a,c);try{return bO(n),i.invokeTask(r,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),xO(n)}},onInvoke:(i,s,r,o,a,c,l)=>{try{return bO(n),i.invoke(r,o,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function m0e(n){return EO(n,"__scheduler_tick__")}(c)&&e(),xO(n)}},onHasTask:(i,s,r,o)=>{i.hasTask(r,o),s===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Bx(n),Ux(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,s,r,o)=>(i.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Vx)}static assertInAngularZone(){if(!K1.isInAngularZone())throw new We(909,!1)}static assertNotInAngularZone(){if(K1.isInAngularZone())throw new We(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,e,d0e,$g,$g);try{return r.runTask(o,t,i)}finally{r.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const d0e={};function Ux(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Bx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function bO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xO(n){n._nesting--,Ux(n)}class Hx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lr,this.onMicrotaskEmpty=new lr,this.onStable=new lr,this.onError=new lr}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,s){return e.apply(t,i)}}function EO(n,e){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[e]}class ba{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Fx(e);for(;t&&Fx(t);)t=Fx(t);return t||null}}const _0e=new rt("",{providedIn:"root",factory:()=>{const n=Ke(K1),e=Ke(ba);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function y0e(){return $5(ri(),Le())}function $5(n,e){return new Oc(B2(n,e))}let Oc=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=y0e}return n})();function TO(n){return n instanceof Oc?n.nativeElement:n}function v0e(){return this._results[Symbol.iterator]()}class Qf{static#e=Symbol.iterator;get changes(){return this._changes??=new lr}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Qf.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=v0e)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function ar(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Zb(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=e[i];if(t&&(s=t(s),r=t(r)),r!==s)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function eh(n){return!(128&~n.flags)}const Gx=new Map;let C0e=0;function $x(n){Gx.delete(n[so])}const qg="__ngContext__";function ur(n,e){Rs(e)?(n[qg]=e[so],function x0e(n){Gx.set(n[so],n)}(e)):n[qg]=e}function OO(n){return FO(n[Bl])}function kO(n){return FO(n[Ma])}function FO(n){for(;null!==n&&!x2(n);)n=n[Ma];return n}let qx;function d4(){if(void 0!==qx)return qx;if(typeof document<"u")return document;throw new We(210,!1)}const q5=new rt("",{providedIn:"root",factory:()=>U0e}),U0e="ng",WO=new rt(""),Ja=new rt("",{providedIn:"platform",factory:()=>"unknown"}),Kx=new rt("",{providedIn:"root",factory:()=>d4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qO=()=>null;function tE(n,e,t=!1){return qO(n,e,t)}const tk=new rt("",{providedIn:"root",factory:()=>!1});let n_,i_;function Y5(n){return function oE(){if(void 0===n_&&(n_=null,_i.trustedTypes))try{n_=_i.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return n_}()?.createHTML(n)||n}function sk(n){return function aE(){if(void 0===i_&&(i_=null,_i.trustedTypes))try{i_=_i.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return i_}()?.createHTML(n)||n}class s6{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gs})`}}class e4e extends s6{getTypeName(){return"HTML"}}class t4e extends s6{getTypeName(){return"Style"}}class n4e extends s6{getTypeName(){return"Script"}}class i4e extends s6{getTypeName(){return"URL"}}class s4e extends s6{getTypeName(){return"ResourceURL"}}function Ro(n){return n instanceof s6?n.changingThisBreaksApplicationSecurity:n}function kc(n,e){const t=function r4e(n){return n instanceof s6&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${gs})`)}return t===e}class d4e{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Y5(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}}class f4e{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Y5(e),t}}const p4e=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function s_(n){return(n=String(n)).match(p4e)?n:"unsafe:"+n}function H3(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ah(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const ck=H3("area,br,col,hr,img,wbr"),lk=H3("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uk=H3("rp,rt"),cE=ah(ck,ah(lk,H3("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ah(uk,H3("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ah(uk,lk)),lE=H3("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dk=ah(lE,H3("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),H3("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),m4e=H3("script,style,template");class g4e{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,s=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)s.push(t),t=v4e(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=y4e(t);if(r){t=r;break}t=s.pop()}return this.buf.join("")}startElement(e){const t=fk(e).toLowerCase();if(!cE.hasOwnProperty(t))return this.sanitizedSomething=!0,!m4e.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),o=r.name,a=o.toLowerCase();if(!dk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=r.value;lE[a]&&(c=s_(c)),this.buf.push(" ",o,'="',pk(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=fk(e).toLowerCase();cE.hasOwnProperty(t)&&!ck.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(pk(e))}}function y4e(n){const e=n.nextSibling;if(e&&n!==e.previousSibling)throw hk(e);return e}function v4e(n){const e=n.firstChild;if(e&&function _4e(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,e))throw hk(e);return e}function fk(n){const e=n.nodeName;return"string"==typeof e?e:"FORM"}function hk(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const M4e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C4e=/([^\#-~ |!])/g;function pk(n){return n.replace(/&/g,"&amp;").replace(M4e,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(C4e,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let r_;function mk(n,e){let t=null;try{r_=r_||function ak(n){const e=new f4e(n);return function h4e(){try{return!!(new window.DOMParser).parseFromString(Y5(""),"text/html")}catch{return!1}}()?new d4e(e):e}(n);let i=e?String(e):"";t=r_.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=t.innerHTML,t=r_.getInertBodyElement(i)}while(i!==r);return Y5((new g4e).sanitizeChildren(uE(t)||t))}finally{if(t){const i=uE(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function uE(n){return"content"in n&&function b4e(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var G2=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(G2||{});function gk(n){const e=ch();return e?sk(e.sanitize(G2.HTML,n)||""):kc(n,"HTML")?sk(Ro(n)):mk(d4(),Zn(n))}function Z5(n){const e=ch();return e?e.sanitize(G2.URL,n)||"":kc(n,"URL")?Ro(n):s_(Zn(n))}function ch(){const n=Le();return n&&n[Ca].sanitizer}function Oo(n){return n instanceof Function?n():n}var f4=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(f4||{});let hE;function pE(n,e){return hE(n,e)}function J5(n,e,t,i,s){if(null!=i){let r,o=!1;x2(i)?r=i:Rs(i)&&(o=!0,i=i[Di]);const a=B1(i);0===n&&null!==t?null==s?zk(e,t,a):r6(e,t,a,s||null,!0):1===n&&null!==t?r6(e,t,a,s||null,!0):2===n?function uh(n,e,t){n.removeChild(null,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=r&&function Y4e(n,e,t,i,s){const r=t[oo];r!==B1(t)&&J5(e,n,i,r,s);for(let a=Qi;a<t.length;a++){const c=t[a];d_(c[_t],c,n,e,i,r)}}(e,n,r,t,s)}}function c_(n,e,t){return n.createElement(e,t)}function Ak(n,e){e[Ca].changeDetectionScheduler?.notify(9),d_(n,e,e[Xn],2,null,null)}function Lk(n,e){const t=n[a4],i=e[ws];(Rs(i)||e[Ri]!==i[ws][Ri])&&(n[Sn]|=D5.HasTransplantedViews),null===t?n[a4]=[e]:t.push(e)}function _E(n,e){const t=n[a4],i=t.indexOf(e);t.splice(i,1)}function lh(n,e){if(n.length<=Qi)return;const t=Qi+e,i=n[t];if(i){const s=i[F3];null!==s&&s!==n&&_E(s,i),e>0&&(n[t-1][Ma]=i[Ma]);const r=m5(n,Qi+e);!function H4e(n,e){Ak(n,e),e[Di]=null,e[Ds]=null}(i[_t],i);const o=r[Xa];null!==o&&o.detachView(r[_t]),i[ws]=null,i[Ma]=null,i[Sn]&=-129}return i}function l_(n,e){if(!(256&e[Sn])){const t=e[Xn];t.destroyNode&&d_(n,e,t,3,null,null),function G4e(n){let e=n[Bl];if(!e)return yE(n[_t],n);for(;e;){let t=null;if(Rs(e))t=e[Bl];else{const i=e[Qi];i&&(t=i)}if(!t){for(;e&&!e[Ma]&&e!==n;)Rs(e)&&yE(e[_t],e),e=e[ws];null===e&&(e=n),Rs(e)&&yE(e[_t],e),t=e&&e[Ma]}e=t}}(e)}}function yE(n,e){if(256&e[Sn])return;const t=Je(null);try{e[Sn]&=-129,e[Sn]|=256,e[ro]&&At(e[ro]),function q4e(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const s=e[t[i]];if(!(s instanceof qf)){const r=t[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],c=r[o+1];zo(4,a,c);try{c.call(a)}finally{zo(5,a,c)}}else{zo(4,s,r);try{r.call(s)}finally{zo(5,s,r)}}}}}(n,e),function W4e(n,e){const t=n.cleanup,i=e[Ka];if(null!==t)for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const o=t[r+3];o>=0?i[o]():i[-o].unsubscribe(),r+=2}else t[r].call(i[t[r+1]]);null!==i&&(e[Ka]=null);const s=e[Nc];if(null!==s){e[Nc]=null;for(let r=0;r<s.length;r++)(0,s[r])()}}(n,e),1===e[_t].type&&e[Xn].destroy();const i=e[F3];if(null!==i&&x2(e[ws])){i!==e[ws]&&_E(i,e);const s=e[Xa];null!==s&&s.detachView(n)}$x(e)}finally{Je(t)}}function vE(n,e,t){return function Ik(n,e,t){let i=e;for(;null!==i&&168&i.type;)i=(e=i).parent;if(null===i)return t[Di];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:r}=n.data[i.directiveStart+s];if(r===zr.None||r===zr.Emulated)return null}return B2(i,t)}}(n,e.parent,t)}function r6(n,e,t,i,s){n.insertBefore(e,t,i,s)}function zk(n,e,t){n.appendChild(e,t)}function Pk(n,e,t,i,s){null!==i?r6(n,e,t,i,s):zk(n,e,t)}function ME(n,e){return n.parentNode(e)}function Nk(n,e,t){return Rk(n,e,t)}let CE,Rk=function Dk(n,e,t){return 40&n.type?B2(n,t):null};function u_(n,e,t,i){const s=vE(n,i,e),r=e[Xn],a=Nk(i.parent||e[Ds],i,e);if(null!=s)if(Array.isArray(t))for(let c=0;c<t.length;c++)Pk(r,s,t[c],a,!1);else Pk(r,s,t,a,!1);void 0!==CE&&CE(r,i,e,t,s)}function o6(n,e){if(null!==e){const t=e.type;if(3&t)return B2(e,n);if(4&t)return bE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return o6(n,i);{const s=n[e.index];return x2(s)?bE(-1,s):B1(s)}}if(128&t)return o6(n,e.next);if(32&t)return pE(e,n)()||B1(n[e.index]);{const i=kk(n,e);return null!==i?Array.isArray(i)?i[0]:o6(f(n[Ri]),i):o6(n,e.next)}}return null}function kk(n,e){return null!==e?n[Ri][Ds].projection[e.projection]:null}function bE(n,e){const t=Qi+n+1;if(t<e.length){const i=e[t],s=i[_t].firstChild;if(null!==s)return o6(i,s)}return e[oo]}function xE(n,e,t,i,s,r,o){for(;null!=t;){if(128===t.type){t=t.next;continue}const a=i[t.index],c=t.type;if(o&&0===e&&(a&&ur(B1(a),i),t.flags|=2),32&~t.flags)if(8&c)xE(n,e,t.child,i,s,r,!1),J5(e,n,s,a,r);else if(32&c){const l=pE(t,i);let u;for(;u=l();)J5(e,n,s,u,r);J5(e,n,s,a,r)}else 16&c?Vk(n,e,i,t,s,r):J5(e,n,s,a,r);t=o?t.projectionNext:t.next}}function d_(n,e,t,i,s,r){xE(t,i,n.firstChild,e,s,r,!1)}function Vk(n,e,t,i,s,r){const o=t[Ri],c=o[Ds].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)J5(e,n,s,c[l],r);else{let l=c;const u=o[ws];eh(i)&&(l.flags|=128),xE(n,e,l,u,s,r,!0)}}function Uk(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Bk(n,e,t){const{mergedAttrs:i,classes:s,styles:r}=t;null!==i&&_f(n,e,i),null!==s&&Uk(n,e,s),null!==r&&function Q4e(n,e,t){n.setAttribute(e,"style",t)}(n,e,r)}const l1={};function v1(n=1){Hk(g1(),Le(),j2()+n,!1)}function Hk(n,e,t,i){if(!i)if(3&~e[Sn]){const r=n.preOrderHooks;null!==r&&Vg(e,r,0,t)}else{const r=n.preOrderCheckHooks;null!==r&&Fg(e,r,t)}Jl(t)}function Nn(n,e=m1.Default){const t=Le();return null===t?ut(n,e):aO(ri(),t,Wn(n),e)}function Gk(n,e,t,i,s,r){const o=Je(null);try{let a=null;s&Ao.SignalBased&&(a=e[i][xt]),null!==a&&void 0!==a.transformFn&&(r=a.transformFn(r)),s&Ao.HasDecoratorInputTransform&&(r=n.inputTransforms[i].call(e,r)),null!==n.setInput?n.setInput(e,a,r,t,i):Lg(e,a,i,r)}finally{Je(o)}}function f_(n,e,t,i,s,r,o,a,c,l,u){const d=e.blueprint.slice();return d[Di]=s,d[Sn]=204|i,(null!==l||n&&2048&n[Sn])&&(d[Sn]|=2048),Hf(d),d[ws]=d[r4]=n,d[bi]=t,d[Ca]=o||n&&n[Ca],d[Xn]=a||n&&n[Xn],d[ys]=c||n&&n[ys]||null,d[Ds]=r,d[so]=function b0e(){return C0e++}(),d[b2]=u,d[Cg]=l,d[Ri]=2==e.type?n[Ri]:d,d}function a6(n,e,t,i,s){let r=n.data[e];if(null===r)r=function EE(n,e,t,i,s){const r=B5(),o=Ql(),c=n.data[e]=function ole(n,e,t,i,s,r){let o=e?e.injectorIndex:-1,a=0;return Ht()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,t,e,i,s);return null===n.firstChild&&(n.firstChild=c),null!==r&&(o?null==r.child&&null!==c.parent&&(r.child=c):null===r.next&&(r.next=c,c.prev=r)),c}(n,e,t,i,s),function I3e(){return p.lFrame.inI18n}()&&(r.flags|=32);else if(64&r.type){r.type=t,r.value=i,r.attrs=s;const o=function u4(){const n=p.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Do(r,!0),r}function dh(n,e,t,i){if(0===t)return-1;const s=e.length;for(let r=0;r<t;r++)e.push(i),n.blueprint.push(i),n.data.push(null);return s}function $k(n,e,t,i,s){const r=j2(),o=2&i;try{Jl(-1),o&&e.length>pn&&Hk(n,e,pn,!1),zo(o?2:0,s),t(i,s)}finally{Jl(r),zo(o?3:1,s)}}function wE(n,e,t){if(kf(e)){const i=Je(null);try{const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Je(i)}}}function TE(n,e,t){Qt()&&(function hle(n,e,t,i){const s=t.directiveStart,r=t.directiveEnd;V3(t)&&function Mle(n,e,t){const i=B2(e,n),s=Wk(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=h_(n,f_(n,s,null,o,i,e,null,n[Ca].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[s+t.componentOffset]),n.firstCreatePass||Bg(t,e),ur(i,e);const o=t.initialInputs;for(let a=s;a<r;a++){const c=n.data[a],l=t6(e,n,a,t);ur(l,e),null!==o&&Cle(0,a-s,l,c,0,o),Pr(c)&&(H2(t.index,e)[bi]=t6(e,n,a,t))}}(n,e,t,B2(t,e)),!(64&~t.flags)&&Zk(n,e,t))}function SE(n,e,t=B2){const i=e.localNames;if(null!==i){let s=e.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?t(e,n):n[o];n[s++]=a}}}function Wk(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=AE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function AE(n,e,t,i,s,r,o,a,c,l,u){const d=pn+i,h=d+s,m=function ele(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:l1);return t}(d,h),_="function"==typeof l?l():l;return m[_t]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}let qk=()=>null;function Kk(n,e,t,i,s){for(let r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(void 0===o)continue;i??={};let a,c=Ao.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=r;if(null!==s){if(!s.hasOwnProperty(r))continue;l=s[r]}0===n?Xk(i,t,l,a,c):Xk(i,t,l,a)}return i}function Xk(n,e,t,i,s){let r;n.hasOwnProperty(t)?(r=n[t]).push(e,i):r=n[t]=[e,i],void 0!==s&&r.push(s)}function co(n,e,t,i,s,r,o,a){const c=B2(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(NE(n,t,u,i,s),V3(e)&&function lle(n,e){const t=H2(e,n);16&t[Sn]||(t[Sn]|=64)}(t,e.index)):3&e.type&&(i=function cle(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,e.value||"",i):s,r.setProperty(c,i,s))}function LE(n,e,t,i){if(Qt()){const s=null===i?null:{"":-1},r=function mle(n,e){const t=n.directiveRegistry;let i=null,s=null;if(t)for(let r=0;r<t.length;r++){const o=t[r];if(C5(e,o.selectors,!1))if(i||(i=[]),Pr(o))if(null!==o.findHostDirectiveDefs){const a=[];s=s||new Map,o.findHostDirectiveDefs(o,a,s),i.unshift(...a,o),IE(n,e,a.length)}else i.unshift(o),IE(n,e,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,i,s),i.push(o)}return null===i?null:[i,s]}(n,t);let o,a;null===r?o=a=null:[o,a]=r,null!==o&&Yk(n,e,t,o,s,a),s&&function gle(n,e,t){if(e){const i=n.localNames=[];for(let s=0;s<e.length;s+=2){const r=t[e[s+1]];if(null==r)throw new We(-301,!1);i.push(e[s],r)}}}(t,i,s)}t.mergedAttrs=Lo(t.mergedAttrs,t.attrs)}function Yk(n,e,t,i,s,r){for(let l=0;l<i.length;l++)Dx(Bg(t,e),n,i[l].type);!function yle(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=dh(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=Lo(t.mergedAttrs,u.hostAttrs),vle(n,t,e,c,u),_le(c,u,s),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function ale(n,e,t){const s=e.directiveEnd,r=n.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<s;u++){const d=r[u],h=t?t.get(d):null,_=h?h.outputs:null;c=Kk(0,d.inputs,u,c,h?h.inputs:null),l=Kk(1,d.outputs,u,l,_);const b=null===c||null===o||yf(e)?null:ble(c,u,o);a.push(b)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,r)}function Zk(n,e,t){const i=t.directiveStart,s=t.directiveEnd,r=t.index,o=function P3e(){return p.lFrame.currentDirectiveIndex}();try{Jl(r);for(let a=i;a<s;a++){const c=n.data[a],l=e[a];xx(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&ple(c,l)}}finally{Jl(-1),xx(o)}}function ple(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function IE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function _le(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Pr(e)&&(t[""]=n)}}function vle(n,e,t,i,s){n.data[i]=s;const r=s.factory||(s.factory=R3(s.type)),o=new qf(r,Pr(s),Nn);n.blueprint[i]=o,t[i]=o,function dle(n,e,t,i,s){const r=s.hostBindings;if(r){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function fle(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,r)}}(n,e,i,dh(n,t,s.hostVars,l1),s)}function Fc(n,e,t,i,s,r){const o=B2(n,e);!function zE(n,e,t,i,s,r,o){if(null==r)n.removeAttribute(e,s,t);else{const a=null==o?Zn(r):o(r,i||"",s);n.setAttribute(e,s,a,t)}}(e[Xn],o,r,n.value,t,i,s)}function Cle(n,e,t,i,s,r){const o=r[e];if(null!==o)for(let a=0;a<o.length;)Gk(i,t,o[a++],o[a++],o[a++],o[a++])}function ble(n,e,t){let i=null,s=0;for(;s<t.length;){const r=t[s];if(0!==r)if(5!==r){if("number"==typeof r)break;if(n.hasOwnProperty(r)){null===i&&(i=[]);const o=n[r];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(r,o[a+1],o[a+2],t[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function Qk(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Jk(n,e){const t=n.contentQueries;if(null!==t){const i=Je(null);try{for(let s=0;s<t.length;s+=2){const o=t[s+1];if(-1!==o){const a=n.data[o];Og(t[s]),a.contentQueries(2,e[o],o)}}}finally{Je(i)}}}function h_(n,e){return n[Bl]?n[Mg][Ma]=e:n[Bl]=e,n[Mg]=e,e}function PE(n,e,t){Og(0);const i=Je(null);try{e(n,t)}finally{Je(i)}}function eF(n){return n[Ka]??=[]}function tF(n){return n.cleanup??=[]}function p_(n,e){const t=n[ys],i=t?t.get(ba,null):null;i&&i.handleError(e)}function NE(n,e,t,i,s){for(let r=0;r<t.length;){const o=t[r++],a=t[r++],c=t[r++];Gk(n.data[o],e[o],i,a,c,s)}}function j3(n,e,t){const i=function Xl(n,e){return B1(e[n])}(e,n);!function Sk(n,e,t){n.setValue(e,t)}(n[Xn],i,t)}function xle(n,e){const t=H2(e,n),i=t[_t];!function Ele(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const s=t[Di];null!==s&&null===t[b2]&&(t[b2]=tE(s,t[ys])),DE(i,t,t[bi])}function DE(n,e,t){Tx(e);try{const i=n.viewQuery;null!==i&&PE(1,i,t);const s=n.template;null!==s&&$k(n,e,s,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Xa]?.finishViewCreation(n),n.staticContentQueries&&Jk(n,e),n.staticViewQueries&&PE(2,n.viewQuery,t);const r=n.components;null!==r&&function wle(n,e){for(let t=0;t<e.length;t++)xle(n,e[t])}(e,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Sn]&=-5,Sx()}}function eu(n,e,t,i){const s=Je(null);try{const r=e.tView,c=f_(n,r,t,4096&n[Sn]?4096:16,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);c[F3]=n[e.index];const u=n[Xa];return null!==u&&(c[Xa]=u.createEmbeddedView(r)),DE(r,c,t),c}finally{Je(s)}}function c6(n,e){return!e||null===e.firstChild||eh(n)}function tu(n,e,t,i=!0){const s=e[_t];if(function $4e(n,e,t,i){const s=Qi+i,r=t.length;i>0&&(t[s-1][Ma]=e),i<r-Qi?(e[Ma]=t[s],Rl(t,Qi+i,e)):(t.push(e),e[Ma]=null),e[ws]=t;const o=e[F3];null!==o&&t!==o&&Lk(o,e);const a=e[Xa];null!==a&&a.insertView(n),jf(e),e[Sn]|=128}(s,e,n,t),i){const o=bE(t,n),a=e[Xn],c=ME(a,n[oo]);null!==c&&function j4e(n,e,t,i,s,r){i[Di]=s,i[Ds]=e,d_(n,i,t,1,s,r)}(s,n[Ds],a,e,c,o)}const r=e[b2];null!==r&&null!==r.firstChild&&(r.firstChild=null)}function fh(n,e,t,i,s=!1){for(;null!==t;){if(128===t.type){t=s?t.projectionNext:t.next;continue}const r=e[t.index];null!==r&&i.push(B1(r)),x2(r)&&sF(r,i);const o=t.type;if(8&o)fh(n,e,t.child,i);else if(32&o){const a=pE(t,e);let c;for(;c=a();)i.push(c)}else if(16&o){const a=kk(e,t);if(Array.isArray(a))i.push(...a);else{const c=f(e[Ri]);fh(c[_t],c,a,i,!0)}}t=s?t.projectionNext:t.next}return i}function sF(n,e){for(let t=Qi;t<n.length;t++){const i=n[t],s=i[_t].firstChild;null!==s&&fh(i[_t],i,s,e)}n[oo]!==n[Di]&&e.push(n[oo])}let rF=[];const Lle={...le,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{F5(n.lView)},consumerOnSignalRead(){this.lView[ro]=this}},zle={...le,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=f(n.lView);for(;e&&!oF(e[_t]);)e=f(e);e&&Dg(e)},consumerOnSignalRead(){this.lView[ro]=this}};function oF(n){return 2!==n.type}const Ple=100;function m_(n,e=!0,t=0){const i=n[Ca],s=i.rendererFactory;s.begin?.();try{!function Nle(n,e){const t=HR();try{jR(!0),OE(n,e);let i=0;for(;k5(n);){if(i===Ple)throw new We(103,!1);i++,OE(n,1)}}finally{jR(t)}}(n,t)}catch(o){throw e&&p_(n,o),o}finally{s.end?.(),i.inlineEffectRunner?.flush()}}function Dle(n,e,t,i){const s=e[Sn];if(!(256&~s))return;e[Ca].inlineEffectRunner?.flush(),Tx(e);let a=!0,c=null,l=null;oF(n)?(l=function Tle(n){return n[ro]??function Sle(n){const e=rF.pop()??Object.create(Lle);return e.lView=n,e}(n)}(e),c=In(l)):null===function Ut(){return Fe}()?(a=!1,l=function Ile(n){const e=n[ro]??Object.create(zle);return e.lView=n,e}(e),c=In(l)):e[ro]&&(At(e[ro]),e[ro]=null);try{Hf(e),function GR(n){return p.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&$k(n,e,t,2,i);const u=!(3&~s);if(u){const m=n.preOrderCheckHooks;null!==m&&Fg(e,m,null)}else{const m=n.preOrderHooks;null!==m&&Vg(e,m,0,null),Ax(e,0)}if(function Rle(n){for(let e=OO(n);null!==e;e=kO(e)){if(!(e[Sn]&D5.HasTransplantedViews))continue;const t=e[a4];for(let i=0;i<t.length;i++)Dg(t[i])}}(e),cF(e,0),null!==n.contentQueries&&Jk(n,e),u){const m=n.contentCheckHooks;null!==m&&Fg(e,m)}else{const m=n.contentHooks;null!==m&&Vg(e,m,1),Ax(e,1)}!function J4e(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Jl(~s);else{const r=s,o=t[++i],a=t[++i];z3e(o,r),a(2,e[r])}}}finally{Jl(-1)}}(n,e);const d=n.components;null!==d&&uF(e,d,0);const h=n.viewQuery;if(null!==h&&PE(2,h,i),u){const m=n.viewCheckHooks;null!==m&&Fg(e,m)}else{const m=n.viewHooks;null!==m&&Vg(e,m,2),Ax(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[o4]){for(const m of e[o4])m();e[o4]=null}e[Sn]&=-73}catch(u){throw F5(e),u}finally{null!==l&&(function d1(n,e){if(Je(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Zt(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)c1(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(l,c),a&&function Ale(n){n.lView[ro]!==n&&(n.lView=null,rF.push(n))}(l)),Sx()}}function cF(n,e){for(let t=OO(n);null!==t;t=kO(t))for(let i=Qi;i<t.length;i++)lF(t[i],e)}function Ole(n,e,t){lF(H2(e,n),t)}function lF(n,e){Po(n)&&OE(n,e)}function OE(n,e){const i=n[_t],s=n[Sn],r=n[ro];let o=!!(0===e&&16&s);if(o||=!!(64&s&&0===e),o||=!!(1024&s),o||=!(!r?.dirty||!G1(r)),o||=!1,r&&(r.dirty=!1),n[Sn]&=-9217,o)Dle(i,n,i.template,n[bi]);else if(8192&s){cF(n,1);const a=i.components;null!==a&&uF(n,a,1)}}function uF(n,e,t){for(let i=0;i<e.length;i++)Ole(n,e[i],t)}function hh(n,e){const t=HR()?64:1088;for(n[Ca].changeDetectionScheduler?.notify(e);n;){n[Sn]|=t;const i=f(n);if($l(n)&&!i)return n;n=i}return null}class ph{get rootNodes(){const e=this._lView,t=e[_t];return fh(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bi]}set context(e){this._lView[bi]=e}get destroyed(){return!(256&~this._lView[Sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ws];if(x2(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(lh(e,i),m5(t,i))}this._attachedToViewContainer=!1}l_(this._lView[_t],this._lView)}onDestroy(e){V5(this._lView,e)}markForCheck(){hh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Sn]&=-129}reattach(){jf(this._lView),this._lView[Sn]|=128}detectChanges(){this._lView[Sn]|=1024,m_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new We(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=$l(this._lView),t=this._lView[F3];null!==t&&!e&&_E(t,this._lView),Ak(this._lView[_t],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new We(902,!1);this._appRef=e;const t=$l(this._lView),i=this._lView[F3];null!==i&&!t&&Lk(i,this._lView),jf(this._lView)}}let G3=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Vle}return n})();const kle=G3,Fle=class extends kle{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const s=eu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new ph(s)}};function Vle(){return g_(ri(),Le())}function g_(n,e){return 4&n.type?new Fle(e,n,$5(n,e)):null}let zF=()=>null;function u6(n,e){return zF(n,e)}class iu{}const bh=new rt("",{providedIn:"root",factory:()=>!1}),PF=new rt(""),qE=new rt("");class z6e{}class NF{}class N6e{resolveComponentFactory(e){throw function P6e(n){const e=Error(`No component factory found for ${_s(n)}.`);return e.ngComponent=n,e}(e)}}class b_{static#e=this.NULL=new N6e}class KE{}let xh=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function D6e(){const n=Le(),t=H2(ri().index,n);return(Rs(t)?t:n)[Xn]}()}return n})(),R6e=(()=>{class n{static#e=this.\u0275prov=Ft({token:n,providedIn:"root",factory:()=>null})}return n})();function E_(n,e,t){let i=t?n.styles:null,s=t?n.classes:null,r=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?r=a:1==r?s=l5(s,a):2==r&&(i=l5(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=s:n.classesWithoutHost=s}class kF extends b_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=y1(e);return new Th(t,this.ngModule)}}function FF(n,e){const t=[];for(const i in n){if(!n.hasOwnProperty(i))continue;const s=n[i];if(void 0===s)continue;const r=Array.isArray(s),o=r?s[0]:s;t.push(e?{propName:o,templateName:i,isSignal:!!((r?s[1]:Ao.None)&Ao.SignalBased)}:{propName:o,templateName:i})}return t}class Th extends NF{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=FF(e.inputs,!0);if(null!==t)for(const s of i)t.hasOwnProperty(s.propName)&&(s.transform=t[s.propName]);return i}get outputs(){return FF(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Ol(n){return n.map(nx).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,s){const r=Je(null);try{let o=(s=s||this.ngModule)instanceof cr?s:s?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new e6(e,o):e,c=a.get(KE,null);if(null===c)throw new We(407,!1);const d={rendererFactory:c,sanitizer:a.get(R6e,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(iu,null)},h=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=i?function tle(n,e,t,i){const r=i.get(tk,!1)||t===zr.ShadowDom,o=n.selectRootElement(e,r);return function nle(n){qk(n)}(o),o}(h,i,this.componentDef.encapsulation,a):c_(h,m,function F6e(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m));let b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let v=null;null!==_&&(v=tE(_,a,!0));const M=AE(0,null,null,1,0,null,null,null,null,null,null),E=f_(null,M,null,b,null,null,d,h,a,null,v);Tx(E);let T,S,O=null;try{const F=this.componentDef;let N,z=null;F.findHostDirectiveDefs?(N=[],z=new Map,F.findHostDirectiveDefs(F,N,z),N.push(F)):N=[F];const L=function U6e(n,e){const t=n[_t],i=pn;return n[i]=e,a6(t,i,2,"#host",null)}(E,_);O=function B6e(n,e,t,i,s,r,o){const a=s[_t];!function H6e(n,e,t,i){for(const s of n)e.mergedAttrs=Lo(e.mergedAttrs,s.hostAttrs);null!==e.mergedAttrs&&(E_(e,e.mergedAttrs,!0),null!==t&&Bk(i,t,e))}(i,n,e,o);let c=null;null!==e&&(c=tE(e,s[ys]));const l=r.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=f_(s,Wk(t),null,u,s[n.index],n,r,l,null,null,c);return a.firstCreatePass&&IE(a,n,i.length-1),h_(s,d),s[n.index]=d}(L,_,F,N,E,d,h),S=Xs(M,pn),_&&function G6e(n,e,t,i){if(i)_f(n,t,["ng-version","18.2.4"]);else{const{attrs:s,classes:r}=function ix(n){const e=[],t=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&e.push(r,n[++i]):8===s&&t.push(r);else{if(!Io(s))break;s=r}i++}return{attrs:e,classes:t}}(e.selectors[0]);s&&_f(n,t,s),r&&r.length>0&&Uk(n,t,r.join(" "))}}(h,F,_,i),void 0!==t&&function $6e(n,e,t){const i=n.projection=[];for(let s=0;s<e.length;s++){const r=t[s];i.push(null!=r?Array.from(r):null)}}(S,this.ngContentSelectors,t),T=function j6e(n,e,t,i,s,r){const o=ri(),a=s[_t],c=B2(o,s);Yk(a,s,o,t,null,i);for(let u=0;u<t.length;u++)ur(t6(s,a,o.directiveStart+u,o),s);Zk(a,s,o),c&&ur(c,s);const l=t6(s,a,o.directiveStart+o.componentOffset,o);if(n[bi]=s[bi]=l,null!==r)for(const u of r)u(l,e);return wE(a,o,s),l}(O,F,N,z,E,[W6e]),DE(M,E,null)}catch(F){throw null!==O&&$x(O),$x(E),F}finally{Sx()}return new V6e(this.componentType,T,$5(S,E),E,S)}finally{Je(r)}}}class V6e extends z6e{constructor(e,t,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ph(s,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const r=this._rootLView;NE(r[_t],r,s,e,t),this.previousInputValues.set(e,t),hh(H2(this._tNode.index,r),1)}}get injector(){return new u2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function W6e(){const n=ri();kg(Le()[_t],n)}let ec=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=q6e}return n})();function q6e(){return BF(ri(),Le())}const K6e=ec,VF=class extends K6e{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return $5(this._hostTNode,this._hostLView)}get injector(){return new u2(this._hostTNode,this._hostLView)}get parentInjector(){const e=Hg(this._hostTNode,this._hostLView);if(zx(e)){const t=Xf(e,this._hostLView),i=Kf(e);return new u2(t[_t].data[i+8],t)}return new u2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=UF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Qi}createEmbeddedView(e,t,i){let s,r;"number"==typeof i?s=i:null!=i&&(s=i.index,r=i.injector);const o=u6(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},r,o);return this.insertImpl(a,s,c6(this._hostTNode,o)),a}createComponent(e,t,i,s,r){const o=e&&!function Vl(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const _=t||{};a=_.index,i=_.injector,s=_.projectableNodes,r=_.environmentInjector||_.ngModuleRef}const c=o?e:new Th(y1(e)),l=i||this.parentInjector;if(!r&&null==c.ngModule){const b=(o?l:this.parentInjector).get(cr,null);b&&(r=b)}const u=y1(c.componentType??{}),d=u6(this._lContainer,u?.id??null),m=c.create(l,s,d?.firstChild??null,r);return this.insertImpl(m.hostView,a,c6(this._hostTNode,d)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const s=e._lView;if(function Yl(n){return x2(n[ws])}(s)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=s[ws],l=new VF(c,c[Ds],c[ws]);l.detach(l.indexOf(e))}}const r=this._adjustIndex(t),o=this._lContainer;return tu(o,s,r,i),e.attachToViewContainerRef(),Rl(ZE(o),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=UF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=lh(this._lContainer,t);i&&(m5(ZE(this._lContainer),t),l_(i[_t],i))}detach(e){const t=this._adjustIndex(e,-1),i=lh(this._lContainer,t);return i&&null!=m5(ZE(this._lContainer),t)?new ph(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function UF(n){return n[8]}function ZE(n){return n[8]||(n[8]=[])}function BF(n,e){let t;const i=e[n.index];return x2(i)?t=i:(t=Qk(i,e,null,n),e[n.index]=t,h_(e,t)),HF(t,e,n,i),new VF(t,n,e)}let HF=function GF(n,e,t,i){if(n[oo])return;let s;s=8&t.type?B1(i):function X6e(n,e){const t=n[Xn],i=t.createComment(""),s=B2(e,n);return r6(t,ME(t,s),i,function K4e(n,e){return n.nextSibling(e)}(t,s),!1),i}(e,t),n[oo]=s},QE=()=>!1;class JE{constructor(e){this.queryList=e,this.matches=null}clone(){return new JE(this.queryList)}setDirty(){this.queryList.setDirty()}}class ew{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let r=0;r<i;r++){const o=t.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new ew(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==rw(e,t).matches&&this.queries[t].setDirty()}}class $F{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function i8e(n){return n.split(",").map(e=>e.trim())}(e):e}}class tw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const s=null!==t?t.length:0,r=this.getByIndex(i).embeddedTView(e,s);r&&(r.indexInDeclarationView=i,null!==t?t.push(r):t=[r])}return null!==t?new tw(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class nw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new nw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(e,t,J6e(t,r)),this.matchTNodeWithReadOption(e,t,jg(t,e,r,!1,!1))}else i===G3?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jg(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Oc||s===ec||s===G3&&4&t.type)this.addMatch(t.index,-2);else{const r=jg(t,e,s,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function J6e(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function t8e(n,e,t,i){return-1===t?function e8e(n,e){return 11&n.type?$5(n,e):4&n.type?g_(n,e):null}(e,n):-2===t?function n8e(n,e,t){return t===Oc?$5(e,n):t===G3?g_(e,n):t===ec?BF(e,n):void 0}(n,e,i):t6(n,n[_t],t,e)}function WF(n,e,t,i){const s=e[Xa].queries[i];if(null===s.matches){const r=n.data,o=t.matches,a=[];for(let c=0;null!==o&&c<o.length;c+=2){const l=o[c];a.push(l<0?null:t8e(e,r[l],o[c+1],t.metadata.read))}s.matches=a}return s.matches}function iw(n,e,t,i){const s=n.queries.getByIndex(t),r=s.matches;if(null!==r){const o=WF(n,e,s,t);for(let a=0;a<r.length;a+=2){const c=r[a];if(c>0)i.push(o[a/2]);else{const l=r[a+1],u=e[-c];for(let d=Qi;d<u.length;d++){const h=u[d];h[F3]===h[ws]&&iw(h[_t],h,l,i)}if(null!==u[a4]){const d=u[a4];for(let h=0;h<d.length;h++){const m=d[h];iw(m[_t],m,l,i)}}}}}return i}function KF(n,e,t){const i=g1();return i.firstCreatePass&&(function YF(n,e,t){null===n.queries&&(n.queries=new tw),n.queries.track(new nw(e,t))}(i,new $F(n,e,t),-1),!(2&~e)&&(i.staticViewQueries=!0)),function qF(n,e,t){const i=new Qf(!(4&~t));return function rle(n,e,t,i){const s=eF(e);s.push(t),n.firstCreatePass&&tF(n).push(i,s.length-1)}(n,e,i,i.destroy),(e[Xa]??=new ew).queries.push(new JE(i))-1}(i,Le(),e)}function rw(n,e){return n.queries.getByIndex(e)}function ZF(n,e){const t=n[_t],i=rw(t,e);return i.crossesNgTemplate?iw(t,n,e,[]):WF(t,n,i,e)}const QF=new Set;function kr(n){QF.has(n)||(QF.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}class d6{}class _V{}class aw extends d6{constructor(e,t,i,s=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kF(this);const r=C2(e);this._bootstrapComponents=Oo(r.bootstrap),this._r3Injector=_O(e,t,[{provide:d6,useValue:this},{provide:b_,useValue:this.componentFactoryResolver},...i],_s(e),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class cw extends _V{constructor(e){super(),this.moduleType=e}create(e){return new aw(this.moduleType,e,[])}}class yV extends d6{constructor(e){super(),this.componentFactoryResolver=new kF(this),this.instance=null;const t=new k3([...e.providers,{provide:d6,useValue:this},{provide:b_,useValue:this.componentFactoryResolver}],e.parent||L5(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function A_(n,e,t=null){return new yV({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function L_(n){return!!lw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function lw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Vc(n,e,t){return n[e]=t}function Os(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function f6(n,e,t,i){const s=Os(n,e,t);return Os(n,e+1,i)||s}function Lh(n,e,t,i,s,r,o,a,c,l){const u=t+pn,d=e.firstCreatePass?function z8e(n,e,t,i,s,r,o,a,c){const l=e.consts,u=a6(e,n,4,o||null,a||null);LE(e,t,u,Rr(l,c)),kg(e,u);const d=u.tView=AE(2,u,i,s,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,e,n,i,s,r,o,a,c):e.data[u];Do(d,!1);const h=vV(e,n,d,t);Wf()&&u_(e,n,h,d),ur(h,n);const m=Qk(h,n,h,d);return n[u]=m,h_(n,m),function jF(n,e,t){return QE(n,e,t)}(m,d,n),Gl(d)&&TE(e,n,d),null!=c&&SE(n,d,l),d}function $3(n,e,t,i,s,r,o,a){const c=Le(),l=g1();return Lh(c,l,n,e,t,i,s,Rr(l.consts,r),o,a),$3}let vV=function MV(n,e,t,i){return Dc(!0),e[Xn].createComment("")};var au=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(au||{});let TV=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static#e=this.\u0275prov=Ft({token:n,providedIn:"root",factory:()=>new n})}return n})();class Ph{constructor(){this.ngZone=Ke(K1),this.scheduler=Ke(iu),this.errorHandler=Ke(ba,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#e=this.PHASES=[au.EarlyRead,au.Write,au.MixedReadWrite,au.Read];execute(){this.executing=!0;for(const e of Ph.PHASES)for(const t of this.sequences)if(!t.erroredOrDestroyed&&t.hooks[e])try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(const e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static#t=this.\u0275prov=Ft({token:Ph,providedIn:"root",factory:()=>new Ph})}class R8e{constructor(e,t,i,s){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=s.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function D_(n,e){!e?.injector&&function Pf(n){if(!z5())throw new We(-203,!1)}();const t=e?.injector??Ke(E2);return function ko(n){return"browser"===(n??Ke(E2)).get(Ja)}(t)?(kr("NgAfterNextRender"),function SV(n,e,t,i){const s=e.get(TV);s.impl??=e.get(Ph);const o=new R8e(s.impl,function k8e(n,e){if(n instanceof Function){const t=[void 0,void 0,void 0,void 0];return t[e]=n,t}return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n,t?.phase??au.MixedReadWrite),i,e.get(Zf));return s.impl.register(o),o}(n,t,e,!0)):AV}const AV={destroy(){}};function Dh(n,e,t,i){const s=Le();return Os(s,Qa(),e)&&(g1(),Fc(Wi(),s,n,e,t,i)),Dh}function N1(n,e,t){const i=Le();return Os(i,Qa(),e)&&co(g1(),Wi(),i,n,e,i[Xn],t,!1),N1}function xw(n,e,t,i,s){const o=s?"class":"style";NE(n,t,e.inputs[o],o,i)}function Ye(n,e,t,i){const s=Le(),r=g1(),o=pn+n,a=s[Xn],c=r.firstCreatePass?function sue(n,e,t,i,s,r){const o=e.consts,c=a6(e,n,2,i,Rr(o,s));return LE(e,t,c,Rr(o,r)),null!==c.attrs&&E_(c,c.attrs,!1),null!==c.mergedAttrs&&E_(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,r,s,e,t,i):r.data[o],l=yU(r,s,c,a,e,n);s[o]=l;const u=Gl(c);return Do(c,!0),Bk(a,l,c),!function ru(n){return!(32&~n.flags)}(c)&&Wf()&&u_(r,s,l,c),0===function oe(){return p.lFrame.elementDepthCount}()&&ur(l,s),function ke(){p.lFrame.elementDepthCount++}(),u&&(TE(r,s,c),wE(r,c,s)),null!==i&&SE(s,c),Ye}function He(){let n=ri();Ql()?$f():(n=n.parent,Do(n,!1));const e=n;(function Ji(n){return p.skipHydrationRootTNode===n})(e)&&function Gf(){p.skipHydrationRootTNode=null}(),function It(){p.lFrame.elementDepthCount--}();const t=g1();return t.firstCreatePass&&(kg(t,n),kf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function H3e(n){return!!(8&n.flags)}(e)&&xw(t,e,Le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function j3e(n){return!!(16&n.flags)}(e)&&xw(t,e,Le(),e.stylesWithoutHost,!1),He}function oi(n,e,t,i){return Ye(n,e,t,i),He(),oi}let yU=(n,e,t,i,s,r)=>(Dc(!0),c_(i,s,function ZR(){return p.lFrame.currentNamespace}()));function Iw(n,e,t){const i=Le();return Os(i,Qa(),e)&&co(g1(),Wi(),i,n,e,i[Xn],t,!0),Iw}const U_="en-US";let wU=U_,jU=(n,e,t)=>{};function W3(n,e,t,i){const s=Le(),r=g1(),o=ri();return function Nw(n,e,t,i,s,r,o){const a=Gl(i),l=n.firstCreatePass&&tF(n),u=e[bi],d=eF(e);let h=!0;if(3&i.type||o){const b=B2(i,e),v=o?o(b):b,M=d.length,E=o?S=>o(B1(S[i.index])):i.index;let T=null;if(!o&&a&&(T=function ede(n,e,t,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===t&&s[r+1]===i){const a=e[Ka],c=s[r+2];return a.length>c?a[c]:null}"string"==typeof o&&(r+=2)}return null}(n,e,s,i.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=r,T.__ngLastListenerFn__=r,h=!1;else{r=qU(i,e,u,r),jU(b,s,r);const S=t.listen(v,s,r);d.push(r,S),l&&l.push(s,E,M,M+1)}}else r=qU(i,e,u,r);const m=i.outputs;let _;if(h&&null!==m&&(_=m[s])){const b=_.length;if(b)for(let v=0;v<b;v+=2){const O=e[_[v]][_[v+1]].subscribe(r),F=d.length;d.push(r,O),l&&l.push(s,i.index,F,-(F+1))}}}(r,s,s[Xn],o,n,e,i),W3}function WU(n,e,t,i){const s=Je(null);try{return zo(6,e,t),!1!==t(i)}catch(r){return p_(n,r),!1}finally{zo(7,e,t),Je(s)}}function qU(n,e,t,i){return function s(r){if(r===Function)return i;hh(n.componentOffset>-1?H2(n.index,e):e,5);let a=WU(e,t,i,r),c=s.__ngNextListenerFn__;for(;c;)a=WU(e,t,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function g6(n=1){return function D3e(n){return(p.lFrame.contextLView=function O5(n,e){for(;n>0;)e=e[r4],n--;return e}(n,p.lFrame.contextLView))[bi]}(n)}function tde(n,e){let t=null;const i=function ex(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let s=0;s<e.length;s++){const r=e[s];if("*"!==r){if(null===i?C5(n,r,!0):Cf(i,r))return s}else t=s}return t}function Ow(){return function sw(n,e){return n[Xa].queries[e].queryList}(Le(),wx())}function Ge(n,e=""){const t=Le(),i=g1(),s=n+pn,r=i.firstCreatePass?a6(i,s,1,e,null):i.data[s],o=gB(i,t,r,e,n);t[s]=o,Wf()&&u_(i,t,o,r),Do(r,!1)}let gB=(n,e,t,i,s)=>(Dc(!0),function mE(n,e){return n.createText(e)}(e[Xn],i));function _4(n){return _6("",n,""),_4}function _6(n,e,t){const i=Le(),s=function pu(n,e,t,i){return Os(n,Qa(),t)?e+Zn(t)+i:l1}(i,n,e,t);return s!==l1&&j3(i,j2(),s),_6}let Tde=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=n4(0,t.type),s=i.length>0?A_([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ft({token:n,providedIn:"environment",factory:()=>new n(ut(cr))})}return n})();function G_(n){kr("NgStandalone"),n.getStandaloneInjector=e=>e.get(Tde).getOrCreateStandaloneInjector(n)}function y4(n,e,t,i){return function RB(n,e,t,i,s,r){const o=e+t;return Os(n,o,s)?Vc(n,o+1,r?i.call(r,s):i(s)):Bh(n,o+1)}(Le(),Or(),n,e,t,i)}function NB(n,e,t,i,s){return function OB(n,e,t,i,s,r,o){const a=e+t;return f6(n,a,s,r)?Vc(n,a+2,o?i.call(o,s,r):i(s,r)):Bh(n,a+2)}(Le(),Or(),n,e,t,i,s)}function DB(n,e,t,i,s,r){return function kB(n,e,t,i,s,r,o,a){const c=e+t;return function I_(n,e,t,i,s){const r=f6(n,e,t,i);return Os(n,e+2,s)||r}(n,c,s,r,o)?Vc(n,c+3,a?i.call(a,s,r,o):i(s,r,o)):Bh(n,c+3)}(Le(),Or(),n,e,t,i,s,r)}function Bh(n,e){const t=n[e];return t===l1?void 0:t}class y6{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}let tH=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const oH=new rt(""),X_=new rt("");let Xw,qw=(()=>{class n{constructor(t,i,s){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Xw||(function O7e(n){Xw=n}(s),s.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{K1.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),t()},i)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,s){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(ut(K1),ut(Kw),ut(X_))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})(),Kw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Xw?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Y_(n){return!!n&&"function"==typeof n.then}function aH(n){return!!n&&"function"==typeof n.subscribe}const Yw=new rt("");let cH=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Ke(Yw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const s of this.appInits){const r=s();if(Y_(r))t.push(r);else if(aH(r)){const o=new Promise((a,c)=>{r.subscribe({complete:a,error:c})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Z_=new rt("");function uH(n,e){return Array.isArray(e)?e.reduce(uH,n):{...n,...e}}let Hc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ke(_0e),this.afterRenderManager=Ke(TV),this.zonelessEnabled=Ke(bh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ee,this.afterTick=new Ee,this.componentTypes=[],this.components=[],this.isStable=Ke(n6).hasPendingTasks.pipe(Bt(t=>!t)),this._injector=Ke(cr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){const s=t instanceof NF;if(!this._injector.get(cH).done)throw!s&&function va(n){const e=y1(n)||Ps(n)||l2(n);return null!==e&&e.standalone}(t),new We(405,!1);let o;o=s?t:this._injector.get(b_).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function k7e(n){return n.isBoundToModule}(o)?void 0:this._injector.get(d6),l=o.create(E2.NULL,[],i||o.selector,a),u=l.location.nativeElement,d=l.injector.get(oH,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Q_(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new We(101,!1);const t=Je(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Je(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(KE,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;0!==this.dirtyFlags&&i++<10;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:r}of this._views)U7e(s,r,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else t?.begin?.(),t?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>k5(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Q_(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Z_,[]);[...this._bootstrapListeners,...i].forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Q_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new We(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function U7e(n,e,t,i){(t||k5(n))&&m_(n,e,t&&!i?0:1)}class B7e{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let fH=(()=>{class n{compileModuleSync(t){return new cw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),r=Oo(C2(t).declarations).reduce((o,a)=>{const c=y1(a);return c&&o.push(new Th(c)),o},[]);return new B7e(i,r)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G7e=(()=>{class n{constructor(){this.zone=Ke(K1),this.changeDetectionScheduler=Ke(iu),this.applicationRef=Ke(Hc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zw({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new K1({...Qw(),scheduleInRootZone:t}),[{provide:K1,useFactory:n},{provide:So,multi:!0,useFactory:()=>{const i=Ke(G7e,{optional:!0});return()=>i.initialize()}},{provide:So,multi:!0,useFactory:()=>{const i=Ke(W7e);return()=>{i.initialize()}}},!0===e?{provide:PF,useValue:!0}:[],{provide:qE,useValue:t??vO}]}function Qw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let W7e=(()=>{class n{constructor(){this.subscription=new Ii,this.initialized=!1,this.zone=Ke(K1),this.pendingTasks=Ke(n6)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{K1.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{K1.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$h=(()=>{class n{constructor(){this.appRef=Ke(Hc),this.taskService=Ke(n6),this.ngZone=Ke(K1),this.zonelessEnabled=Ke(bh),this.disableScheduling=Ke(PF,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ii,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wg):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ke(qE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hx||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?CO:MO;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,CO(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const q3=new rt("",{providedIn:"root",factory:()=>Ke(q3,m1.Optional|m1.SkipSelf)||function q7e(){return typeof $localize<"u"&&$localize.locale||U_}()}),eT=new rt("");function ey(n){return!!n.platformInjector}let yH=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const s=i?.scheduleInRootZone,o=i?.ignoreChangesOutsideZone,a=[Zw({ngZoneFactory:()=>function g0e(n="zone.js",e){return"noop"===n?new Hx:"zone.js"===n?new K1(e):n}(i?.ngZone,{...Qw({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}),scheduleInRootZone:s}),ignoreChangesOutsideZone:o}),{provide:iu,useExisting:$h}],c=function T8e(n,e,t){return new aw(n,e,t,!1)}(t.moduleType,this.injector,a);return function _H(n){const e=ey(n)?n.r3Injector:n.moduleRef.injector,t=e.get(K1);return t.run(()=>{ey(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const i=e.get(ba,null);let s;if(t.runOutsideAngular(()=>{s=t.onError.subscribe({next:r=>{i.handleError(r)}})}),ey(n)){const r=()=>e.destroy(),o=n.platformInjector.get(eT);o.add(r),e.onDestroy(()=>{s.unsubscribe(),o.delete(r)})}else n.moduleRef.onDestroy(()=>{Q_(n.allPlatformModules,n.moduleRef),s.unsubscribe()});return function V7e(n,e,t){try{const i=t();return Y_(i)?i.catch(s=>{throw e.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(i,t,()=>{const r=e.get(cH);return r.runInitializers(),r.donePromise.then(()=>{if(function gue(n){"string"==typeof n&&(wU=n.toLowerCase().replace(/_/g,"-"))}(e.get(q3,U_)||U_),ey(n)){const a=e.get(Hc);return void 0!==n.rootComponent&&a.bootstrap(n.rootComponent),a}return function J7e(n,e){const t=n.injector.get(Hc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new We(-403,!1);n.instance.ngDoBootstrap(t)}e.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({moduleRef:c,allPlatformModules:this._modules})}bootstrapModule(t,i=[]){const s=uH({},i);return function j7e(n,e,t){const i=new cw(t);return Promise.resolve(i)}(0,0,t).then(r=>this.bootstrapModuleFactory(r,s))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new We(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(eT,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(ut(E2))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),v4=null;const vH=new rt("");function MH(n,e,t=[]){const i=`Platform: ${e}`,s=new rt(i);return(r=[])=>{let o=tT();if(!o||o.injector.get(vH,!1)){const a=[...t,...r,{provide:s,useValue:!0}];n?n(a):function efe(n){if(v4&&!v4.get(vH,!1))throw new We(400,!1);(function lH(){!function he(n){er=n}(()=>{throw new We(600,!1)})})(),v4=n;const e=n.get(yH);(function bH(n){n.get(WO,null)?.forEach(t=>t())})(n)}(function CH(n=[],e){return E2.create({name:e,providers:[{provide:Lf,useValue:"platform"},{provide:eT,useValue:new Set([()=>v4=null])},...n]})}(a,i))}return function tfe(){const e=tT();if(!e)throw new We(401,!1);return e}()}}function tT(){return v4?.get(yH)??null}let Wh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ife}return n})();function ife(n){return function sfe(n,e,t){if(V3(n)&&!t){const i=H2(n.index,e);return new ph(i,i)}return 175&n.type?new ph(e[Ri],e):null}(ri(),Le(),!(16&~n))}class AH{constructor(){}supports(e){return L_(e)}create(e){return new lfe(e)}}const cfe=(n,e)=>e;class lfe{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cfe}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,r=null;for(;t||i;){const o=!i||t&&t.currentIndex<IH(i,s,r)?t:i,a=IH(o,s,r),c=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)s++;else{r||(r=[]);const l=a-s,u=c-s;if(l!=u){for(let h=0;h<l;h++){const m=h<r.length?r[h]:r[h]=0,_=m+h;u<=_&&_<l&&(r[h]=m+1)}r[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!L_(e))throw new We(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,r,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)r=e[a],o=this._trackByFn(a,r),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,r,o,a)),Object.is(t.item,r)||this._addIdentityChange(t,r)):(t=this._mismatch(t,r,o,a),i=!0),t=t._next}else s=0,function L8e(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,s),i=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,s)):e=this._addAfter(new ufe(t,i),r,s),e}_verifyReinsertion(e,t,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,r=e._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new LH),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LH),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ufe{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dfe{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class LH{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new dfe,this.map.set(t,i)),i.add(e)}get(e,t){const s=this.map.get(e);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IH(n,e,t){const i=n.previousIndex;if(null===i)return i;let s=0;return t&&i<t.length&&(s=t[i]),i+e+s}class zH{constructor(){}supports(e){return e instanceof Map||lw(e)}create(){return new ffe}}class ffe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||lw(e)))throw new We(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(s,i);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,t);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new hfe(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class hfe{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PH(){return new oT([new AH])}let oT=(()=>{class n{static#e=this.\u0275prov=Ft({token:n,providedIn:"root",factory:PH});constructor(t){this.factories=t}static create(t,i){if(null!=i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||PH()),deps:[[n,new _a,new zc]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(null!=i)return i;throw new We(901,!1)}}return n})();function NH(){return new iy([new zH])}let iy=(()=>{class n{static#e=this.\u0275prov=Ft({token:n,providedIn:"root",factory:NH});constructor(t){this.factories=t}static create(t,i){if(i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||NH()),deps:[[n,new _a,new zc]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(i)return i;throw new We(901,!1)}}return n})();const gfe=MH(null,"core",[]);let _fe=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Hc))};static#t=this.\u0275mod=V2({type:n});static#n=this.\u0275inj=rr({})}return n})();const XH=new rt("");let aj=null;function Tu(){return aj}class the{}const Vs=new rt("");let dT=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:()=>Ke(ihe),providedIn:"platform"})}return n})();const nhe=new rt("");let ihe=(()=>{class n extends dT{constructor(){super(),this._doc=Ke(Vs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tu().getBaseHref(this._doc)}onPopState(t){const i=Tu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Tu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,s){this._history.pushState(t,i,s)}replaceState(t,i,s){this._history.replaceState(t,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function fT(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cj(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function K3(n){return n&&"?"!==n[0]?"?"+n:n}let M6=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:()=>Ke(uj),providedIn:"root"})}return n})();const lj=new rt("");let uj=(()=>{class n extends M6{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ke(Vs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fT(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+K3(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,r){const o=this.prepareExternalUrl(s+K3(r));this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){const o=this.prepareExternalUrl(s+K3(r));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(ut(dT),ut(lj,8))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),she=(()=>{class n extends M6{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=fT(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,r){let o=this.prepareExternalUrl(s+K3(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){let o=this.prepareExternalUrl(s+K3(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(ut(dT),ut(lj,8))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})(),Yh=(()=>{class n{constructor(t){this._subject=new lr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function ahe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(cj(dj(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+K3(i))}normalize(t){return n.stripTrailingSlash(function ohe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,dj(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._locationStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+K3(i)),s)}replaceState(t,i="",s=null){this._locationStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+K3(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i,complete:s})}static#e=this.normalizeQueryParams=K3;static#t=this.joinWithSlash=fT;static#n=this.stripTrailingSlash=cj;static#i=this.\u0275fac=function(i){return new(i||n)(ut(M6))};static#s=this.\u0275prov=Ft({token:n,factory:()=>function rhe(){return new Yh(ut(M6))}(),providedIn:"root"})}return n})();function dj(n){return n.replace(/\/index.html$/,"")}const bT=/\s+/,Mj=[];let xT=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=Mj,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(bT):Mj}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(bT):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],s=t[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(bT).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static#e=this.\u0275fac=function(i){return new(i||n)(Nn(Oc),Nn(xh))};static#t=this.\u0275dir=Ks({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class qhe{constructor(e,t,i,s){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Au=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((s,r,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new qhe(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),bj(a,s)}});for(let s=0,r=i.length;s<r;s++){const a=i.get(s).context;a.index=s,a.count=r,a.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{bj(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Nn(ec),Nn(G3),Nn(oT))};static#t=this.\u0275dir=Ks({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function bj(n,e){n.context.$implicit=e.item}let ET=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Khe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xj("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xj("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Nn(ec),Nn(G3))};static#t=this.\u0275dir=Ks({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Khe{constructor(){this.$implicit=null,this.ngIf=null}}function xj(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${_s(e)}'.`)}let ST=(()=>{class n{constructor(t,i,s){this._ngEl=t,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[s,r]=t.split("."),o=-1===s.indexOf("-")?void 0:f4.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,s,r?`${i}${r}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,s,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(Nn(Oc),Nn(iy),Nn(xh))};static#t=this.\u0275dir=Ks({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),M9e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=V2({type:n});static#n=this.\u0275inj=rr({})}return n})();const Tj="browser";function Sj(n){return n===Tj}function Cy(n){return"server"===n}let b9e=(()=>{class n{static#e=this.\u0275prov=Ft({token:n,providedIn:"root",factory:()=>Sj(Ke(Ja))?new x9e(Ke(Vs),window):new w9e})}return n})();class x9e{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function E9e(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(e)||r.querySelector(`[name="${e}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}}class w9e{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class epe extends the{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class NT extends epe{static makeCurrent(){!function ehe(n){aj??=n}(new NT)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function tpe(){return e9=e9||document.querySelector("base"),e9?e9.getAttribute("href"):null}();return null==t?null:function npe(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){e9=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $he(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[s,r]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,e)}}let e9=null,spe=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})();const wy=new rt("");let kj=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(r=>r.supports(t)),!i)throw new We(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(ut(wy),ut(K1))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})();class DT{constructor(e){this._doc=e}}const RT="ng-app-id";let Fj=(()=>{class n{constructor(t,i,s,r={}){this.doc=t,this.appId=i,this.nonce=s,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cy(r),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(s=>s.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${RT}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(t,i){const s=this.styleRef;if(s.has(t)){const r=s.get(t);return r.usage+=i,r.usage}return s.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const s=this.styleNodesInDOM,r=s?.get(i);if(r?.parentNode===t)return s.delete(i),r.removeAttribute(RT),r;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(RT,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){const s=this.getStyleElement(t,i),r=this.styleRef,o=r.get(i)?.elements;o?o.push(s):r.set(i,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Vs),ut(q5),ut(Kx,8),ut(Ja))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})();const OT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kT=/%COMP%/g,cpe=new rt("",{providedIn:"root",factory:()=>!0});function Uj(n,e){return e.map(t=>t.replace(kT,n))}let Bj=(()=>{class n{constructor(t,i,s,r,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Cy(a),this.defaultRenderer=new FT(t,o,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zr.ShadowDom&&(i={...i,encapsulation:zr.Emulated});const s=this.getOrCreateRenderer(t,i);return s instanceof jj?s.applyToHost(t):s instanceof VT&&s.applyStyles(),s}getOrCreateRenderer(t,i){const s=this.rendererByCompId;let r=s.get(i.id);if(!r){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case zr.Emulated:r=new jj(c,l,i,this.appId,u,o,a,d);break;case zr.ShadowDom:return new fpe(c,l,t,i,o,a,this.nonce,d);default:r=new VT(c,l,i,u,o,a,d)}s.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(ut(kj),ut(Fj),ut(q5),ut(cpe),ut(Vs),ut(Ja),ut(K1),ut(Kx))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})();class FT{constructor(e,t,i,s){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(OT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Hj(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Hj(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new We(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const r=OT[s];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=OT[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(f4.DashCase|f4.Important)?e.style.setProperty(t,i,s&f4.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&f4.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Tu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Hj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fpe extends FT{constructor(e,t,i,s,r,o,a,c){super(e,r,o,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Uj(s.id,s.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class VT extends FT{constructor(e,t,i,s,r,o,a,c){super(e,r,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=c?Uj(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jj extends VT{constructor(e,t,i,s,r,o,a,c){const l=s+"-"+i.id;super(e,t,i,r,o,a,c,l),this.contentAttr=function lpe(n){return"_ngcontent-%COMP%".replace(kT,n)}(l),this.hostAttr=function upe(n){return"_nghost-%COMP%".replace(kT,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let hpe=(()=>{class n extends DT{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Vs))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})(),ppe=(()=>{class n extends DT{constructor(t){super(t),this.delegate=Ke(XH,{optional:!0})}supports(t){return!!this.delegate&&this.delegate.supports(t)}addEventListener(t,i,s){return this.delegate.addEventListener(t,i,s)}removeEventListener(t,i,s){return this.delegate.removeEventListener(t,i,s)}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Vs))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})();const Gj=["alt","control","meta","shift"],mpe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gpe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _pe=(()=>{class n extends DT{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tu().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),Gj.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const c={};return c.domEventName=s,c.fullKey=o,c}static matchEventFullKeyCode(t,i){let s=mpe[t.key]||t.key,r="";return i.indexOf("code.")>-1&&(s=t.code,r="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Gj.forEach(o=>{o!==s&&(0,gpe[o])(t)&&(r+=o+".")}),r+=s,r===i)}static eventCallback(t,i,s){return r=>{n.matchEventFullKeyCode(r,t)&&s.runGuarded(()=>i(r))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Vs))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})();const Wj=[{provide:Ja,useValue:Tj},{provide:WO,useValue:function ype(){NT.makeCurrent()},multi:!0},{provide:Vs,useFactory:function Mpe(){return function V0e(n){qx=n}(document),document},deps:[]}],qj=MH(gfe,"browser",Wj),Cpe=new rt(""),Kj=[{provide:X_,useClass:class ipe{addToWindow(e){_i.getAngularTestability=(i,s=!0)=>{const r=e.findTestabilityInTree(i,s);if(null==r)throw new We(5103,!1);return r},_i.getAllAngularTestabilities=()=>e.getAllTestabilities(),_i.getAllAngularRootElements=()=>e.getAllRootElements(),_i.frameworkStabilizers||(_i.frameworkStabilizers=[]),_i.frameworkStabilizers.push(i=>{const s=_i.getAllAngularTestabilities();let r=s.length;const o=function(){r--,0==r&&i()};s.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Tu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:oH,useClass:qw,deps:[K1,Kw,X_]},{provide:qw,useClass:qw,deps:[K1,Kw,X_]}],Xj=[{provide:Lf,useValue:"root"},{provide:ba,useFactory:function vpe(){return new ba},deps:[]},{provide:wy,useClass:hpe,multi:!0,deps:[Vs,K1,Ja]},{provide:wy,useClass:_pe,multi:!0,deps:[Vs]},{provide:wy,useClass:ppe,multi:!0},Bj,Fj,kj,{provide:KE,useExisting:Bj},{provide:class T9e{},useClass:spe,deps:[]},[]];let bpe=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:q5,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Cpe,12))};static#t=this.\u0275mod=V2({type:n});static#n=this.\u0275inj=rr({providers:[...Xj,...Kj],imports:[M9e,_fe]})}return n})(),xpe=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Vs))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ty=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:function(i){let s=null;return s=i?new(i||n):ut(Spe),s},providedIn:"root"})}return n})(),Spe=(()=>{class n extends Ty{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case G2.NONE:return i;case G2.HTML:return kc(i,"HTML")?Ro(i):mk(this._doc,String(i)).toString();case G2.STYLE:return kc(i,"Style")?Ro(i):i;case G2.SCRIPT:if(kc(i,"Script"))return Ro(i);throw new We(5200,!1);case G2.URL:return kc(i,"URL")?Ro(i):s_(String(i));case G2.RESOURCE_URL:if(kc(i,"ResourceURL"))return Ro(i);throw new We(5201,!1);default:throw new We(5202,!1)}}bypassSecurityTrustHtml(t){return function o4e(n){return new e4e(n)}(t)}bypassSecurityTrustStyle(t){return function a4e(n){return new t4e(n)}(t)}bypassSecurityTrustScript(t){return function c4e(n){return new n4e(n)}(t)}bypassSecurityTrustUrl(t){return function l4e(n){return new i4e(n)}(t)}bypassSecurityTrustResourceUrl(t){return function u4e(n){return new s4e(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Vs))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Iu=Ve(635);const Qj=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Jj(n){return Rn(n?.then)}function eG(n){return Rn(n[M2])}function tG(n){return Symbol.asyncIterator&&Rn(n?.[Symbol.asyncIterator])}function nG(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const iG=function Lpe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sG(n){return Rn(n?.[iG])}function rG(n){return(0,Iu.AQ)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:s}=yield(0,Iu.N3)(t.read());if(s)return yield(0,Iu.N3)(void 0);yield yield(0,Iu.N3)(i)}}finally{t.releaseLock()}})}function oG(n){return Rn(n?.getReader)}function Uo(n){if(n instanceof Z1)return n;if(null!=n){if(eG(n))return function Ipe(n){return new Z1(e=>{const t=n[M2]();if(Rn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Qj(n))return function zpe(n){return new Z1(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Jj(n))return function Ppe(n){return new Z1(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ps)})}(n);if(tG(n))return aG(n);if(sG(n))return function Npe(n){return new Z1(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(oG(n))return function Dpe(n){return aG(rG(n))}(n)}throw nG(n)}function aG(n){return new Z1(e=>{(function Rpe(n,e){var t,i,s,r;return(0,Iu.sH)(this,void 0,void 0,function*(){try{for(t=(0,Iu.xN)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=t.return)&&(yield r.call(t))}finally{if(s)throw s.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Z3(n,e,t,i=0,s=!1){const r=e.schedule(function(){t(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!s)return r}function b6(n,e=0){return xn((t,i)=>{t.subscribe(L1(i,s=>Z3(i,n,()=>i.next(s),e),()=>Z3(i,n,()=>i.complete(),e),s=>Z3(i,n,()=>i.error(s),e)))})}function zu(n,e=0){return xn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function cG(n,e){if(!n)throw new Error("Iterable cannot be null");return new Z1(t=>{Z3(t,e,()=>{const i=n[Symbol.asyncIterator]();Z3(t,e,()=>{i.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function cs(n,e){return e?function Bpe(n,e){if(null!=n){if(eG(n))return function Ope(n,e){return Uo(n).pipe(zu(e),b6(e))}(n,e);if(Qj(n))return function Fpe(n,e){return new Z1(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Jj(n))return function kpe(n,e){return Uo(n).pipe(zu(e),b6(e))}(n,e);if(tG(n))return cG(n,e);if(sG(n))return function Vpe(n,e){return new Z1(t=>{let i;return Z3(t,e,()=>{i=n[iG](),Z3(t,e,()=>{let s,r;try{({value:s,done:r}=i.next())}catch(o){return void t.error(o)}r?t.complete():t.next(s)},0,!0)}),()=>Rn(i?.return)&&i.return()})}(n,e);if(oG(n))return function Upe(n,e){return cG(rG(n),e)}(n,e)}throw nG(n)}(n,e):Uo(n)}function UT(n){return n[n.length-1]}function t9(n){return function Hpe(n){return n&&Rn(n.schedule)}(UT(n))?n.pop():void 0}function zn(...n){return cs(n,t9(n))}const{isArray:Gpe}=Array,{getPrototypeOf:$pe,prototype:Wpe,keys:qpe}=Object;const{isArray:Xpe}=Array;function Ay(...n){const e=t9(n),t=function lG(n){return Rn(UT(n))?n.pop():void 0}(n),{args:i,keys:s}=function uG(n){if(1===n.length){const e=n[0];if(Gpe(e))return{args:e,keys:null};if(function Kpe(n){return n&&"object"==typeof n&&$pe(n)===Wpe}(e)){const t=qpe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return cs([],e);const r=new Z1(function Zpe(n,e,t=ir){return i=>{hG(e,()=>{const{length:s}=n,r=new Array(s);let o=s,a=s;for(let c=0;c<s;c++)hG(e,()=>{const l=cs(n[c],e);let u=!1;l.subscribe(L1(i,d=>{r[c]=d,u||(u=!0,a--),a||i.next(t(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,s?o=>function fG(n,e){return n.reduce((t,i,s)=>(t[i]=e[s],t),{})}(s,o):ir));return t?r.pipe(function dG(n){return Bt(e=>function Ype(n,e){return Xpe(e)?n(...e):n(e)}(n,e))}(t)):r}function hG(n,e,t){n?Z3(t,n,e):e()}const Ly=Ui(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function dr(n,e,t=1/0){return Rn(e)?dr((i,s)=>Bt((r,o)=>e(i,r,s,o))(Uo(n(i,s))),t):("number"==typeof e&&(t=e),xn((i,s)=>function Qpe(n,e,t,i,s,r,o,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},m=b=>l<i?_(b):c.push(b),_=b=>{r&&e.next(b),l++;let v=!1;Uo(t(b,u++)).subscribe(L1(e,M=>{s?.(M),r?m(M):e.next(M)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<i;){const M=c.shift();o?Z3(e,o,()=>_(M)):_(M)}h()}catch(M){e.error(M)}}))};return n.subscribe(L1(e,m,()=>{d=!0,h()})),()=>{a?.()}}(i,s,n,t)))}function Pu(n=1/0){return dr(ir,n)}function Iy(...n){return function Jpe(){return Pu(1)}()(cs(n,t9(n)))}function pG(n){return new Z1(e=>{Uo(n()).subscribe(e)})}function n9(n,e){const t=Rn(n)?n:()=>n,i=s=>s.error(t());return new Z1(e?s=>e.schedule(i,0,s):i)}const rc=new Z1(n=>n.complete());function BT(){return xn((n,e)=>{let t=null;n._refCount++;const i=L1(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,r=t;t=null,s&&(!r||s===r)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class mG extends Z1{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,kn(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ii;const t=this.getSubject();e.add(this.source.subscribe(L1(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ii.EMPTY)}return e}refCount(){return BT()(this)}}function w2(n,e){return xn((t,i)=>{let s=null,r=0,o=!1;const a=()=>o&&!s&&i.complete();t.subscribe(L1(i,c=>{s?.unsubscribe();let l=0;const u=r++;Uo(n(c,u)).subscribe(s=L1(i,d=>i.next(e?e(c,d,u,l++):d),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function M4(n){return n<=0?()=>rc:xn((e,t)=>{let i=0;e.subscribe(L1(t,s=>{++i<=n&&(t.next(s),n<=i&&t.complete())}))})}function i9(...n){const e=t9(n);return xn((t,i)=>{(e?Iy(n,t,e):Iy(n,t)).subscribe(i)})}function uo(n,e){return xn((t,i)=>{let s=0;t.subscribe(L1(i,r=>n.call(e,r,s++)&&i.next(r)))})}function zy(n){return xn((e,t)=>{let i=!1;e.subscribe(L1(t,s=>{i=!0,t.next(s)},()=>{i||t.next(n),t.complete()}))})}function gG(n=tme){return xn((e,t)=>{let i=!1;e.subscribe(L1(t,s=>{i=!0,t.next(s)},()=>i?t.complete():t.error(n())))})}function tme(){return new Ly}function C4(n,e){const t=arguments.length>=2;return i=>i.pipe(n?uo((s,r)=>n(s,r,i)):ir,M4(1),t?zy(e):gG(()=>new Ly))}function Nu(n,e){return Rn(e)?dr(n,e,1):dr(n,1)}function Qs(n,e,t){const i=Rn(n)||e||t?{next:n,error:e,complete:t}:n;return i?xn((s,r)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;s.subscribe(L1(r,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),r.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),r.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),r.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):ir}function x6(n){return xn((e,t)=>{let r,i=null,s=!1;i=e.subscribe(L1(t,void 0,void 0,o=>{r=Uo(n(o,x6(n)(e))),i?(i.unsubscribe(),i=null,r.subscribe(t)):s=!0})),s&&(i.unsubscribe(),i=null,r.subscribe(t))})}function Py(n,e){return xn(function nme(n,e,t,i,s){return(r,o)=>{let a=t,c=e,l=0;r.subscribe(L1(o,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),i&&o.next(c)},s&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}function HT(n){return n<=0?()=>rc:xn((e,t)=>{let i=[];e.subscribe(L1(t,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)t.next(s);t.complete()},void 0,()=>{i=null}))})}function Ny(n){return xn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function _G(n){return xn((e,t)=>{Uo(n).subscribe(L1(t,()=>t.complete(),Ls)),!t.closed&&e.subscribe(t)})}const T1="primary",s9=Symbol("RouteTitle");class rme{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Du(n){return new rme(n)}function ome(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],a=n[r];if(":"===o[0])s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function jc(n,e){const t=n?jT(n):void 0,i=e?jT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let r=0;r<t.length;r++)if(s=t[r],!yG(n[s],e[s]))return!1;return!0}function jT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yG(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((s,r)=>i[r]===s)}return n===e}function vG(n){return n.length>0?n[n.length-1]:null}function b4(n){return function Ape(n){return!!n&&(n instanceof Z1||Rn(n.lift)&&Rn(n.subscribe))}(n)?n:Y_(n)?cs(Promise.resolve(n)):zn(n)}const cme={exact:function bG(n,e,t){if(!w6(n.segments,e.segments)||!Dy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!bG(n.children[i],e.children[i],t))return!1;return!0},subset:xG},MG={exact:function lme(n,e){return jc(n,e)},subset:function ume(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yG(n[t],e[t]))},ignored:()=>!0};function CG(n,e,t){return cme[t.paths](n.root,e.root,t.matrixParams)&&MG[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xG(n,e,t){return EG(n,e,e.segments,t)}function EG(n,e,t,i){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!w6(s,t)||e.hasChildren()||!Dy(s,t,i))}if(n.segments.length===t.length){if(!w6(n.segments,t)||!Dy(n.segments,t,i))return!1;for(const s in e.children)if(!n.children[s]||!xG(n.children[s],e.children[s],i))return!1;return!0}{const s=t.slice(0,n.segments.length),r=t.slice(n.segments.length);return!!(w6(n.segments,s)&&Dy(n.segments,s,i)&&n.children[T1])&&EG(n.children[T1],e,r,i)}}function Dy(n,e,t){return e.every((i,s)=>MG[t](n[s].parameters,i.parameters))}class E6{constructor(e=new wi([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Du(this.queryParams),this._queryParamMap}toString(){return hme.serialize(this)}}class wi{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oy(this)}}class r9{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Du(this.parameters),this._parameterMap}toString(){return SG(this)}}function w6(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Ru=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:()=>new Ry,providedIn:"root"})}return n})();class Ry{parse(e){const t=new Eme(e);return new E6(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${o9(e.root,!0)}`,i=function gme(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(s=>`${ky(t)}=${ky(s)}`).join("&"):`${ky(t)}=${ky(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function pme(n){return encodeURI(n)}(e.fragment)}`:""}`}}const hme=new Ry;function Oy(n){return n.segments.map(e=>SG(e)).join("/")}function o9(n,e){if(!n.hasChildren())return Oy(n);if(e){const t=n.children[T1]?o9(n.children[T1],!1):"",i=[];return Object.entries(n.children).forEach(([s,r])=>{s!==T1&&i.push(`${s}:${o9(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function fme(n,e){let t=[];return Object.entries(n.children).forEach(([i,s])=>{i===T1&&(t=t.concat(e(s,i)))}),Object.entries(n.children).forEach(([i,s])=>{i!==T1&&(t=t.concat(e(s,i)))}),t}(n,(i,s)=>s===T1?[o9(n.children[T1],!1)]:[`${s}:${o9(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[T1]?`${Oy(n)}/${t[0]}`:`${Oy(n)}/(${t.join("//")})`}}function wG(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ky(n){return wG(n).replace(/%3B/gi,";")}function GT(n){return wG(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fy(n){return decodeURIComponent(n)}function TG(n){return Fy(n.replace(/\+/g,"%20"))}function SG(n){return`${GT(n.path)}${function mme(n){return Object.entries(n).map(([e,t])=>`;${GT(e)}=${GT(t)}`).join("")}(n.parameters)}`}const _me=/^[^\/()?;#]+/;function $T(n){const e=n.match(_me);return e?e[0]:""}const yme=/^[^\/()?;=#]+/,Mme=/^[^=?&#]+/,bme=/^[^&#]+/;class Eme{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wi([],{}):new wi([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[T1]=new wi(e,t)),i}parseSegment(){const e=$T(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new We(4009,!1);return this.capture(e),new r9(Fy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function vme(n){const e=n.match(yme);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=$T(this.remaining);s&&(i=s,this.capture(i))}e[Fy(t)]=Fy(i)}parseQueryParam(e){const t=function Cme(n){const e=n.match(Mme);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function xme(n){const e=n.match(bme);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=TG(t),r=TG(i);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(r)}else e[s]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$T(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new We(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=T1);const o=this.parseChildren();t[r]=1===Object.keys(o).length?o[T1]:new wi([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new We(4011,!1)}}function AG(n){return n.segments.length>0?new wi([],{[T1]:n}):n}function LG(n){const e={};for(const[i,s]of Object.entries(n.children)){const r=LG(s);if(i===T1&&0===r.segments.length&&r.hasChildren())for(const[o,a]of Object.entries(r.children))e[o]=a;else(r.segments.length>0||r.hasChildren())&&(e[i]=r)}return function wme(n){if(1===n.numberOfChildren&&n.children[T1]){const e=n.children[T1];return new wi(n.segments.concat(e.segments),e.children)}return n}(new wi(n.segments,e))}function T6(n){return n instanceof E6}function IG(n){let e;const s=AG(function t(r){const o={};for(const c of r.children){const l=t(c);o[c.outlet]=l}const a=new wi(r.url,o);return r===n&&(e=a),a}(n.root));return e??s}function zG(n,e,t,i){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return WT(s,s,s,t,i);const r=function Sme(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new NG(!0,0,n);let e=0,t=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Object.entries(r.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new NG(t,e,i)}(e);if(r.toRoot())return WT(s,s,new wi([],{}),t,i);const o=function Ame(n,e,t){if(n.isAbsolute)return new Uy(e,!0,0);if(!t)return new Uy(e,!1,NaN);if(null===t.parent)return new Uy(t,!0,0);const i=Vy(n.commands[0])?0:1;return function Lme(n,e,t){let i=n,s=e,r=t;for(;r>s;){if(r-=s,i=i.parent,!i)throw new We(4005,!1);s=i.segments.length}return new Uy(i,!1,s-r)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(r,s,n),a=o.processChildren?c9(o.segmentGroup,o.index,r.commands):DG(o.segmentGroup,o.index,r.commands);return WT(s,o.segmentGroup,a,t,i)}function Vy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function a9(n){return"object"==typeof n&&null!=n&&n.outlets}function WT(n,e,t,i,s){let o,r={};i&&Object.entries(i).forEach(([c,l])=>{r[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:PG(n,e,t);const a=AG(LG(o));return new E6(a,r,s)}function PG(n,e,t){const i={};return Object.entries(n.children).forEach(([s,r])=>{i[s]=r===e?t:PG(r,e,t)}),new wi(n.segments,i)}class NG{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Vy(i[0]))throw new We(4003,!1);const s=i.find(a9);if(s&&s!==vG(i))throw new We(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function DG(n,e,t){if(n??=new wi([],{}),0===n.segments.length&&n.hasChildren())return c9(n,e,t);const i=function zme(n,e,t){let i=0,s=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return r;const o=n.segments[s],a=t[i];if(a9(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(s>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!OG(c,l,o))return r;i+=2}else{if(!OG(c,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new wi(n.segments.slice(0,i.pathIndex),{});return r.children[T1]=new wi(n.segments.slice(i.pathIndex),n.children),c9(r,0,s)}return i.match&&0===s.length?new wi(n.segments,{}):i.match&&!n.hasChildren()?qT(n,e,t):i.match?c9(n,0,s):qT(n,e,t)}function c9(n,e,t){if(0===t.length)return new wi(n.segments,{});{const i=function Ime(n){return a9(n[0])?n[0].outlets:{[T1]:n}}(t),s={};if(Object.keys(i).some(r=>r!==T1)&&n.children[T1]&&1===n.numberOfChildren&&0===n.children[T1].segments.length){const r=c9(n.children[T1],e,t);return new wi(n.segments,r.children)}return Object.entries(i).forEach(([r,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(s[r]=DG(n.children[r],e,o))}),Object.entries(n.children).forEach(([r,o])=>{void 0===i[r]&&(s[r]=o)}),new wi(n.segments,s)}}function qT(n,e,t){const i=n.segments.slice(0,e);let s=0;for(;s<t.length;){const r=t[s];if(a9(r)){const c=Pme(r.outlets);return new wi(i,c)}if(0===s&&Vy(t[0])){i.push(new r9(n.segments[e].path,RG(t[0]))),s++;continue}const o=a9(r)?r.outlets[T1]:`${r}`,a=s<t.length-1?t[s+1]:null;o&&a&&Vy(a)?(i.push(new r9(o,RG(a))),s+=2):(i.push(new r9(o,{})),s++)}return new wi(i,{})}function Pme(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=qT(new wi([],{}),0,i))}),e}function RG(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function OG(n,e,t){return n==t.path&&jc(e,t.parameters)}const l9="imperative";var X1=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(X1||{});class Gc{constructor(e,t){this.id=e,this.url=t}}class By extends Gc{constructor(e,t,i="imperative",s=null){super(e,t),this.type=X1.NavigationStart,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Q3 extends Gc{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=X1.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Bo=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Bo||{}),Hy=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Hy||{});class S6 extends Gc{constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s,this.type=X1.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ou extends Gc{constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s,this.type=X1.NavigationSkipped}}class KT extends Gc{constructor(e,t,i,s){super(e,t),this.error=i,this.target=s,this.type=X1.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kG extends Gc{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=X1.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nme extends Gc{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=X1.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dme extends Gc{constructor(e,t,i,s,r){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r,this.type=X1.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rme extends Gc{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=X1.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ome extends Gc{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=X1.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kme{constructor(e){this.route=e,this.type=X1.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fme{constructor(e){this.route=e,this.type=X1.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vme{constructor(e){this.snapshot=e,this.type=X1.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ume{constructor(e){this.snapshot=e,this.type=X1.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bme{constructor(e){this.snapshot=e,this.type=X1.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hme{constructor(e){this.snapshot=e,this.type=X1.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FG{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=X1.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class XT{}class jy{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}}function oc(n){return n.outlet||T1}function u9(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Kme{get injector(){return u9(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new d9(this.rootInjector),this.attachRef=null}}let d9=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){const s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Kme(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)(ut(cr))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class VG{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=YT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=YT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ZT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return ZT(e,this._root).map(t=>t.value)}}function YT(n,e){if(n===e.value)return e;for(const t of e.children){const i=YT(n,t);if(i)return i}return null}function ZT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ZT(n,t);if(i.length)return i.unshift(e),i}return[]}class ac{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ku(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class UG extends VG{constructor(e,t){super(e),this.snapshot=t,QT(this,e)}toString(){return this.snapshot.toString()}}function BG(n){const e=function Xme(n){const r=new $y([],{},{},"",{},T1,n,null,{});return new HG("",new ac(r,[]))}(n),t=new bt([new r9("",{})]),i=new bt({}),s=new bt({}),r=new bt({}),o=new bt(""),a=new Fu(t,i,r,o,s,T1,n,e.root);return a.snapshot=e.root,new UG(new ac(a,[]),e)}class Fu{constructor(e,t,i,s,r,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=r,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Bt(l=>l[s9]))??zn(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Bt(e=>Du(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Bt(e=>Du(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gy(n,e,t="emptyOnly"){let i;const{routeConfig:s}=n;return i=null===e||"always"!==t&&""!==s?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...s?.data,...n._resolvedData}},s&&GG(s)&&(i.resolve[s9]=s.title),i}class $y{get title(){return this.data?.[s9]}constructor(e,t,i,s,r,o,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Du(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Du(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HG extends VG{constructor(e,t){super(t),this.url=e,QT(this,t)}toString(){return jG(this._root)}}function QT(n,e){e.value._routerState=n,e.children.forEach(t=>QT(n,t))}function jG(n){const e=n.children.length>0?` { ${n.children.map(jG).join(", ")} } `:"";return`${n.value}${e}`}function JT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jc(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),jc(e.params,t.params)||n.paramsSubject.next(t.params),function ame(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),jc(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function eS(n,e){const t=jc(n.params,e.params)&&function dme(n,e){return w6(n,e)&&n.every((t,i)=>jc(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||eS(n.parent,e.parent))}function GG(n){return"string"==typeof n.title||null===n.title}let $G=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=T1,this.activateEvents=new lr,this.deactivateEvents=new lr,this.attachEvents=new lr,this.detachEvents=new lr,this.parentContexts=Ke(d9),this.location=Ke(ec),this.changeDetector=Ke(Wh),this.inputBinder=Ke(Wy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new We(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new We(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new We(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new We(4013,!1);this._activatedRoute=t;const s=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new tS(t,a,s.injector);this.activated=s.createComponent(o,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ks({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nr]})}return n})();class tS{__ngOutletInjector(e){return new tS(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Fu?this.route:e===d9?this.childContexts:this.parent.get(e,t)}}const Wy=new rt("");let WG=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,s=Ay([i.queryParams,i.params,i.data]).pipe(w2(([r,o,a],c)=>(a={...r,...o,...a},0===c?zn(a):Promise.resolve(a)))).subscribe(r=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function Jfe(n){const e=y1(n);if(!e)return null;const t=new Th(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,r[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})();function f9(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const s=function Zme(n,e,t){return e.children.map(i=>{for(const s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return f9(n,i,s);return f9(n,i)})}(n,e,t);return new ac(i,s)}{if(n.shouldAttach(e.value)){const r=n.retrieve(e.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>f9(n,a)),o}}const i=function Qme(n){return new Fu(new bt(n.url),new bt(n.params),new bt(n.queryParams),new bt(n.fragment),new bt(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(r=>f9(n,r));return new ac(i,s)}}class nS{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}}const qG="ngNavigationCancelingError";function qy(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=T6(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=KG(!1,Bo.Redirect);return s.url=t,s.navigationBehaviorOptions=i,s}function KG(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[qG]=!0,t.cancellationCode=e,t}function XG(n){return!!n&&n[qG]}class tge{constructor(e,t,i,s,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),JT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const s=ku(t);e.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),Object.values(s).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else r&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=ku(e);for(const o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=ku(e);for(const o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const s=ku(t);e.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new Hme(r.value.snapshot))}),e.children.length&&this.forwardEvent(new Ume(e.value.snapshot))}activateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(JT(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),JT(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=s,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}}class YG{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ky{constructor(e,t){this.component=e,this.route=t}}function nge(n,e,t){const i=n._root;return h9(i,e?e._root:null,t,[i.value])}function Vu(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Km(n){return null!==Ga(n)}(n)?e.get(n):n:i}function h9(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=ku(e);return n.children.forEach(o=>{(function sge(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const c=function rge(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!w6(n.url,e.url);case"pathParamsOrQueryParamsChange":return!w6(n.url,e.url)||!jc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eS(n,e)||!jc(n.queryParams,e.queryParams);default:return!eS(n,e)}}(o,r,r.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new YG(i)):(r.data=o.data,r._resolvedData=o._resolvedData),h9(n,e,r.component?a?a.children:null:t,i,s),c&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Ky(a.outlet.component,o))}else o&&p9(e,a,s),s.canActivateChecks.push(new YG(i)),h9(n,null,r.component?a?a.children:null:t,i,s)})(o,r[o.value.outlet],t,i.concat([o.value]),s),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,a])=>p9(a,t.getContext(o),s)),s}function p9(n,e,t){const i=ku(n),s=n.value;Object.entries(i).forEach(([r,o])=>{p9(o,s.component?e?e.children.getContext(r):null:e,t)}),t.canDeactivateChecks.push(new Ky(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function m9(n){return"function"==typeof n}function ZG(n){return n instanceof Ly||"EmptyError"===n?.name}const Xy=Symbol("INITIAL_VALUE");function Uu(){return w2(n=>Ay(n.map(e=>e.pipe(M4(1),i9(Xy)))).pipe(Bt(e=>{for(const t of e)if(!0!==t){if(t===Xy)return Xy;if(!1===t||fge(t))return t}return!0}),uo(e=>e!==Xy),M4(1)))}function fge(n){return T6(n)||n instanceof nS}function QG(n){return function yc(...n){return ka(n)}(Qs(e=>{if("boolean"!=typeof e)throw qy(0,e)}),Bt(e=>!0===e))}class iS{constructor(e){this.segmentGroup=e||null}}class Yy extends Error{constructor(e){super(),this.urlTree=e}}function Bu(n){return n9(new iS(n))}class wge{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return zn(i);if(s.numberOfChildren>1||!s.children[T1])return n9(new We(4e3,!1));s=s.children[T1]}}applyRedirectCommands(e,t,i,s,r){if("string"!=typeof t){const a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:m,data:_,title:b}=s,v=qa(r,()=>a({params:m,data:_,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:b}));if(v instanceof E6)throw new Yy(v);t=v}const o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if("/"===t[0])throw new Yy(o);return o}applyRedirectCreateUrlTree(e,t,i,s){const r=this.createSegmentGroup(e,t.root,i,s);return new E6(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([s,r])=>{if("string"==typeof r&&":"===r[0]){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,s){const r=this.createSegments(e,t.segments,i,s);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,s)}),new wi(r,o)}createSegments(e,t,i,s){return t.map(r=>":"===r.path[0]?this.findPosParam(e,r,s):this.findOrReturn(r,i))}findPosParam(e,t,i){const s=i[t.path.substring(1)];if(!s)throw new We(4001,!1);return s}findOrReturn(e,t){let i=0;for(const s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}}const sS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tge(n,e,t,i,s){const r=JG(n,e,t);return r.matched?(i=function jme(n,e){return n.providers&&!n._injector&&(n._injector=A_(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function bge(n,e,t,i){const s=e.canMatch;return s&&0!==s.length?zn(s.map(o=>{const a=Vu(o,n);return b4(function dge(n){return n&&m9(n.canMatch)}(a)?a.canMatch(e,t):qa(n,()=>a(e,t)))})).pipe(Uu(),QG()):zn(!0)}(i,e,t).pipe(Bt(o=>!0===o?r:{...sS}))):zn(r)}function JG(n,e,t){if("**"===e.path)return function Sge(n){return{matched:!0,parameters:n.length>0?vG(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...sS}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||ome)(t,n,e);if(!s)return{...sS};const r={};Object.entries(s.posParams??{}).forEach(([a,c])=>{r[a]=c.path});const o=s.consumed.length>0?{...r,...s.consumed[s.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function e$(n,e,t,i){return t.length>0&&function Ige(n,e,t){return t.some(i=>Zy(n,e,i)&&oc(i)!==T1)}(n,t,i)?{segmentGroup:new wi(e,Lge(i,new wi(t,n.children))),slicedSegments:[]}:0===t.length&&function zge(n,e,t){return t.some(i=>Zy(n,e,i))}(n,t,i)?{segmentGroup:new wi(n.segments,Age(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new wi(n.segments,n.children),slicedSegments:t}}function Age(n,e,t,i){const s={};for(const r of t)if(Zy(n,e,r)&&!i[oc(r)]){const o=new wi([],{});s[oc(r)]=o}return{...i,...s}}function Lge(n,e){const t={};t[T1]=e;for(const i of n)if(""===i.path&&oc(i)!==T1){const s=new wi([],{});t[oc(i)]=s}return t}function Zy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Nge{}class Oge{constructor(e,t,i,s,r,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=s,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new wge(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new We(4002,`'${e.segmentGroup}'`)}recognize(){const e=e$(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Bt(({children:t,rootSnapshot:i})=>{const s=new ac(i,t),r=new HG("",s),o=function Tme(n,e,t=null,i=null){return zG(IG(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),{state:r,tree:o}}))}match(e){const t=new $y([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),T1,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,T1,t).pipe(Bt(i=>({children:i,rootSnapshot:t})),x6(i=>{if(i instanceof Yy)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof iS?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,s,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i,r):this.processSegment(e,t,i,i.segments,s,!0,r).pipe(Bt(o=>o instanceof ac?[o]:[]))}processChildren(e,t,i,s){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return cs(r).pipe(Nu(o=>{const a=i.children[o],c=function qme(n,e){const t=n.filter(i=>oc(i)===e);return t.push(...n.filter(i=>oc(i)!==e)),t}(t,o);return this.processSegmentGroup(e,c,a,o,s)}),Py((o,a)=>(o.push(...a),o)),zy(null),function ime(n,e){const t=arguments.length>=2;return i=>i.pipe(n?uo((s,r)=>n(s,r,i)):ir,HT(1),t?zy(e):gG(()=>new Ly))}(),dr(o=>{if(null===o)return Bu(i);const a=t$(o);return function kge(n){n.sort((e,t)=>e.value.outlet===T1?-1:t.value.outlet===T1?1:e.value.outlet.localeCompare(t.value.outlet))}(a),zn(a)}))}processSegment(e,t,i,s,r,o,a){return cs(t).pipe(Nu(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,s,r,o,a).pipe(x6(l=>{if(l instanceof iS)return zn(null);throw l}))),C4(c=>!!c),x6(c=>{if(ZG(c))return function Pge(n,e,t){return 0===e.length&&!n.children[t]}(i,s,r)?zn(new Nge):Bu(i);throw c}))}processSegmentAgainstRoute(e,t,i,s,r,o,a,c){return oc(i)===o||o!==T1&&Zy(s,r,i)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,s,i,r,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,i,r,o,c):Bu(s):Bu(s)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o,a){const{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=JG(t,s,r);if(!c)return Bu(t);"string"==typeof s.redirectTo&&"/"===s.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=new $y(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,n$(s),oc(s),s.component??s._loadedComponent??null,s,i$(s)),_=Gy(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(_.params),m.data=Object.freeze(_.data);const b=this.applyRedirects.applyRedirectCommands(u,s.redirectTo,d,m,e);return this.applyRedirects.lineralizeSegments(s,b).pipe(dr(v=>this.processSegment(e,i,t,v.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,s,r,o){const a=Tge(t,i,s,e);return"**"===i.path&&(t.children={}),a.pipe(w2(c=>c.matched?this.getChildConfig(e=i._injector??e,i,s).pipe(w2(({routes:l})=>{const u=i._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:m}=c,_=new $y(h,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,n$(i),oc(i),i.component??i._loadedComponent??null,i,i$(i)),b=Gy(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(b.params),_.data=Object.freeze(b.data);const{segmentGroup:v,slicedSegments:M}=e$(t,h,m,l);if(0===M.length&&v.hasChildren())return this.processChildren(u,l,v,_).pipe(Bt(T=>new ac(_,T)));if(0===l.length&&0===M.length)return zn(new ac(_,[]));const E=oc(i)===r;return this.processSegment(u,l,v,M,E?T1:r,!0,_).pipe(Bt(T=>new ac(_,T instanceof ac?[T]:[])))})):Bu(t)))}getChildConfig(e,t,i){return t.children?zn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?zn({routes:t._loadedRoutes,injector:t._loadedInjector}):function Cge(n,e,t,i){const s=e.canLoad;return void 0===s||0===s.length?zn(!0):zn(s.map(o=>{const a=Vu(o,n);return b4(function age(n){return n&&m9(n.canLoad)}(a)?a.canLoad(e,t):qa(n,()=>a(e,t)))})).pipe(Uu(),QG())}(e,t,i).pipe(dr(s=>s?this.configLoader.loadChildren(e,t).pipe(Qs(r=>{t._loadedRoutes=r.routes,t._loadedInjector=r.injector})):function Ege(){return n9(KG(!1,Bo.GuardRejected))}())):zn({routes:[],injector:e})}}function Fge(n){const e=n.value.routeConfig;return e&&""===e.path}function t$(n){const e=[],t=new Set;for(const i of n){if(!Fge(i)){e.push(i);continue}const s=e.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),t.add(s)):e.push(i)}for(const i of t){const s=t$(i.children);e.push(new ac(i.value,s))}return e.filter(i=>!t.has(i))}function n$(n){return n.data||{}}function i$(n){return n.resolve||{}}function s$(n){const e=n.children.map(t=>s$(t)).flat();return[n,...e]}function rS(n){return w2(e=>{const t=n(e);return t?cs(t).pipe(Bt(()=>e)):zn(e)})}let r$=(()=>{class n{buildTitle(t){let i,s=t.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(r=>r.outlet===T1);return i}getResolvedTitleForRoute(t){return t.data[s9]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:()=>Ke(Gge),providedIn:"root"})}return n})(),Gge=(()=>{class n extends r${constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(ut(xpe))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hu=new rt("",{providedIn:"root",factory:()=>({})});let o$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=c2({type:n,selectors:[["ng-component"]],standalone:!0,features:[G_],decls:1,vars:0,template:function(i,s){1&i&&oi(0,"router-outlet")},dependencies:[$G],encapsulation:2})}return n})();function oS(n){const e=n.children&&n.children.map(oS),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==T1&&(t.component=o$),t}const ju=new rt("");let aS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ke(fH)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return zn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=b4(t.loadComponent()).pipe(Bt(a$),Qs(r=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=r}),Ny(()=>{this.componentLoaders.delete(t)})),s=new mG(i,()=>new Ee).pipe(BT());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return zn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const r=function $ge(n,e,t,i){return b4(n.loadChildren()).pipe(Bt(a$),dr(s=>s instanceof _V||Array.isArray(s)?zn(s):cs(e.compileModuleAsync(s))),Bt(s=>{i&&i(n);let r,o,a=!1;return Array.isArray(s)?(o=s,!0):(r=s.create(t).injector,o=r.get(ju,[],{optional:!0,self:!0}).flat()),{routes:o.map(oS),injector:r}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Ny(()=>{this.childrenLoaders.delete(i)})),o=new mG(r,()=>new Ee).pipe(BT());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function a$(n){return function Wge(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:()=>Ke(qge),providedIn:"root"})}return n})(),qge=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const c$=new rt(""),l$=new rt("");function Kge(n,e,t){const i=n.get(l$),s=n.get(Vs);return n.get(K1).runOutsideAngular(()=>{if(!s.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let r;const o=new Promise(l=>{r=l}),a=s.startViewTransition(()=>(r(),function Xge(n){return new Promise(e=>{D_({read:()=>setTimeout(e)},{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&qa(n,()=>c({transition:a,from:e,to:t})),o})}const u$=new rt("");let Qy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=Ke(aS),this.environmentInjector=Ke(cr),this.urlSerializer=Ke(Ru),this.rootContexts=Ke(d9),this.location=Ke(Yh),this.inputBindingEnabled=null!==Ke(Wy,{optional:!0}),this.titleStrategy=Ke(r$),this.options=Ke(Hu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ke(cS),this.createViewTransition=Ke(c$,{optional:!0}),this.navigationErrorHandler=Ke(u$,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>zn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Fme(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new kme(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,s){return this.transitions=new bt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:l9,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(uo(r=>0!==r.id),Bt(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),w2(r=>{let o=!1,a=!1;return zn(r).pipe(w2(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Bo.SupersededByNewNavigation),rc;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Ou(c.id,this.urlSerializer.serialize(c.rawUrl),d,Hy.IgnoredSameUrlNavigation)),c.resolve(!1),rc}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return zn(c).pipe(w2(d=>{const h=this.transitions?.getValue();return this.events.next(new By(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?rc:Promise.resolve(d)}),function Vge(n,e,t,i,s,r){return dr(o=>function Dge(n,e,t,i,s,r,o="emptyOnly"){return new Oge(n,e,t,i,s,o,r).recognize()}(n,e,t,i,o.extractedUrl,s,r).pipe(Bt(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qs(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new kG(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:m,restoredState:_,extras:b}=c,v=new By(d,this.urlSerializer.serialize(h),m,_);this.events.next(v);const M=BG(this.rootComponentType).snapshot;return this.currentTransition=r={...c,targetSnapshot:M,urlAfterRedirects:h,extras:{...b,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,zn(r)}{const d="";return this.events.next(new Ou(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Hy.IgnoredByUrlHandlingStrategy)),c.resolve(!1),rc}}),Qs(c=>{const l=new Nme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Bt(c=>(this.currentTransition=r={...c,guards:nge(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},r)),function hge(n,e){return dr(t=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return 0===o.length&&0===r.length?zn({...t,guardsResult:!0}):function pge(n,e,t,i){return cs(n).pipe(dr(s=>function Mge(n,e,t,i,s){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?zn(r.map(a=>{const c=u9(e)??s,l=Vu(a,c);return b4(function uge(n){return n&&m9(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):qa(c,()=>l(n,e,t,i))).pipe(C4())})).pipe(Uu()):zn(!0)}(s.component,s.route,t,e,i)),C4(s=>!0!==s,!0))}(o,i,s,n).pipe(dr(a=>a&&function oge(n){return"boolean"==typeof n}(a)?function mge(n,e,t,i){return cs(e).pipe(Nu(s=>Iy(function _ge(n,e){return null!==n&&e&&e(new Vme(n)),zn(!0)}(s.route.parent,i),function gge(n,e){return null!==n&&e&&e(new Bme(n)),zn(!0)}(s.route,i),function vge(n,e,t){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(o=>function ige(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>pG(()=>zn(o.guards.map(c=>{const l=u9(o.node)??t,u=Vu(c,l);return b4(function lge(n){return n&&m9(n.canActivateChild)}(u)?u.canActivateChild(i,n):qa(l,()=>u(i,n))).pipe(C4())})).pipe(Uu())));return zn(r).pipe(Uu())}(n,s.path,t),function yge(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return zn(!0);const s=i.map(r=>pG(()=>{const o=u9(e)??t,a=Vu(r,o);return b4(function cge(n){return n&&m9(n.canActivate)}(a)?a.canActivate(e,n):qa(o,()=>a(e,n))).pipe(C4())}));return zn(s).pipe(Uu())}(n,s.route,t))),C4(s=>!0!==s,!0))}(i,r,n,e):zn(a)),Bt(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Qs(c=>{if(r.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw qy(0,c.guardsResult);const l=new Dme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),uo(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",Bo.GuardRejected),!1)),rS(c=>{if(c.guards.canActivateChecks.length)return zn(c).pipe(Qs(l=>{const u=new Rme(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),w2(l=>{let u=!1;return zn(l).pipe(function Uge(n,e){return dr(t=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return zn(t);const r=new Set(s.map(c=>c.route)),o=new Set;for(const c of r)if(!o.has(c))for(const l of s$(c))o.add(l);let a=0;return cs(o).pipe(Nu(c=>r.has(c)?function Bge(n,e,t,i){const s=n.routeConfig,r=n._resolve;return void 0!==s?.title&&!GG(s)&&(r[s9]=s.title),function Hge(n,e,t,i){const s=jT(n);if(0===s.length)return zn({});const r={};return cs(s).pipe(dr(o=>function jge(n,e,t,i){const s=u9(e)??i,r=Vu(n,s);return b4(r.resolve?r.resolve(e,t):qa(s,()=>r(e,t)))}(n[o],e,t,i).pipe(C4(),Qs(a=>{if(a instanceof nS)throw qy(new Ry,a);r[o]=a}))),HT(1),function sme(n){return Bt(()=>n)}(r),x6(o=>ZG(o)?rc:n9(o)))}(r,n,e,i).pipe(Bt(o=>(n._resolvedData=o,n.data=Gy(n,n.parent,t).resolve,null)))}(c,i,n,e):(c.data=Gy(c,c.parent,n).resolve,zn(void 0))),Qs(()=>a++),HT(1),dr(c=>a===o.size?zn(t):rc))})}(this.paramsInheritanceStrategy,this.environmentInjector),Qs({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Bo.NoDataFromResolver)}}))}),Qs(l=>{const u=new Ome(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),rS(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Qs(h=>{u.component=h}),Bt(()=>{})));for(const h of u.children)d.push(...l(h));return d};return Ay(l(c.targetSnapshot.root)).pipe(zy(null),M4(1))}),rS(()=>this.afterPreactivation()),w2(()=>{const{currentSnapshot:c,targetSnapshot:l}=r,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?cs(u).pipe(Bt(()=>r)):zn(r)}),Bt(c=>{const l=function Yme(n,e,t){const i=f9(n,e._root,t?t._root:void 0);return new UG(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,r}),Qs(()=>{this.events.next(new XT)}),((n,e,t,i)=>Bt(s=>(new tge(e,s.targetRouterState,s.currentRouterState,t,i).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),M4(1),Qs({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Q3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),_G(this.transitionAbortSubject.pipe(Qs(c=>{throw c}))),Ny(()=>{!o&&!a&&this.cancelNavigationTransition(r,"",Bo.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),x6(c=>{if(a=!0,XG(c))this.events.next(new S6(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),function Jme(n){return XG(n)&&T6(n.url)}(c)?this.events.next(new jy(c.url,c.navigationBehaviorOptions)):r.resolve(!1);else{const l=new KT(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);try{const u=qa(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof nS){const{message:d,cancellationCode:h}=qy(0,u);this.events.next(new S6(r.id,this.urlSerializer.serialize(r.extractedUrl),d,h)),this.events.next(new jy(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);const d=t.errorHandler(c);r.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return rc}))}))}cancelNavigationTransition(t,i,s){const r=new S6(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(r),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yge(n){return n!==l9}let Zge=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:()=>Ke(Jge),providedIn:"root"})}return n})();class Qge{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Jge=(()=>{class n extends Qge{static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=Rx(n)))(s||n)}})();static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),d$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:()=>Ke(e_e),providedIn:"root"})}return n})(),e_e=(()=>{class n extends d${constructor(){super(...arguments),this.location=Ke(Yh),this.urlSerializer=Ke(Ru),this.options=Ke(Hu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ke(cS),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new E6,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BG(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof By)this.stateMemento=this.createStateMemento();else if(t instanceof Ou)this.rawUrlTree=i.initialUrl;else if(t instanceof kG){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else t instanceof XT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof S6&&(t.code===Bo.GuardRejected||t.code===Bo.NoDataFromResolver)?this.restoreHistory(i):t instanceof KT?this.restoreHistory(i,!0):t instanceof Q3&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const s=t instanceof E6?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",o)}else{const r={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",r)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-this.browserPageId;0!==r?this.location.historyGo(r):this.currentUrlTree===t.finalUrl&&0===r&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=Rx(n)))(s||n)}})();static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var g9=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(g9||{});function f$(n,e){n.events.pipe(uo(t=>t instanceof Q3||t instanceof S6||t instanceof KT||t instanceof Ou),Bt(t=>t instanceof Q3||t instanceof Ou?g9.COMPLETE:t instanceof S6&&(t.code===Bo.Redirect||t.code===Bo.SupersededByNewNavigation)?g9.REDIRECTING:g9.FAILED),uo(t=>t!==g9.REDIRECTING),M4(1)).subscribe(()=>{e()})}function t_e(n){throw n}const n_e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i_e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $c=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Ke(tH),this.stateManager=Ke(d$),this.options=Ke(Hu,{optional:!0})||{},this.pendingTasks=Ke(n6),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ke(Qy),this.urlSerializer=Ke(Ru),this.location=Ke(Yh),this.urlHandlingStrategy=Ke(cS),this._events=new Ee,this.errorHandler=this.options.errorHandler||t_e,this.navigated=!1,this.routeReuseStrategy=Ke(Zge),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ke(ju,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ke(Wy,{optional:!0}),this.eventsSubscription=new Ii,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const s=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(null!==s&&null!==r)if(this.stateManager.handleRouterEvent(i,r),i instanceof S6&&i.code!==Bo.Redirect&&i.code!==Bo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Q3)this.navigated=!0;else if(i instanceof jy){const o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Yge(s.source),...o};this.scheduleNavigation(a,l9,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function r_e(n){return!(n instanceof XT||n instanceof jy)})(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),l9,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,s){const r={replaceUrl:!0},o=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(r.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(oS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:o;let d,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...r};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}null!==u&&(u=this.removeEmptyProps(u));try{d=IG(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),d=this.currentUrlTree.root}return zG(d,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const s=T6(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,l9,null,i)}navigate(t,i={skipLocationChange:!1}){return function s_e(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new We(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let s;if(s=!0===i?{...n_e}:!1===i?{...i_e}:i,T6(t))return CG(this.currentUrlTree,t,s);const r=this.parseUrl(t);return CG(this.currentUrlTree,r,s)}removeEmptyProps(t){return Object.entries(t).reduce((i,[s,r])=>(null!=r&&(i[s]=r),i),{})}scheduleNavigation(t,i,s,r,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return f$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class h${}let c_e=(()=>{class n{constructor(t,i,s,r,o){this.router=t,this.injector=s,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(uo(t=>t instanceof Q3),Nu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const s=[];for(const r of i){r.providers&&!r._injector&&(r._injector=A_(r.providers,t,`Route: ${r.path}`));const o=r._injector??t,a=r._loadedInjector??o;(r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent)&&s.push(this.preloadConfig(o,r)),(r.children||r._loadedRoutes)&&s.push(this.processRoutes(a,r.children??r._loadedRoutes))}return cs(s).pipe(Pu())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):zn(null);const r=s.pipe(dr(o=>null===o?zn(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?cs([r,this.loader.loadComponent(i)]).pipe(Pu()):r})}static#e=this.\u0275fac=function(i){return new(i||n)(ut($c),ut(fH),ut(cr),ut(h$),ut(aS))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uS=new rt("");let p$=(()=>{class n{constructor(t,i,s,r,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=s,this.zone=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof By?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Q3?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ou&&t.code===Hy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof FG&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new FG(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function jk(){throw new Error("invalid")}()};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac})}return n})();function Wc(n,e){return{\u0275kind:n,\u0275providers:e}}function g$(){const n=Ke(E2);return e=>{const t=n.get(Hc);if(e!==t.components[0])return;const i=n.get($c),s=n.get(_$);1===n.get(dS)&&i.initialNavigation(),n.get(y$,null,m1.Optional)?.setUpPreloading(),n.get(uS,null,m1.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const _$=new rt("",{factory:()=>new Ee}),dS=new rt("",{providedIn:"root",factory:()=>1}),y$=new rt("");function f_e(n){return Wc(0,[{provide:y$,useExisting:c_e},{provide:h$,useExisting:n}])}function p_e(n){return Wc(9,[{provide:c$,useValue:Kge},{provide:l$,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const v$=new rt("ROUTER_FORROOT_GUARD"),m_e=[Yh,{provide:Ru,useClass:Ry},$c,d9,{provide:Fu,useFactory:function m$(n){return n.routerState.root},deps:[$c]},aS,[]];let M$=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[m_e,[],{provide:ju,multi:!0,useValue:t},{provide:v$,useFactory:v_e,deps:[[$c,new zc,new _a]]},{provide:Hu,useValue:i||{}},i?.useHash?{provide:M6,useClass:she}:{provide:M6,useClass:uj},{provide:uS,useFactory:()=>{const n=Ke(b9e),e=Ke(K1),t=Ke(Hu),i=Ke(Qy),s=Ke(Ru);return t.scrollOffset&&n.setOffset(t.scrollOffset),new p$(s,i,n,e,t)}},i?.preloadingStrategy?f_e(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?M_e(i):[],i?.bindToComponentInputs?Wc(8,[WG,{provide:Wy,useExisting:WG}]).\u0275providers:[],i?.enableViewTransitions?p_e().\u0275providers:[],[{provide:C$,useFactory:g$},{provide:Z_,multi:!0,useExisting:C$}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ju,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(ut(v$,8))};static#t=this.\u0275mod=V2({type:n});static#n=this.\u0275inj=rr({})}return n})();function v_e(n){return"guarded"}function M_e(n){return["disabled"===n.initialNavigation?Wc(3,[{provide:Yw,multi:!0,useFactory:()=>{const e=Ke($c);return()=>{e.setUpLocationChangeListener()}}},{provide:dS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Wc(2,[{provide:dS,useValue:0},{provide:Yw,multi:!0,deps:[E2],useFactory:e=>{const t=e.get(nhe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get($c),r=e.get(_$);f$(s,()=>{i(!0)}),e.get(Qy).afterPreactivation=()=>(i(!0),r.closed?zn(void 0):r),s.initialNavigation()}))}}]).\u0275providers:[]]}const C$=new rt(""),b_e=[];let x_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=V2({type:n});static \u0275inj=rr({imports:[M$.forRoot(b_e),M$]})}return n})();const P$={prefix:"fas",iconName:"atom",icon:[512,512,[9883],"f5d2","M256 398.8c-11.8 5.1-23.4 9.7-34.9 13.5c16.7 33.8 31 35.7 34.9 35.7s18.1-1.9 34.9-35.7c-11.4-3.9-23.1-8.4-34.9-13.5zM446 256c33 45.2 44.3 90.9 23.6 128c-20.2 36.3-62.5 49.3-115.2 43.2c-22 52.1-55.6 84.8-98.4 84.8s-76.4-32.7-98.4-84.8c-52.7 6.1-95-6.8-115.2-43.2C21.7 346.9 33 301.2 66 256c-33-45.2-44.3-90.9-23.6-128c20.2-36.3 62.5-49.3 115.2-43.2C179.6 32.7 213.2 0 256 0s76.4 32.7 98.4 84.8c52.7-6.1 95 6.8 115.2 43.2c20.7 37.1 9.4 82.8-23.6 128zm-65.8 67.4c-1.7 14.2-3.9 28-6.7 41.2c31.8 1.4 38.6-8.7 40.2-11.7c2.3-4.2 7-17.9-11.9-48.1c-6.8 6.3-14 12.5-21.6 18.6zm-6.7-175.9c2.8 13.1 5 26.9 6.7 41.2c7.6 6.1 14.8 12.3 21.6 18.6c18.9-30.2 14.2-44 11.9-48.1c-1.6-2.9-8.4-13-40.2-11.7zM290.9 99.7C274.1 65.9 259.9 64 256 64s-18.1 1.9-34.9 35.7c11.4 3.9 23.1 8.4 34.9 13.5c11.8-5.1 23.4-9.7 34.9-13.5zm-159 88.9c1.7-14.3 3.9-28 6.7-41.2c-31.8-1.4-38.6 8.7-40.2 11.7c-2.3 4.2-7 17.9 11.9 48.1c6.8-6.3 14-12.5 21.6-18.6zM110.2 304.8C91.4 335 96 348.7 98.3 352.9c1.6 2.9 8.4 13 40.2 11.7c-2.8-13.1-5-26.9-6.7-41.2c-7.6-6.1-14.8-12.3-21.6-18.6zM336 256a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zm-80-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},oq={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},yS={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 64l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 96l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},_9={prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M48.5 224L40 224c-13.3 0-24-10.7-24-24L16 72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8L48.5 224z"]},sv={prefix:"fas",iconName:"cloud-arrow-down",icon:[640,512,[62337,"cloud-download","cloud-download-alt"],"f0ed","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128l-368 0zm79-167l80 80c9.4 9.4 24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-39 39L344 184c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 134.1-39-39c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9z"]},FK={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},nX={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},US={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},uZ={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},JS={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80l0 48c0 44.2-100.3 80-224 80S0 172.2 0 128L0 80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6L448 288c0 44.2-100.3 80-224 80S0 332.2 0 288L0 186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6l0 85.9c0 44.2-100.3 80-224 80S0 476.2 0 432l0-85.9z"]},GQ={prefix:"fas",iconName:"x",icon:[384,512,[120],"58","M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"]},rA={prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},oJ={prefix:"fab",iconName:"git-alt",icon:[448,512,[],"f841","M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"]},oA={prefix:"fab",iconName:"behance",icon:[576,512,[],"f1b4","M232 237.2c31.8-15.2 48.4-38.2 48.4-74 0-70.6-52.6-87.8-113.3-87.8H0v354.4h171.8c64.4 0 124.9-30.9 124.9-102.9 0-44.5-21.1-77.4-64.7-89.7zM77.9 135.9H151c28.1 0 53.4 7.9 53.4 40.5 0 30.1-19.7 42.2-47.5 42.2h-79v-82.7zm83.3 233.7H77.9V272h84.9c34.3 0 56 14.3 56 50.6 0 35.8-25.9 47-57.6 47zm358.5-240.7H376V94h143.7v34.9zM576 305.2c0-75.9-44.4-139.2-124.9-139.2-78.2 0-131.3 58.8-131.3 135.8 0 79.9 50.3 134.7 131.3 134.7 61.3 0 101-27.6 120.1-86.3H509c-6.7 21.9-34.3 33.5-55.7 33.5-41.3 0-63-24.2-63-65.3h185.1c.3-4.2.6-8.7.6-13.2zM390.4 274c2.3-33.7 24.7-54.8 58.5-54.8 35.4 0 53.2 20.8 56.2 54.8H390.4z"]},gJ={prefix:"fab",iconName:"angular",icon:[448,512,[],"f420","M185.7 268.1h76.2l-38.1-91.6-38.1 91.6zM223.8 32L16 106.4l31.8 275.7 176 97.9 176-97.9 31.8-275.7zM354 373.8h-48.6l-26.2-65.4H168.6l-26.2 65.4H93.7L223.8 81.5z"]},cA={prefix:"fab",iconName:"react",icon:[512,512,[],"f41b","M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"]},MJ={prefix:"fab",iconName:"bootstrap",icon:[576,512,[],"f836","M333.5,201.4c0-22.1-15.6-34.3-43-34.3h-50.4v71.2h42.5C315.4,238.2,333.5,225,333.5,201.4z M517,188.6 c-9.5-30.9-10.9-68.8-9.8-98.1c1.1-30.5-22.7-58.5-54.7-58.5H123.7c-32.1,0-55.8,28.1-54.7,58.5c1,29.3-0.3,67.2-9.8,98.1 c-9.6,31-25.7,50.6-52.2,53.1v28.5c26.4,2.5,42.6,22.1,52.2,53.1c9.5,30.9,10.9,68.8,9.8,98.1c-1.1,30.5,22.7,58.5,54.7,58.5h328.7 c32.1,0,55.8-28.1,54.7-58.5c-1-29.3,0.3-67.2,9.8-98.1c9.6-31,25.7-50.6,52.1-53.1v-28.5C542.7,239.2,526.5,219.6,517,188.6z M300.2,375.1h-97.9V136.8h97.4c43.3,0,71.7,23.4,71.7,59.4c0,25.3-19.1,47.9-43.5,51.8v1.3c33.2,3.6,55.5,26.6,55.5,58.3 C383.4,349.7,352.1,375.1,300.2,375.1z M290.2,266.4h-50.1v78.4h52.3c34.2,0,52.3-13.7,52.3-39.5 C344.7,279.6,326.1,266.4,290.2,266.4z"]},x9={prefix:"fab",iconName:"figma",icon:[384,512,[],"f799","M14 95.7924C14 42.8877 56.8878 0 109.793 0H274.161C327.066 0 369.954 42.8877 369.954 95.7924C369.954 129.292 352.758 158.776 326.711 175.897C352.758 193.019 369.954 222.502 369.954 256.002C369.954 308.907 327.066 351.795 274.161 351.795H272.081C247.279 351.795 224.678 342.369 207.666 326.904V415.167C207.666 468.777 163.657 512 110.309 512C57.5361 512 14 469.243 14 416.207C14 382.709 31.1945 353.227 57.2392 336.105C31.1945 318.983 14 289.5 14 256.002C14 222.502 31.196 193.019 57.2425 175.897C31.196 158.776 14 129.292 14 95.7924ZM176.288 191.587H109.793C74.2172 191.587 45.3778 220.427 45.3778 256.002C45.3778 291.44 73.9948 320.194 109.381 320.416C109.518 320.415 109.655 320.415 109.793 320.415H176.288V191.587ZM207.666 256.002C207.666 291.577 236.505 320.417 272.081 320.417H274.161C309.737 320.417 338.576 291.577 338.576 256.002C338.576 220.427 309.737 191.587 274.161 191.587H272.081C236.505 191.587 207.666 220.427 207.666 256.002ZM109.793 351.795C109.655 351.795 109.518 351.794 109.381 351.794C73.9948 352.015 45.3778 380.769 45.3778 416.207C45.3778 451.652 74.6025 480.622 110.309 480.622C146.591 480.622 176.288 451.186 176.288 415.167V351.795H109.793ZM109.793 31.3778C74.2172 31.3778 45.3778 60.2173 45.3778 95.7924C45.3778 131.368 74.2172 160.207 109.793 160.207H176.288V31.3778H109.793ZM207.666 160.207H274.161C309.737 160.207 338.576 131.368 338.576 95.7924C338.576 60.2173 309.737 31.3778 274.161 31.3778H207.666V160.207Z"]},SJ={prefix:"fab",iconName:"bitbucket",icon:[512,512,[61810],"f171","M22.2 32A16 16 0 0 0 6 47.8a26.35 26.35 0 0 0 .2 2.8l67.9 412.1a21.77 21.77 0 0 0 21.3 18.2h325.7a16 16 0 0 0 16-13.4L505 50.7a16 16 0 0 0-13.2-18.3 24.58 24.58 0 0 0-2.8-.2L22.2 32zm285.9 297.8h-104l-28.1-147h157.3l-25.2 147z"]},AJ={prefix:"fab",iconName:"sass",icon:[640,512,[],"f41e","M301.84 378.92c-.3.6-.6 1.08 0 0zm249.13-87a131.16 131.16 0 0 0-58 13.5c-5.9-11.9-12-22.3-13-30.1-1.2-9.1-2.5-14.5-1.1-25.3s7.7-26.1 7.6-27.2-1.4-6.6-14.3-6.7-24 2.5-25.29 5.9a122.83 122.83 0 0 0-5.3 19.1c-2.3 11.7-25.79 53.5-39.09 75.3-4.4-8.5-8.1-16-8.9-22-1.2-9.1-2.5-14.5-1.1-25.3s7.7-26.1 7.6-27.2-1.4-6.6-14.29-6.7-24 2.5-25.3 5.9-2.7 11.4-5.3 19.1-33.89 77.3-42.08 95.4c-4.2 9.2-7.8 16.6-10.4 21.6-.4.8-.7 1.3-.9 1.7.3-.5.5-1 .5-.8-2.2 4.3-3.5 6.7-3.5 6.7v.1c-1.7 3.2-3.6 6.1-4.5 6.1-.6 0-1.9-8.4.3-19.9 4.7-24.2 15.8-61.8 15.7-63.1-.1-.7 2.1-7.2-7.3-10.7-9.1-3.3-12.4 2.2-13.2 2.2s-1.4 2-1.4 2 10.1-42.4-19.39-42.4c-18.4 0-44 20.2-56.58 38.5-7.9 4.3-25 13.6-43 23.5-6.9 3.8-14 7.7-20.7 11.4-.5-.5-.9-1-1.4-1.5-35.79-38.2-101.87-65.2-99.07-116.5 1-18.7 7.5-67.8 127.07-127.4 98-48.8 176.35-35.4 189.84-5.6 19.4 42.5-41.89 121.6-143.66 133-38.79 4.3-59.18-10.7-64.28-16.3-5.3-5.9-6.1-6.2-8.1-5.1-3.3 1.8-1.2 7 0 10.1 3 7.9 15.5 21.9 36.79 28.9 18.7 6.1 64.18 9.5 119.17-11.8 61.78-23.8 109.87-90.1 95.77-145.6C386.52 18.32 293-.18 204.57 31.22c-52.69 18.7-109.67 48.1-150.66 86.4-48.69 45.6-56.48 85.3-53.28 101.9 11.39 58.9 92.57 97.3 125.06 125.7-1.6.9-3.1 1.7-4.5 2.5-16.29 8.1-78.18 40.5-93.67 74.7-17.5 38.8 2.9 66.6 16.29 70.4 41.79 11.6 84.58-9.3 107.57-43.6s20.2-79.1 9.6-99.5c-.1-.3-.3-.5-.4-.8 4.2-2.5 8.5-5 12.8-7.5 8.29-4.9 16.39-9.4 23.49-13.3-4 10.8-6.9 23.8-8.4 42.6-1.8 22 7.3 50.5 19.1 61.7 5.2 4.9 11.49 5 15.39 5 13.8 0 20-11.4 26.89-25 8.5-16.6 16-35.9 16-35.9s-9.4 52.2 16.3 52.2c9.39 0 18.79-12.1 23-18.3v.1s.2-.4.7-1.2c1-1.5 1.5-2.4 1.5-2.4v-.3c3.8-6.5 12.1-21.4 24.59-46 16.2-31.8 31.69-71.5 31.69-71.5a201.24 201.24 0 0 0 6.2 25.8c2.8 9.5 8.7 19.9 13.4 30-3.8 5.2-6.1 8.2-6.1 8.2a.31.31 0 0 0 .1.2c-3 4-6.4 8.3-9.9 12.5-12.79 15.2-28 32.6-30 37.6-2.4 5.9-1.8 10.3 2.8 13.7 3.4 2.6 9.4 3 15.69 2.5 11.5-.8 19.6-3.6 23.5-5.4a82.2 82.2 0 0 0 20.19-10.6c12.5-9.2 20.1-22.4 19.4-39.8-.4-9.6-3.5-19.2-7.3-28.2 1.1-1.6 2.3-3.3 3.4-5C434.8 301.72 450.1 270 450.1 270a201.24 201.24 0 0 0 6.2 25.8c2.4 8.1 7.09 17 11.39 25.7-18.59 15.1-30.09 32.6-34.09 44.1-7.4 21.3-1.6 30.9 9.3 33.1 4.9 1 11.9-1.3 17.1-3.5a79.46 79.46 0 0 0 21.59-11.1c12.5-9.2 24.59-22.1 23.79-39.6-.3-7.9-2.5-15.8-5.4-23.4 15.7-6.6 36.09-10.2 62.09-7.2 55.68 6.5 66.58 41.3 64.48 55.8s-13.8 22.6-17.7 25-5.1 3.3-4.8 5.1c.5 2.6 2.3 2.5 5.6 1.9 4.6-.8 29.19-11.8 30.29-38.7 1.6-34-31.09-71.4-89-71.1zm-429.18 144.7c-18.39 20.1-44.19 27.7-55.28 21.3C54.61 451 59.31 421.42 82 400c13.8-13 31.59-25 43.39-32.4 2.7-1.6 6.6-4 11.4-6.9.8-.5 1.2-.7 1.2-.7.9-.6 1.9-1.1 2.9-1.7 8.29 30.4.3 57.2-19.1 78.3zm134.36-91.4c-6.4 15.7-19.89 55.7-28.09 53.6-7-1.8-11.3-32.3-1.4-62.3 5-15.1 15.6-33.1 21.9-40.1 10.09-11.3 21.19-14.9 23.79-10.4 3.5 5.9-12.2 49.4-16.2 59.2zm111 53c-2.7 1.4-5.2 2.3-6.4 1.6-.9-.5 1.1-2.4 1.1-2.4s13.9-14.9 19.4-21.7c3.2-4 6.9-8.7 10.89-13.9 0 .5.1 1 .1 1.6-.13 17.9-17.32 30-25.12 34.8zm85.58-19.5c-2-1.4-1.7-6.1 5-20.7 2.6-5.7 8.59-15.3 19-24.5a36.18 36.18 0 0 1 1.9 10.8c-.1 22.5-16.2 30.9-25.89 34.4z"]},E9={prefix:"fab",iconName:"css3",icon:[512,512,[],"f13c","M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"]},DJ={prefix:"fab",iconName:"android",icon:[576,512,[],"f17b","M420.55,301.93a24,24,0,1,1,24-24,24,24,0,0,1-24,24m-265.1,0a24,24,0,1,1,24-24,24,24,0,0,1-24,24m273.7-144.48,47.94-83a10,10,0,1,0-17.27-10h0l-48.54,84.07a301.25,301.25,0,0,0-246.56,0L116.18,64.45a10,10,0,1,0-17.27,10h0l47.94,83C64.53,202.22,8.24,285.55,0,384H576c-8.24-98.45-64.54-181.78-146.85-226.55"]},mv={prefix:"fab",iconName:"js",icon:[448,512,[],"f3b8","M0 32v448h448V32H0zm243.8 349.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"]},gv={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},RJ={prefix:"fab",iconName:"jenkins",icon:[512,512,[],"f3b6","M487.1 425c-1.4-11.2-19-23.1-28.2-31.9-5.1-5-29-23.1-30.4-29.9-1.4-6.6 9.7-21.5 13.3-28.9 5.1-10.7 8.8-23.7 11.3-32.6 18.8-66.1 20.7-156.9-6.2-211.2-10.2-20.6-38.6-49-56.4-62.5-42-31.7-119.6-35.3-170.1-16.6-14.1 5.2-27.8 9.8-40.1 17.1-33.1 19.4-68.3 32.5-78.1 71.6-24.2 10.8-31.5 41.8-30.3 77.8.2 7 4.1 15.8 2.7 22.4-.7 3.3-5.2 7.6-6.1 9.8-11.6 27.7-2.3 64 11.1 83.7 8.1 11.9 21.5 22.4 39.2 25.2.7 10.6 3.3 19.7 8.2 30.4 3.1 6.8 14.7 19 10.4 27.7-2.2 4.4-21 13.8-27.3 17.6C89 407.2 73.7 415 54.2 429c-12.6 9-32.3 10.2-29.2 31.1 2.1 14.1 10.1 31.6 14.7 45.8.7 2 1.4 4.1 2.1 6h422c4.9-15.3 9.7-30.9 14.6-47.2 3.4-11.4 10.2-27.8 8.7-39.7zM205.9 33.7c1.8-.5 3.4.7 4.9 2.4-.2 5.2-5.4 5.1-8.9 6.8-5.4 6.7-13.4 9.8-20 17.2-6.8 7.5-14.4 27.7-23.4 30-4.5 1.1-9.7-.8-13.6-.5-10.4.7-17.7 6-28.3 7.5 13.6-29.9 56.1-54 89.3-63.4zm-104.8 93.6c13.5-14.9 32.1-24.1 54.8-25.9 11.7 29.7-8.4 65-.9 97.6 2.3 9.9 10.2 25.4-2.4 25.7.3-28.3-34.8-46.3-61.3-29.6-1.8-21.5-4.9-51.7 9.8-67.8zm36.7 200.2c-1-4.1-2.7-12.9-2.3-15.1 1.6-8.7 17.1-12.5 11-24.7-11.3-.1-13.8 10.2-24.1 11.3-26.7 2.6-45.6-35.4-44.4-58.4 1-19.5 17.6-38.2 40.1-35.8 16 1.8 21.4 19.2 24.5 34.7 9.2.5 22.5-.4 26.9-7.6-.6-17.5-8.8-31.6-8.2-47.7 1-30.3 17.5-57.6 4.8-87.4 13.6-30.9 53.5-55.3 83.1-70 36.6-18.3 94.9-3.7 129.3 15.8 19.7 11.1 34.4 32.7 48.3 50.7-19.5-5.8-36.1 4.2-33.1 20.3 16.3-14.9 44.2-.2 52.5 16.4 7.9 15.8 7.8 39.3 9 62.8 2.9 57-10.4 115.9-39.1 157.1-7.7 11-14.1 23-24.9 30.6-26 18.2-65.4 34.7-99.2 23.4-44.7-15-65-44.8-89.5-78.8.7 18.7 13.8 34.1 26.8 48.4 11.3 12.5 25 26.6 39.7 32.4-12.3-2.9-31.1-3.8-36.2 7.2-28.6-1.9-55.1-4.8-68.7-24.2-10.6-15.4-21.4-41.4-26.3-61.4zm222 124.1c4.1-3 11.1-2.9 17.4-3.6-5.4-2.7-13-3.7-19.3-2.2-.1-4.2-2-6.8-3.2-10.2 10.6-3.8 35.5-28.5 49.6-20.3 6.7 3.9 9.5 26.2 10.1 37 .4 9-.8 18-4.5 22.8-18.8-.6-35.8-2.8-50.7-7 .9-6.1-1-12.1.6-16.5zm-17.2-20c-16.8.8-26-1.2-38.3-10.8.2-.8 1.4-.5 1.5-1.4 18 8 40.8-3.3 59-4.9-7.9 5.1-14.6 11.6-22.2 17.1zm-12.1 33.2c-1.6-9.4-3.5-12-2.8-20.2 25-16.6 29.7 28.6 2.8 20.2zM226 438.6c-11.6-.7-48.1-14-38.5-23.7 9.4 6.5 27.5 4.9 41.3 7.3.8 4.4-2.8 10.2-2.8 16.4zM57.7 497.1c-4.3-12.7-9.2-25.1-14.8-36.9 30.8-23.8 65.3-48.9 102.2-63.5 2.8-1.1 23.2 25.4 26.2 27.6 16.5 11.7 37 21 56.2 30.2 1.2 8.8 3.9 20.2 8.7 35.5.7 2.3 1.4 4.7 2.2 7.2H57.7zm240.6 5.7h-.8c.3-.2.5-.4.8-.5v.5zm7.5-5.7c2.1-1.4 4.3-2.8 6.4-4.3 1.1 1.4 2.2 2.8 3.2 4.3h-9.6zm15.1-24.7c-10.8 7.3-20.6 18.3-33.3 25.2-6 3.3-27 11.7-33.4 10.2-3.6-.8-3.9-5.3-5.4-9.5-3.1-9-10.1-23.4-10.8-37-.8-17.2-2.5-46 16-42.4 14.9 2.9 32.3 9.7 43.9 16.1 7.1 3.9 11.1 8.6 21.9 9.5-.1 1.4-.1 2.8-.2 4.3-5.9 3.9-15.3 3.8-21.8 7.1 9.5.4 17 2.7 23.5 5.9-.1 3.4-.3 7-.4 10.6zm53.4 24.7h-14c-.1-3.2-2.8-5.8-6.1-5.8s-5.9 2.6-6.1 5.8h-17.4c-2.8-4.4-5.7-8.6-8.9-12.5 2.1-2.2 4-4.7 6-6.9 9 3.7 14.8-4.9 21.7-4.2 7.9.8 14.2 11.7 25.4 11l-.6 12.6zm8.7 0c.2-4 .4-7.8.6-11.5 15.6-7.3 29 1.3 35.7 11.5H383zm83.4-37c-2.3 11.2-5.8 24-9.9 37.1-.2-.1-.4-.1-.6-.1H428c.6-1.1 1.2-2.2 1.9-3.3-2.6-6.1-9-8.7-10.9-15.5 12.1-22.7 6.5-93.4-24.2-78.5 4.3-6.3 15.6-11.5 20.8-19.3 13 10.4 20.8 20.3 33.2 31.4 6.8 6 20 13.3 21.4 23.1.8 5.5-2.6 18.9-3.8 25.1zM222.2 130.5c5.4-14.9 27.2-34.7 45-32 7.7 1.2 18 8.2 12.2 17.7-30.2-7-45.2 12.6-54.4 33.1-8.1-2-4.9-13.1-2.8-18.8zm184.1 63.1c8.2-3.6 22.4-.7 29.6-5.3-4.2-11.5-10.3-21.4-9.3-37.7.5 0 1 0 1.4.1 6.8 14.2 12.7 29.2 21.4 41.7-5.7 13.5-43.6 25.4-43.1 1.2zm20.4-43zm-117.2 45.7c-6.8-10.9-19-32.5-14.5-45.3 6.5 11.9 8.6 24.4 17.8 33.3 4.1 4 12.2 9 8.2 20.2-.9 2.7-7.8 8.6-11.7 9.7-14.4 4.3-47.9.9-36.6-17.1 11.9.7 27.9 7.8 36.8-.8zm27.3 70c3.8 6.6 1.4 18.7 12.1 20.6 20.2 3.4 43.6-12.3 58.1-17.8 9-15.2-.8-20.7-8.9-30.5-16.6-20-38.8-44.8-38-74.7 6.7-4.9 7.3 7.4 8.2 9.7 8.7 20.3 30.4 46.2 46.3 63.5 3.9 4.3 10.3 8.4 11 11.2 2.1 8.2-5.4 18-4.5 23.5-21.7 13.9-45.8 29.1-81.4 25.6-7.4-6.7-10.3-21.4-2.9-31.1zm-201.3-9.2c-6.8-3.9-8.4-21-16.4-21.4-11.4-.7-9.3 22.2-9.3 35.5-7.8-7.1-9.2-29.1-3.5-40.3-6.6-3.2-9.5 3.6-13.1 5.9 4.7-34.1 49.8-15.8 42.3 20.3zm299.6 28.8c-10.1 19.2-24.4 40.4-54 41-.6-6.2-1.1-15.6 0-19.4 22.7-2.2 36.6-13.7 54-21.6zm-141.9 12.4c18.9 9.9 53.6 11 79.3 10.2 1.4 5.6 1.3 12.6 1.4 19.4-33 1.8-72-6.4-80.7-29.6zm92.2 46.7c-1.7 4.3-5.3 9.3-9.8 11.1-12.1 4.9-45.6 8.7-62.4-.3-10.7-5.7-17.5-18.5-23.4-26-2.8-3.6-16.9-12.9-.2-12.9 13.1 32.7 58 29 95.8 28.1z"]},FJ={prefix:"fab",iconName:"node-js",icon:[448,512,[],"f3d3","M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z"]};var cJe=Ve(235),lJe=Ve(578);const BJ=()=>{};let lA={},HJ={},jJ=null,GJ={mark:BJ,measure:BJ};try{typeof window<"u"&&(lA=window),typeof document<"u"&&(HJ=document),typeof MutationObserver<"u"&&(jJ=MutationObserver),typeof performance<"u"&&(GJ=performance)}catch{}const{userAgent:$J=""}=lA.navigator||{},x4=lA,es=HJ,WJ=jJ,_v=GJ,J3=!!es.documentElement&&!!es.head&&"function"==typeof es.addEventListener&&"function"==typeof es.createElement,qJ=~$J.indexOf("MSIE")||~$J.indexOf("Trident/");var ls="classic",KJ="duotone",Ho="sharp",jo="sharp-duotone",uJe=[ls,KJ,Ho,jo],YJ={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},ZJ=[1,2,3,4,5,6,7,8,9,10],bJe=ZJ.concat([11,12,13,14,15,16,17,18,19,20]),w9={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},xJe=[...Object.keys({classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",w9.GROUP,w9.SWAP_OPACITY,w9.PRIMARY,w9.SECONDARY].concat(ZJ.map(n=>"".concat(n,"x"))).concat(bJe.map(n=>"w-".concat(n)));const e0="___FONT_AWESOME___",uA=16,JJ="fa",eee="svg-inline--fa",A6="data-fa-i2svg",dA="data-fa-pseudo-element",SJe="data-fa-pseudo-element-pending",fA="data-prefix",hA="data-icon",tee="fontawesome-i2svg",AJe="async",LJe=["HTML","HEAD","STYLE","SCRIPT"],nee=(()=>{try{return!0}catch{return!1}})(),iee=[ls,Ho,jo];function T9(n){return new Proxy(n,{get:(e,t)=>t in e?e[t]:e[ls]})}const see={...YJ};see[ls]={...YJ[ls],fak:"kit","fa-kit":"kit",fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"};const L6=T9(see),pA={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}};pA[ls]={...pA[ls],kit:"fak","kit-duotone":"fakd"};const S9=T9(pA),mA={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}};mA[ls]={...mA[ls],fak:"fa-kit"};const I6=T9(mA),gA={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}};gA[ls]={...gA[ls],"fa-kit":"fak"};const IJe=T9(gA),zJe=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,ree="fa-layers-text",PJe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,DJe=(T9({classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}}),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),_A=w9,Gu=new Set;Object.keys(S9[ls]).map(Gu.add.bind(Gu)),Object.keys(S9[Ho]).map(Gu.add.bind(Gu)),Object.keys(S9[jo]).map(Gu.add.bind(Gu));const RJe=["kit",...xJe],A9=x4.FontAwesomeConfig||{};es&&"function"==typeof es.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,i]=e;const s=function kJe(n){return""===n||"false"!==n&&("true"===n||n)}(function OJe(n){var e=es.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(t));null!=s&&(A9[i]=s)});const oee={styleDefault:"solid",familyDefault:"classic",cssPrefix:JJ,replacementClass:eee,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};A9.familyPrefix&&(A9.cssPrefix=A9.familyPrefix);const $u={...oee,...A9};$u.autoReplaceSvg||($u.observeMutations=!1);const Cn={};Object.keys(oee).forEach(n=>{Object.defineProperty(Cn,n,{enumerable:!0,set:function(e){$u[n]=e,L9.forEach(t=>t(Cn))},get:function(){return $u[n]}})}),Object.defineProperty(Cn,"familyPrefix",{enumerable:!0,set:function(n){$u.cssPrefix=n,L9.forEach(e=>e(Cn))},get:function(){return $u.cssPrefix}}),x4.FontAwesomeConfig=Cn;const L9=[],E4=uA,qc={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},UJe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function I9(){let n=12,e="";for(;n-- >0;)e+=UJe[62*Math.random()|0];return e}function Wu(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function yA(n){return n.classList?Wu(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function aee(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yv(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function vA(n){return n.size!==qc.size||n.x!==qc.x||n.y!==qc.y||n.rotate!==qc.rotate||n.flipX||n.flipY}var GJe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function cee(){const n=JJ,e=eee,t=Cn.cssPrefix,i=Cn.replacementClass;let s=GJe;if(t!==n||i!==e){const r=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");s=s.replace(r,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(i))}return s}let lee=!1;function MA(){Cn.autoAddCss&&!lee&&(function VJe(n){if(!n||!J3)return;const e=es.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=es.head.childNodes;let i=null;for(let s=t.length-1;s>-1;s--){const r=t[s],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=r)}es.head.insertBefore(e,i)}(cee()),lee=!0)}var $Je={mixout:()=>({dom:{css:cee,insertCss:MA}}),hooks:()=>({beforeDOMElementCreation(){MA()},beforeI2svg(){MA()}})};const t0=x4||{};t0[e0]||(t0[e0]={}),t0[e0].styles||(t0[e0].styles={}),t0[e0].hooks||(t0[e0].hooks={}),t0[e0].shims||(t0[e0].shims=[]);var Kc=t0[e0];const uee=[],dee=function(){es.removeEventListener("DOMContentLoaded",dee),vv=1,uee.map(n=>n())};let vv=!1;function z9(n){const{tag:e,attributes:t={},children:i=[]}=n;return"string"==typeof n?aee(n):"<".concat(e," ").concat(function BJe(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(aee(n[t]),'" '),"").trim()}(t),">").concat(i.map(z9).join(""),"</").concat(e,">")}function fee(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}J3&&(vv=(es.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(es.readyState),vv||es.addEventListener("DOMContentLoaded",dee));var CA=function(e,t,i,s){var c,l,u,r=Object.keys(e),o=r.length,a=void 0!==s?function(e,t){return function(i,s,r,o){return e.call(t,i,s,r,o)}}(t,s):t;for(void 0===i?(c=1,u=e[r[0]]):(c=0,u=i);c<o;c++)u=a(u,e[l=r[c]],l,e);return u};function bA(n){const e=function KJe(n){const e=[];let t=0;const i=n.length;for(;t<i;){const s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<i){const r=n.charCodeAt(t++);56320==(64512&r)?e.push(((1023&s)<<10)+(1023&r)+65536):(e.push(s),t--)}else e.push(s)}return e}(n);return 1===e.length?e[0].toString(16):null}function hee(n){return Object.keys(n).reduce((e,t)=>{const i=n[t];return i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function xA(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:i=!1}=t,s=hee(e);"function"!=typeof Kc.hooks.addPack||i?Kc.styles[n]={...Kc.styles[n]||{},...s}:Kc.hooks.addPack(n,hee(e)),"fas"===n&&xA("fa",e)}const{styles:z6,shims:YJe}=Kc,ZJe={[ls]:Object.values(I6[ls]),[Ho]:Object.values(I6[Ho]),[jo]:Object.values(I6[jo])};let EA=null,pee={},mee={},gee={},_ee={},yee={};const QJe={[ls]:Object.keys(L6[ls]),[Ho]:Object.keys(L6[Ho]),[jo]:Object.keys(L6[jo])};const vee=()=>{const n=i=>CA(z6,(s,r,o)=>(s[o]=CA(r,i,{}),s),{});pee=n((i,s,r)=>(s[3]&&(i[s[3]]=r),s[2]&&s[2].filter(a=>"number"==typeof a).forEach(a=>{i[a.toString(16)]=r}),i)),mee=n((i,s,r)=>(i[r]=r,s[2]&&s[2].filter(a=>"string"==typeof a).forEach(a=>{i[a]=r}),i)),yee=n((i,s,r)=>{const o=s[2];return i[r]=r,o.forEach(a=>{i[a]=r}),i});const e="far"in z6||Cn.autoFetchSvg,t=CA(YJe,(i,s)=>{const r=s[0];let o=s[1];const a=s[2];return"far"===o&&!e&&(o="fas"),"string"==typeof r&&(i.names[r]={prefix:o,iconName:a}),"number"==typeof r&&(i.unicodes[r.toString(16)]={prefix:o,iconName:a}),i},{names:{},unicodes:{}});gee=t.names,_ee=t.unicodes,EA=Mv(Cn.styleDefault,{family:Cn.familyDefault})};function wA(n,e){return(pee[n]||{})[e]}function w4(n,e){return(yee[n]||{})[e]}function Mee(n){return gee[n]||{prefix:null,iconName:null}}function T4(){return EA}(function FJe(n){L9.push(n)})(n=>{EA=Mv(n.styleDefault,{family:Cn.familyDefault})}),vee();const TA=()=>({prefix:null,iconName:null,rest:[]});function Mv(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:t=ls}=e;return S9[t][n]||S9[t][L6[t][n]]||(n in Kc.styles?n:null)||null}const iet={[ls]:Object.keys(I6[ls]),[Ho]:Object.keys(I6[Ho]),[jo]:Object.keys(I6[jo])};function Cv(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:t=!1}=e,i={[ls]:"".concat(Cn.cssPrefix,"-").concat(ls),[Ho]:"".concat(Cn.cssPrefix,"-").concat(Ho),[jo]:"".concat(Cn.cssPrefix,"-").concat(jo)};let s=null,r=ls;const o=uJe.filter(c=>c!==KJ);o.forEach(c=>{(n.includes(i[c])||n.some(l=>iet[c].includes(l)))&&(r=c)});const a=n.reduce((c,l)=>{const u=function eet(n,e){const t=e.split("-"),i=t[0],s=t.slice(1).join("-");return i!==n||""===s||function JJe(n){return~RJe.indexOf(n)}(s)?null:s}(Cn.cssPrefix,l);if(z6[l]?(l=ZJe[r].includes(l)?IJe[r][l]:l,s=l,c.prefix=l):QJe[r].indexOf(l)>-1?(s=l,c.prefix=Mv(l,{family:r})):u?c.iconName=u:l!==Cn.replacementClass&&!o.some(d=>l===i[d])&&c.rest.push(l),!t&&c.prefix&&c.iconName){const d="fa"===s?Mee(c.iconName):{},h=w4(c.prefix,c.iconName);d.prefix&&(s=null),c.iconName=d.iconName||h||c.iconName,c.prefix=d.prefix||c.prefix,"far"===c.prefix&&!z6.far&&z6.fas&&!Cn.autoFetchSvg&&(c.prefix="fas")}return c},TA());return(n.includes("fa-brands")||n.includes("fab"))&&(a.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(a.prefix="fad"),!a.prefix&&r===Ho&&(z6.fass||Cn.autoFetchSvg)&&(a.prefix="fass",a.iconName=w4(a.prefix,a.iconName)||a.iconName),!a.prefix&&r===jo&&(z6.fasds||Cn.autoFetchSvg)&&(a.prefix="fasds",a.iconName=w4(a.prefix,a.iconName)||a.iconName),("fa"===a.prefix||"fa"===s)&&(a.prefix=T4()||"fas"),a}let Cee=[],qu={};const Ku={},ret=Object.keys(Ku);function SA(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];return(qu[n]||[]).forEach(o=>{e=o.apply(null,[e,...i])}),e}function P6(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(qu[n]||[]).forEach(r=>{r.apply(null,t)})}function S4(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ku[n]?Ku[n].apply(null,e):void 0}function AA(n){"fa"===n.prefix&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||T4();if(e)return e=w4(t,e)||e,fee(bee.definitions,t,e)||fee(Kc.styles,t,e)}const bee=new class set{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(r=>{this.definitions[r]={...this.definitions[r]||{},...s[r]},xA(r,s[r]);const o=I6[ls][r];o&&xA(o,s[r]),vee()})}reset(){this.definitions={}}_pullDefinitions(e,t){const i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(s=>{const{prefix:r,iconName:o,icon:a}=i[s],c=a[2];e[r]||(e[r]={}),c.length>0&&c.forEach(l=>{"string"==typeof l&&(e[r][l]=a)}),e[r][o]=a}),e}},Go={noAuto:()=>{Cn.autoReplaceSvg=!1,Cn.observeMutations=!1,P6("noAuto")},config:Cn,dom:{i2svg:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return J3?(P6("beforeI2svg",n),S4("pseudoElements2svg",n),S4("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;!1===Cn.autoReplaceSvg&&(Cn.autoReplaceSvg=!0),Cn.observeMutations=!0,function WJe(n){J3&&(vv?setTimeout(n,0):uee.push(n))}(()=>{aet({autoReplaceSvgRoot:e}),P6("watch",n)})}},parse:{icon:n=>{if(null===n)return null;if("object"==typeof n&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:w4(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&2===n.length){const e=0===n[1].indexOf("fa-")?n[1].slice(3):n[1],t=Mv(n[0]);return{prefix:t,iconName:w4(t,e)||e}}if("string"==typeof n&&(n.indexOf("".concat(Cn.cssPrefix,"-"))>-1||n.match(zJe))){const e=Cv(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||T4(),iconName:w4(e.prefix,e.iconName)||e.iconName}}if("string"==typeof n){const e=T4();return{prefix:e,iconName:w4(e,n)||n}}}},library:bee,findIconDefinition:AA,toHtml:z9},aet=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:e=es}=n;(Object.keys(Kc.styles).length>0||Cn.autoFetchSvg)&&J3&&Cn.autoReplaceSvg&&Go.dom.i2svg({node:e})};function bv(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>z9(t))}}),Object.defineProperty(n,"node",{get:function(){if(!J3)return;const t=es.createElement("div");return t.innerHTML=n.html,t.children}}),n}function LA(n){const{icons:{main:e,mask:t},prefix:i,iconName:s,transform:r,symbol:o,title:a,maskId:c,titleId:l,extra:u,watchable:d=!1}=n,{width:h,height:m}=t.found?t:e,_="fak"===i,b=[Cn.replacementClass,s?"".concat(Cn.cssPrefix,"-").concat(s):""].filter(O=>-1===u.classes.indexOf(O)).filter(O=>""!==O||!!O).concat(u.classes).join(" ");let v={children:[],attributes:{...u.attributes,"data-prefix":i,"data-icon":s,class:b,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(m)}};const M=_&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/m*16*.0625,"em")}:{};d&&(v.attributes[A6]=""),a&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(l||I9())},children:[a]}),delete v.attributes.title);const E={...v,prefix:i,iconName:s,main:e,mask:t,maskId:c,transform:r,symbol:o,styles:{...M,...u.styles}},{children:T,attributes:S}=t.found&&e.found?S4("generateAbstractMask",E)||{children:[],attributes:{}}:S4("generateAbstractIcon",E)||{children:[],attributes:{}};return E.children=T,E.attributes=S,o?function uet(n){let{prefix:e,iconName:t,children:i,attributes:s,symbol:r}=n;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...s,id:!0===r?"".concat(e,"-").concat(Cn.cssPrefix,"-").concat(t):r},children:i}]}]}(E):function cet(n){let{children:e,main:t,mask:i,attributes:s,styles:r,transform:o}=n;if(vA(o)&&t.found&&!i.found){const{width:a,height:c}=t,l={x:a/c/2,y:.5};s.style=yv({...r,"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")})}return[{tag:"svg",attributes:s,children:e}]}(E)}function xee(n){const{content:e,width:t,height:i,transform:s,title:r,extra:o,watchable:a=!1}=n,c={...o.attributes,...r?{title:r}:{},class:o.classes.join(" ")};a&&(c[A6]="");const l={...o.styles};vA(s)&&(l.transform=function jJe(n){let{transform:e,width:t=uA,height:i=uA,startCentered:s=!1}=n,r="";return r+=s&&qJ?"translate(".concat(e.x/E4-t/2,"em, ").concat(e.y/E4-i/2,"em) "):s?"translate(calc(-50% + ".concat(e.x/E4,"em), calc(-50% + ").concat(e.y/E4,"em)) "):"translate(".concat(e.x/E4,"em, ").concat(e.y/E4,"em) "),r+="scale(".concat(e.size/E4*(e.flipX?-1:1),", ").concat(e.size/E4*(e.flipY?-1:1),") "),r+="rotate(".concat(e.rotate,"deg) "),r}({transform:s,startCentered:!0,width:t,height:i}),l["-webkit-transform"]=l.transform);const u=yv(l);u.length>0&&(c.style=u);const d=[];return d.push({tag:"span",attributes:c,children:[e]}),r&&d.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),d}const{styles:IA}=Kc;function zA(n){const e=n[0],t=n[1],[i]=n.slice(4);let s=null;return s=Array.isArray(i)?{tag:"g",attributes:{class:"".concat(Cn.cssPrefix,"-").concat(_A.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Cn.cssPrefix,"-").concat(_A.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Cn.cssPrefix,"-").concat(_A.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:t,icon:s}}const fet={found:!1,width:512,height:512};function PA(n,e){let t=e;return"fa"===e&&null!==Cn.styleDefault&&(e=T4()),new Promise((i,s)=>{if("fa"===t){const r=Mee(n)||{};n=r.iconName||n,e=r.prefix||e}if(n&&e&&IA[e]&&IA[e][n])return i(zA(IA[e][n]));(function het(n,e){!nee&&!Cn.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),i({...fet,icon:Cn.showMissingIcons&&n&&S4("missingIconAbstract")||{}})})}const Eee=()=>{},NA=Cn.measurePerformance&&_v&&_v.mark&&_v.measure?_v:{mark:Eee,measure:Eee},P9='FA "6.6.0"',wee=n=>{NA.mark("".concat(P9," ").concat(n," ends")),NA.measure("".concat(P9," ").concat(n),"".concat(P9," ").concat(n," begins"),"".concat(P9," ").concat(n," ends"))};var DA={begin:n=>(NA.mark("".concat(P9," ").concat(n," begins")),()=>wee(n)),end:wee};const xv=()=>{};function Tee(n){return"string"==typeof(n.getAttribute?n.getAttribute(A6):null)}function yet(n){return es.createElementNS("http://www.w3.org/2000/svg",n)}function vet(n){return es.createElement(n)}function See(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:t=("svg"===n.tag?yet:vet)}=e;if("string"==typeof n)return es.createTextNode(n);const i=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(r){i.setAttribute(r,n.attributes[r])}),(n.children||[]).forEach(function(r){i.appendChild(See(r,{ceFn:t}))}),i}const Ev={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(See(t),e)}),null===e.getAttribute(A6)&&Cn.keepOriginalSource){let t=es.createComment(function Met(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~yA(e).indexOf(Cn.replacementClass))return Ev.replace(n);const i=new RegExp("".concat(Cn.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const r=t[0].attributes.class.split(" ").reduce((o,a)=>(a===Cn.replacementClass||a.match(i)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});t[0].attributes.class=r.toSvg.join(" "),0===r.toNode.length?e.removeAttribute("class"):e.setAttribute("class",r.toNode.join(" "))}const s=t.map(r=>z9(r)).join("\n");e.setAttribute(A6,""),e.innerHTML=s}};function Aee(n){n()}function Lee(n,e){const t="function"==typeof e?e:xv;if(0===n.length)t();else{let i=Aee;Cn.mutateApproach===AJe&&(i=x4.requestAnimationFrame||Aee),i(()=>{const s=function _et(){return!0===Cn.autoReplaceSvg?Ev.replace:Ev[Cn.autoReplaceSvg]||Ev.replace}(),r=DA.begin("mutate");n.map(s),r(),t()})}}let RA=!1;function Iee(){RA=!0}function OA(){RA=!1}let wv=null;function zee(n){if(!WJ||!Cn.observeMutations)return;const{treeCallback:e=xv,nodeCallback:t=xv,pseudoElementsCallback:i=xv,observeMutationsRoot:s=es}=n;wv=new WJ(r=>{if(RA)return;const o=T4();Wu(r).forEach(a=>{if("childList"===a.type&&a.addedNodes.length>0&&!Tee(a.addedNodes[0])&&(Cn.searchPseudoElements&&i(a.target),e(a.target)),"attributes"===a.type&&a.target.parentNode&&Cn.searchPseudoElements&&i(a.target.parentNode),"attributes"===a.type&&Tee(a.target)&&~DJe.indexOf(a.attributeName))if("class"===a.attributeName&&function met(n){const e=n.getAttribute?n.getAttribute(fA):null,t=n.getAttribute?n.getAttribute(hA):null;return e&&t}(a.target)){const{prefix:c,iconName:l}=Cv(yA(a.target));a.target.setAttribute(fA,c||o),l&&a.target.setAttribute(hA,l)}else(function get(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Cn.replacementClass)})(a.target)&&t(a.target)})}),J3&&wv.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Pee(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:t,prefix:i,rest:s}=function xet(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"";let s=Cv(yA(n));return s.prefix||(s.prefix=T4()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=function tet(n,e){return(mee[n]||{})[e]}(s.prefix,n.innerText)||wA(s.prefix,bA(n.innerText))),!s.iconName&&Cn.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}(n),r=function Eet(n){const e=Wu(n.attributes).reduce((s,r)=>("class"!==s.name&&"style"!==s.name&&(s[r.name]=r.value),s),{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Cn.autoA11y&&(t?e["aria-labelledby"]="".concat(Cn.replacementClass,"-title-").concat(i||I9()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),o=SA("parseNodeAttributes",{},n);let a=e.styleParser?function bet(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((i,s)=>{const r=s.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),t}(n):[];return{iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:qc,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:a,attributes:r},...o}}const{styles:Tet}=Kc;function Nee(n){const e="nest"===Cn.autoReplaceSvg?Pee(n,{styleParser:!1}):Pee(n);return~e.extra.classes.indexOf(ree)?S4("generateLayersText",n,e):S4("generateSvgReplacementMutation",n,e)}let Xc=new Set;function Dee(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!J3)return Promise.resolve();const t=es.documentElement.classList,i=u=>t.add("".concat(tee,"-").concat(u)),s=u=>t.remove("".concat(tee,"-").concat(u)),r=Cn.autoFetchSvg?Xc:iee.map(u=>"fa-".concat(u)).concat(Object.keys(Tet));r.includes("fa")||r.push("fa");const o=[".".concat(ree,":not([").concat(A6,"])")].concat(r.map(u=>".".concat(u,":not([").concat(A6,"])"))).join(", ");if(0===o.length)return Promise.resolve();let a=[];try{a=Wu(n.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();i("pending"),s("complete");const c=DA.begin("onTree"),l=a.reduce((u,d)=>{try{const h=Nee(d);h&&u.push(h)}catch(h){nee||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise((u,d)=>{Promise.all(l).then(h=>{Lee(h,()=>{i("active"),i("complete"),s("pending"),"function"==typeof e&&e(),c(),u()})}).catch(h=>{c(),d(h)})})}function Aet(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Nee(n).then(t=>{t&&Lee([t],e)})}iee.map(n=>{Xc.add("fa-".concat(n))}),Object.keys(L6[ls]).map(Xc.add.bind(Xc)),Object.keys(L6[Ho]).map(Xc.add.bind(Xc)),Object.keys(L6[jo]).map(Xc.add.bind(Xc)),Xc=[...Xc];const Iet=function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:t=qc,symbol:i=!1,mask:s=null,maskId:r=null,title:o=null,titleId:a=null,classes:c=[],attributes:l={},styles:u={}}=e;if(!n)return;const{prefix:d,iconName:h,icon:m}=n;return bv({type:"icon",...n},()=>(P6("beforeDOMElementCreation",{iconDefinition:n,params:e}),Cn.autoA11y&&(o?l["aria-labelledby"]="".concat(Cn.replacementClass,"-title-").concat(a||I9()):(l["aria-hidden"]="true",l.focusable="false")),LA({icons:{main:zA(m),mask:s?zA(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:h,transform:{...qc,...t},symbol:i,title:o,maskId:r,titleId:a,extra:{attributes:l,styles:u,classes:c}})))};var zet={mixout(){return{icon:(n=Iet,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(e||{}).icon?e:AA(e||{});let{mask:s}=t;return s&&(s=(s||{}).icon?s:AA(s||{})),n(i,{...t,mask:s})})};var n},hooks:()=>({mutationObserverCallbacks:n=>(n.treeCallback=Dee,n.nodeCallback=Aet,n)}),provides(n){n.i2svg=function(e){const{node:t=es,callback:i=()=>{}}=e;return Dee(t,i)},n.generateSvgReplacementMutation=function(e,t){const{iconName:i,title:s,titleId:r,prefix:o,transform:a,symbol:c,mask:l,maskId:u,extra:d}=t;return new Promise((h,m)=>{Promise.all([PA(i,o),l.iconName?PA(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(_=>{let[b,v]=_;h([e,LA({icons:{main:b,mask:v},prefix:o,iconName:i,transform:a,symbol:c,maskId:u,title:s,titleId:r,extra:d,watchable:!0})])}).catch(m)})},n.generateAbstractIcon=function(e){let{children:t,attributes:i,main:s,transform:r,styles:o}=e;const a=yv(o);let c;return a.length>0&&(i.style=a),vA(r)&&(c=S4("generateAbstractTransformGrouping",{main:s,transform:r,containerWidth:s.width,iconWidth:s.width})),t.push(c||s.icon),{children:t,attributes:i}}}},Pet={mixout:()=>({layer(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:t=[]}=e;return bv({type:"layer"},()=>{P6("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(s=>{Array.isArray(s)?s.map(r=>{i=i.concat(r.abstract)}):i=i.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Cn.cssPrefix,"-layers"),...t].join(" ")},children:i}]})}})},Net={mixout:()=>({counter(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:t=null,classes:i=[],attributes:s={},styles:r={}}=e;return bv({type:"counter",content:n},()=>(P6("beforeDOMElementCreation",{content:n,params:e}),function det(n){const{content:e,title:t,extra:i}=n,s={...i.attributes,...t?{title:t}:{},class:i.classes.join(" ")},r=yv(i.styles);r.length>0&&(s.style=r);const o=[];return o.push({tag:"span",attributes:s,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}({content:n.toString(),title:t,extra:{attributes:s,styles:r,classes:["".concat(Cn.cssPrefix,"-layers-counter"),...i]}})))}})},Det={mixout:()=>({text(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:t=qc,title:i=null,classes:s=[],attributes:r={},styles:o={}}=e;return bv({type:"text",content:n},()=>(P6("beforeDOMElementCreation",{content:n,params:e}),xee({content:n,transform:{...qc,...t},title:i,extra:{attributes:r,styles:o,classes:["".concat(Cn.cssPrefix,"-layers-text"),...s]}})))}}),provides(n){n.generateLayersText=function(e,t){const{title:i,transform:s,extra:r}=t;let o=null,a=null;if(qJ){const c=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/c,a=l.height/c}return Cn.autoA11y&&!i&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,xee({content:e.innerHTML,width:o,height:a,transform:s,title:i,extra:r,watchable:!0})])}}};const Ret=new RegExp('"',"ug"),Ree=[1105920,1112319],Oee={FontAwesome:{normal:"fas",400:"fas"},"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"},"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"},"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},kA=Object.keys(Oee).reduce((n,e)=>(n[e.toLowerCase()]=Oee[e],n),{}),Oet=Object.keys(kA).reduce((n,e)=>{const t=kA[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function kee(n,e){const t="".concat(SJe).concat(e.replace(":","-"));return new Promise((i,s)=>{if(null!==n.getAttribute(t))return i();const o=Wu(n.children).filter(h=>h.getAttribute(dA)===e)[0],a=x4.getComputedStyle(n,e),c=a.getPropertyValue("font-family"),l=c.match(PJe),u=a.getPropertyValue("font-weight"),d=a.getPropertyValue("content");if(o&&!l)return n.removeChild(o),i();if(l&&"none"!==d&&""!==d){const h=a.getPropertyValue("content");let m=function Fet(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),s=isNaN(i)?"normal":i;return(kA[t]||{})[s]||Oet[t]}(c,u);const{value:_,isSecondary:b}=function ket(n){const e=n.replace(Ret,""),t=function XJe(n,e){const t=n.length;let s,i=n.charCodeAt(e);return i>=55296&&i<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?1024*(i-55296)+s-56320+65536:i}(e,0),i=t>=Ree[0]&&t<=Ree[1],s=2===e.length&&e[0]===e[1];return{value:bA(s?e[0]:e),isSecondary:i||s}}(h),v=l[0].startsWith("FontAwesome");let M=wA(m,_),E=M;if(v){const T=function net(n){const e=_ee[n],t=wA("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(_);T.iconName&&T.prefix&&(M=T.iconName,m=T.prefix)}if(!M||b||o&&o.getAttribute(fA)===m&&o.getAttribute(hA)===E)i();else{n.setAttribute(t,E),o&&n.removeChild(o);const T=function wet(){return{iconName:null,title:null,titleId:null,prefix:null,transform:qc,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),{extra:S}=T;S.attributes[dA]=e,PA(M,m).then(O=>{const F=LA({...T,icons:{main:O,mask:TA()},prefix:m,iconName:E,extra:S,watchable:!0}),N=es.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?n.insertBefore(N,n.firstChild):n.appendChild(N),N.outerHTML=F.map(z=>z9(z)).join("\n"),n.removeAttribute(t),i()}).catch(s)}}else i()})}function Vet(n){return Promise.all([kee(n,"::before"),kee(n,"::after")])}function Uet(n){return!(n.parentNode===document.head||~LJe.indexOf(n.tagName.toUpperCase())||n.getAttribute(dA)||n.parentNode&&"svg"===n.parentNode.tagName)}function Fee(n){if(J3)return new Promise((e,t)=>{const i=Wu(n.querySelectorAll("*")).filter(Uet).map(Vet),s=DA.begin("searchPseudoElements");Iee(),Promise.all(i).then(()=>{s(),OA(),e()}).catch(()=>{s(),OA(),t()})})}var Bet={hooks:()=>({mutationObserverCallbacks:n=>(n.pseudoElementsCallback=Fee,n)}),provides(n){n.pseudoElements2svg=function(e){const{node:t=es}=e;Cn.searchPseudoElements&&Fee(t)}}};let Vee=!1;var Het={mixout:()=>({dom:{unwatch(){Iee(),Vee=!0}}}),hooks:()=>({bootstrap(){zee(SA("mutationObserverCallbacks",{}))},noAuto(){!function Cet(){wv&&wv.disconnect()}()},watch(n){const{observeMutationsRoot:e}=n;Vee?OA():zee(SA("mutationObserverCallbacks",{observeMutationsRoot:e}))}})};const Uee=n=>n.toLowerCase().split(" ").reduce((t,i)=>{const s=i.toLowerCase().split("-"),r=s[0];let o=s.slice(1).join("-");if(r&&"h"===o)return t.flipX=!0,t;if(r&&"v"===o)return t.flipY=!0,t;if(o=parseFloat(o),isNaN(o))return t;switch(r){case"grow":t.size=t.size+o;break;case"shrink":t.size=t.size-o;break;case"left":t.x=t.x-o;break;case"right":t.x=t.x+o;break;case"up":t.y=t.y-o;break;case"down":t.y=t.y+o;break;case"rotate":t.rotate=t.rotate+o}return t},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var jet={mixout:()=>({parse:{transform:n=>Uee(n)}}),hooks:()=>({parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=Uee(t)),n}}),provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:i,containerWidth:s,iconWidth:r}=e;const o={transform:"translate(".concat(s/2," 256)")},a="translate(".concat(32*i.x,", ").concat(32*i.y,") "),c="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),l="rotate(".concat(i.rotate," 0 0)"),u={transform:"".concat(a," ").concat(c," ").concat(l)},d={transform:"translate(".concat(r/2*-1," -256)")};return{tag:"g",attributes:{...o},children:[{tag:"g",attributes:{...u},children:[{tag:t.icon.tag,children:t.icon.children,attributes:{...t.icon.attributes,...d}}]}]}}}};const FA={x:0,y:0,width:"100%",height:"100%"};function Bee(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function Get(n){return"g"===n.tag?n.children:[n]}var $et={hooks:()=>({parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),i=t?Cv(t.split(" ").map(s=>s.trim())):TA();return i.prefix||(i.prefix=T4()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}),provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:i,main:s,mask:r,maskId:o,transform:a}=e;const{width:c,icon:l}=s,{width:u,icon:d}=r,h=function HJe(n){let{transform:e,containerWidth:t,iconWidth:i}=n;const s={transform:"translate(".concat(t/2," 256)")},r="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:s,inner:{transform:"".concat(r," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:a,containerWidth:u,iconWidth:c}),m={tag:"rect",attributes:{...FA,fill:"white"}},_=l.children?{children:l.children.map(Bee)}:{},b={tag:"g",attributes:{...h.inner},children:[Bee({tag:l.tag,attributes:{...l.attributes,...h.path},..._})]},v={tag:"g",attributes:{...h.outer},children:[b]},M="mask-".concat(o||I9()),E="clip-".concat(o||I9()),T={tag:"mask",attributes:{...FA,id:M,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[m,v]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:Get(d)},T]};return t.push(S,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(M,")"),...FA}}),{children:t,attributes:i}}}},Wet={provides(n){let e=!1;x4.matchMedia&&(e=x4.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:{...i,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const r={...s,attributeName:"opacity"},o={tag:"circle",attributes:{...i,cx:"256",cy:"364",r:"28"},children:[]};return e||o.children.push({tag:"animate",attributes:{...s,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...r,values:"1;0;1;1;0;1;"}}),t.push(o),t.push({tag:"path",attributes:{...i,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...r,values:"1;0;0;0;0;1;"}}]}),e||t.push({tag:"path",attributes:{...i,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...r,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:t}}}};!function oet(n,e){let{mixoutsTo:t}=e;Cee=n,qu={},Object.keys(Ku).forEach(i=>{-1===ret.indexOf(i)&&delete Ku[i]}),Cee.forEach(i=>{const s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(r=>{"function"==typeof s[r]&&(t[r]=s[r]),"object"==typeof s[r]&&Object.keys(s[r]).forEach(o=>{t[r]||(t[r]={}),t[r][o]=s[r][o]})}),i.hooks){const r=i.hooks();Object.keys(r).forEach(o=>{qu[o]||(qu[o]=[]),qu[o].push(r[o])})}i.provides&&i.provides(Ku)})}([$Je,zet,Pet,Net,Det,Bet,Het,jet,$et,Wet,{hooks:()=>({parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol");return n.symbol=null!==t&&(""===t||t),n}})}],{mixoutsTo:Go});const Xet=Go.config,Yet=Go.dom,Zet=Go.parse,Qet=Go.icon,Jet=["*"],ntt=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)},VA=new WeakSet,Hee="fa-auto-css";let ott=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(t){Xet.autoAddCss=t,this._autoAddCss=t}get autoAddCss(){return this._autoAddCss}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jee=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...t){for(const i of t){const s=Object.keys(i).map(r=>i[r]);this.addIcons(...s)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),att=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ks({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[Nr]})}return n})(),ctt=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}static#e=this.\u0275fac=function(i){return new(i||n)(Nn(xh),Nn(Oc))};static#t=this.\u0275cmp=c2({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[Nr,G_],ngContentSelectors:Jet,decls:1,vars:0,template:function(i,s){1&i&&(function KU(n){const e=Le()[Ri][Ds];if(!e.projection){const i=e.projection=function g5(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),s=i.slice();let r=e.child;for(;null!==r;){if(128!==r.type){const o=n?tde(r,n):0;null!==o&&(s[o]?s[o].projectionNext=r:i[o]=r,s[o]=r)}r=r.next}}}(),function XU(n,e=0,t,i,s,r){const o=Le(),a=g1(),c=i?n+1:null;null!==c&&Lh(o,a,c,i,s,r,null,t);const l=a6(a,pn+n,16,null,t||null);null===l.projection&&(l.projection=e),$f();const d=!o[b2]||Ht();null===o[Ri][Ds].projection[l.projection]&&null!==c?function nde(n,e,t){const i=pn+t,s=e.data[i],r=n[i],o=u6(r,s.tView.ssrId);tu(r,eu(n,s,void 0,{dehydratedView:o}),0,c6(s,o))}(o,a,c):d&&32&~l.flags&&function X4e(n,e,t){Vk(e[Xn],0,e,t,vE(n,t,e),Nk(t.parent||e[Ds],t,e))}(a,o,l)}(0))},encapsulation:2})}return n})(),Tv=(()=>{class n{constructor(t,i,s,r,o){this.sanitizer=t,this.config=i,this.iconLibrary=s,this.stackItem=r,this.document=Ke(Vs),null!=o&&null==r&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const i=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(null!=i){const s=this.buildParams();!function itt(n,e){if(!e.autoAddCss||VA.has(n))return;if(null!=n.getElementById(Hee))return e.autoAddCss=!1,void VA.add(n);const t=n.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id",Hee),t.innerHTML=Yet.css();const i=n.head.childNodes;let s=null;for(let r=i.length-1;r>-1;r--){const o=i[r],a=o.nodeName.toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(s=o)}n.head.insertBefore(t,s),e.autoAddCss=!1,VA.add(n)}(this.document,this.config);const r=Qet(i,s);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:{prefix:e,iconName:n})(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?Zet.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:ntt(t),mask:null!=this.mask?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}static#e=this.\u0275fac=function(i){return new(i||n)(Nn(Ty),Nn(ott),Nn(jee),Nn(att,8),Nn(ctt,8))};static#t=this.\u0275cmp=c2({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,s){2&i&&(Iw("innerHTML",s.renderedIconHTML,gk),Dh("title",s.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[Nr,G_],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),ltt=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=V2({type:n});static#n=this.\u0275inj=rr({})}return n})(),Gee=(()=>{class n{icon;link;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-social-card"]],inputs:{icon:"icon",link:"link"},decls:3,vars:2,consts:[["target","_blank",1,"text-decoration-none",3,"href"],[1,"card","d-flex","align-items-center","justify-content-center"],[1,"d-flex","align-items-center","justify-content-center","icon",3,"icon"]],template:function(i,s){1&i&&(Ye(0,"a",0)(1,"div",1),oi(2,"fa-icon",2),He()()),2&i&&(N1("href",s.link,Z5),v1(2),N1("icon",s.icon))},dependencies:[Tv],styles:['[data-aos][data-aos][data-aos-duration="50"][_ngcontent-%COMP%], body[data-aos-duration="50"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:50ms}[data-aos][data-aos][data-aos-delay="50"][_ngcontent-%COMP%], body[data-aos-delay="50"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="50"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="50"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:50ms}[data-aos][data-aos][data-aos-duration="100"][_ngcontent-%COMP%], body[data-aos-duration="100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.1s}[data-aos][data-aos][data-aos-delay="100"][_ngcontent-%COMP%], body[data-aos-delay="100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="100"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="100"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.1s}[data-aos][data-aos][data-aos-duration="150"][_ngcontent-%COMP%], body[data-aos-duration="150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.15s}[data-aos][data-aos][data-aos-delay="150"][_ngcontent-%COMP%], body[data-aos-delay="150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="150"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="150"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.15s}[data-aos][data-aos][data-aos-duration="200"][_ngcontent-%COMP%], body[data-aos-duration="200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.2s}[data-aos][data-aos][data-aos-delay="200"][_ngcontent-%COMP%], body[data-aos-delay="200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="200"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="200"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.2s}[data-aos][data-aos][data-aos-duration="250"][_ngcontent-%COMP%], body[data-aos-duration="250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.25s}[data-aos][data-aos][data-aos-delay="250"][_ngcontent-%COMP%], body[data-aos-delay="250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="250"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="250"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.25s}[data-aos][data-aos][data-aos-duration="300"][_ngcontent-%COMP%], body[data-aos-duration="300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.3s}[data-aos][data-aos][data-aos-delay="300"][_ngcontent-%COMP%], body[data-aos-delay="300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="300"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="300"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.3s}[data-aos][data-aos][data-aos-duration="350"][_ngcontent-%COMP%], body[data-aos-duration="350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.35s}[data-aos][data-aos][data-aos-delay="350"][_ngcontent-%COMP%], body[data-aos-delay="350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="350"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="350"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.35s}[data-aos][data-aos][data-aos-duration="400"][_ngcontent-%COMP%], body[data-aos-duration="400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.4s}[data-aos][data-aos][data-aos-delay="400"][_ngcontent-%COMP%], body[data-aos-delay="400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="400"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="400"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.4s}[data-aos][data-aos][data-aos-duration="450"][_ngcontent-%COMP%], body[data-aos-duration="450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.45s}[data-aos][data-aos][data-aos-delay="450"][_ngcontent-%COMP%], body[data-aos-delay="450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="450"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="450"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.45s}[data-aos][data-aos][data-aos-duration="500"][_ngcontent-%COMP%], body[data-aos-duration="500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.5s}[data-aos][data-aos][data-aos-delay="500"][_ngcontent-%COMP%], body[data-aos-delay="500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="500"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="500"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.5s}[data-aos][data-aos][data-aos-duration="550"][_ngcontent-%COMP%], body[data-aos-duration="550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.55s}[data-aos][data-aos][data-aos-delay="550"][_ngcontent-%COMP%], body[data-aos-delay="550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="550"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="550"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.55s}[data-aos][data-aos][data-aos-duration="600"][_ngcontent-%COMP%], body[data-aos-duration="600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.6s}[data-aos][data-aos][data-aos-delay="600"][_ngcontent-%COMP%], body[data-aos-delay="600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="600"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="600"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.6s}[data-aos][data-aos][data-aos-duration="650"][_ngcontent-%COMP%], body[data-aos-duration="650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.65s}[data-aos][data-aos][data-aos-delay="650"][_ngcontent-%COMP%], body[data-aos-delay="650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="650"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="650"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.65s}[data-aos][data-aos][data-aos-duration="700"][_ngcontent-%COMP%], body[data-aos-duration="700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.7s}[data-aos][data-aos][data-aos-delay="700"][_ngcontent-%COMP%], body[data-aos-delay="700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="700"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="700"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.7s}[data-aos][data-aos][data-aos-duration="750"][_ngcontent-%COMP%], body[data-aos-duration="750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.75s}[data-aos][data-aos][data-aos-delay="750"][_ngcontent-%COMP%], body[data-aos-delay="750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="750"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="750"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.75s}[data-aos][data-aos][data-aos-duration="800"][_ngcontent-%COMP%], body[data-aos-duration="800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.8s}[data-aos][data-aos][data-aos-delay="800"][_ngcontent-%COMP%], body[data-aos-delay="800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="800"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="800"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.8s}[data-aos][data-aos][data-aos-duration="850"][_ngcontent-%COMP%], body[data-aos-duration="850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.85s}[data-aos][data-aos][data-aos-delay="850"][_ngcontent-%COMP%], body[data-aos-delay="850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="850"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="850"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.85s}[data-aos][data-aos][data-aos-duration="900"][_ngcontent-%COMP%], body[data-aos-duration="900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.9s}[data-aos][data-aos][data-aos-delay="900"][_ngcontent-%COMP%], body[data-aos-delay="900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="900"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="900"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.9s}[data-aos][data-aos][data-aos-duration="950"][_ngcontent-%COMP%], body[data-aos-duration="950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.95s}[data-aos][data-aos][data-aos-delay="950"][_ngcontent-%COMP%], body[data-aos-delay="950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="950"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="950"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.95s}[data-aos][data-aos][data-aos-duration="1000"][_ngcontent-%COMP%], body[data-aos-duration="1000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1s}[data-aos][data-aos][data-aos-delay="1000"][_ngcontent-%COMP%], body[data-aos-delay="1000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1000"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1000"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1s}[data-aos][data-aos][data-aos-duration="1050"][_ngcontent-%COMP%], body[data-aos-duration="1050"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.05s}[data-aos][data-aos][data-aos-delay="1050"][_ngcontent-%COMP%], body[data-aos-delay="1050"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1050"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1050"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.05s}[data-aos][data-aos][data-aos-duration="1100"][_ngcontent-%COMP%], body[data-aos-duration="1100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.1s}[data-aos][data-aos][data-aos-delay="1100"][_ngcontent-%COMP%], body[data-aos-delay="1100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1100"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1100"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.1s}[data-aos][data-aos][data-aos-duration="1150"][_ngcontent-%COMP%], body[data-aos-duration="1150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.15s}[data-aos][data-aos][data-aos-delay="1150"][_ngcontent-%COMP%], body[data-aos-delay="1150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1150"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1150"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.15s}[data-aos][data-aos][data-aos-duration="1200"][_ngcontent-%COMP%], body[data-aos-duration="1200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.2s}[data-aos][data-aos][data-aos-delay="1200"][_ngcontent-%COMP%], body[data-aos-delay="1200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1200"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1200"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.2s}[data-aos][data-aos][data-aos-duration="1250"][_ngcontent-%COMP%], body[data-aos-duration="1250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.25s}[data-aos][data-aos][data-aos-delay="1250"][_ngcontent-%COMP%], body[data-aos-delay="1250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1250"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1250"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.25s}[data-aos][data-aos][data-aos-duration="1300"][_ngcontent-%COMP%], body[data-aos-duration="1300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.3s}[data-aos][data-aos][data-aos-delay="1300"][_ngcontent-%COMP%], body[data-aos-delay="1300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1300"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1300"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.3s}[data-aos][data-aos][data-aos-duration="1350"][_ngcontent-%COMP%], body[data-aos-duration="1350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.35s}[data-aos][data-aos][data-aos-delay="1350"][_ngcontent-%COMP%], body[data-aos-delay="1350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1350"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1350"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.35s}[data-aos][data-aos][data-aos-duration="1400"][_ngcontent-%COMP%], body[data-aos-duration="1400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.4s}[data-aos][data-aos][data-aos-delay="1400"][_ngcontent-%COMP%], body[data-aos-delay="1400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1400"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1400"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.4s}[data-aos][data-aos][data-aos-duration="1450"][_ngcontent-%COMP%], body[data-aos-duration="1450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.45s}[data-aos][data-aos][data-aos-delay="1450"][_ngcontent-%COMP%], body[data-aos-delay="1450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1450"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1450"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.45s}[data-aos][data-aos][data-aos-duration="1500"][_ngcontent-%COMP%], body[data-aos-duration="1500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.5s}[data-aos][data-aos][data-aos-delay="1500"][_ngcontent-%COMP%], body[data-aos-delay="1500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1500"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1500"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.5s}[data-aos][data-aos][data-aos-duration="1550"][_ngcontent-%COMP%], body[data-aos-duration="1550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.55s}[data-aos][data-aos][data-aos-delay="1550"][_ngcontent-%COMP%], body[data-aos-delay="1550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1550"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1550"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.55s}[data-aos][data-aos][data-aos-duration="1600"][_ngcontent-%COMP%], body[data-aos-duration="1600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.6s}[data-aos][data-aos][data-aos-delay="1600"][_ngcontent-%COMP%], body[data-aos-delay="1600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1600"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1600"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.6s}[data-aos][data-aos][data-aos-duration="1650"][_ngcontent-%COMP%], body[data-aos-duration="1650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.65s}[data-aos][data-aos][data-aos-delay="1650"][_ngcontent-%COMP%], body[data-aos-delay="1650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1650"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1650"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.65s}[data-aos][data-aos][data-aos-duration="1700"][_ngcontent-%COMP%], body[data-aos-duration="1700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.7s}[data-aos][data-aos][data-aos-delay="1700"][_ngcontent-%COMP%], body[data-aos-delay="1700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1700"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1700"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.7s}[data-aos][data-aos][data-aos-duration="1750"][_ngcontent-%COMP%], body[data-aos-duration="1750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.75s}[data-aos][data-aos][data-aos-delay="1750"][_ngcontent-%COMP%], body[data-aos-delay="1750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1750"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1750"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.75s}[data-aos][data-aos][data-aos-duration="1800"][_ngcontent-%COMP%], body[data-aos-duration="1800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.8s}[data-aos][data-aos][data-aos-delay="1800"][_ngcontent-%COMP%], body[data-aos-delay="1800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1800"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1800"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.8s}[data-aos][data-aos][data-aos-duration="1850"][_ngcontent-%COMP%], body[data-aos-duration="1850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.85s}[data-aos][data-aos][data-aos-delay="1850"][_ngcontent-%COMP%], body[data-aos-delay="1850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1850"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1850"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.85s}[data-aos][data-aos][data-aos-duration="1900"][_ngcontent-%COMP%], body[data-aos-duration="1900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.9s}[data-aos][data-aos][data-aos-delay="1900"][_ngcontent-%COMP%], body[data-aos-delay="1900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1900"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1900"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.9s}[data-aos][data-aos][data-aos-duration="1950"][_ngcontent-%COMP%], body[data-aos-duration="1950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.95s}[data-aos][data-aos][data-aos-delay="1950"][_ngcontent-%COMP%], body[data-aos-delay="1950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1950"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1950"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.95s}[data-aos][data-aos][data-aos-duration="2000"][_ngcontent-%COMP%], body[data-aos-duration="2000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2s}[data-aos][data-aos][data-aos-delay="2000"][_ngcontent-%COMP%], body[data-aos-delay="2000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2000"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2000"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2s}[data-aos][data-aos][data-aos-duration="2050"][_ngcontent-%COMP%], body[data-aos-duration="2050"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.05s}[data-aos][data-aos][data-aos-delay="2050"][_ngcontent-%COMP%], body[data-aos-delay="2050"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2050"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2050"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.05s}[data-aos][data-aos][data-aos-duration="2100"][_ngcontent-%COMP%], body[data-aos-duration="2100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.1s}[data-aos][data-aos][data-aos-delay="2100"][_ngcontent-%COMP%], body[data-aos-delay="2100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2100"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2100"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.1s}[data-aos][data-aos][data-aos-duration="2150"][_ngcontent-%COMP%], body[data-aos-duration="2150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.15s}[data-aos][data-aos][data-aos-delay="2150"][_ngcontent-%COMP%], body[data-aos-delay="2150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2150"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2150"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.15s}[data-aos][data-aos][data-aos-duration="2200"][_ngcontent-%COMP%], body[data-aos-duration="2200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.2s}[data-aos][data-aos][data-aos-delay="2200"][_ngcontent-%COMP%], body[data-aos-delay="2200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2200"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2200"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.2s}[data-aos][data-aos][data-aos-duration="2250"][_ngcontent-%COMP%], body[data-aos-duration="2250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.25s}[data-aos][data-aos][data-aos-delay="2250"][_ngcontent-%COMP%], body[data-aos-delay="2250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2250"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2250"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.25s}[data-aos][data-aos][data-aos-duration="2300"][_ngcontent-%COMP%], body[data-aos-duration="2300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.3s}[data-aos][data-aos][data-aos-delay="2300"][_ngcontent-%COMP%], body[data-aos-delay="2300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2300"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2300"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.3s}[data-aos][data-aos][data-aos-duration="2350"][_ngcontent-%COMP%], body[data-aos-duration="2350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.35s}[data-aos][data-aos][data-aos-delay="2350"][_ngcontent-%COMP%], body[data-aos-delay="2350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2350"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2350"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.35s}[data-aos][data-aos][data-aos-duration="2400"][_ngcontent-%COMP%], body[data-aos-duration="2400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.4s}[data-aos][data-aos][data-aos-delay="2400"][_ngcontent-%COMP%], body[data-aos-delay="2400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2400"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2400"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.4s}[data-aos][data-aos][data-aos-duration="2450"][_ngcontent-%COMP%], body[data-aos-duration="2450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.45s}[data-aos][data-aos][data-aos-delay="2450"][_ngcontent-%COMP%], body[data-aos-delay="2450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2450"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2450"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.45s}[data-aos][data-aos][data-aos-duration="2500"][_ngcontent-%COMP%], body[data-aos-duration="2500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.5s}[data-aos][data-aos][data-aos-delay="2500"][_ngcontent-%COMP%], body[data-aos-delay="2500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2500"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2500"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.5s}[data-aos][data-aos][data-aos-duration="2550"][_ngcontent-%COMP%], body[data-aos-duration="2550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.55s}[data-aos][data-aos][data-aos-delay="2550"][_ngcontent-%COMP%], body[data-aos-delay="2550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2550"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2550"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.55s}[data-aos][data-aos][data-aos-duration="2600"][_ngcontent-%COMP%], body[data-aos-duration="2600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.6s}[data-aos][data-aos][data-aos-delay="2600"][_ngcontent-%COMP%], body[data-aos-delay="2600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2600"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2600"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.6s}[data-aos][data-aos][data-aos-duration="2650"][_ngcontent-%COMP%], body[data-aos-duration="2650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.65s}[data-aos][data-aos][data-aos-delay="2650"][_ngcontent-%COMP%], body[data-aos-delay="2650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2650"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2650"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.65s}[data-aos][data-aos][data-aos-duration="2700"][_ngcontent-%COMP%], body[data-aos-duration="2700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.7s}[data-aos][data-aos][data-aos-delay="2700"][_ngcontent-%COMP%], body[data-aos-delay="2700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2700"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2700"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.7s}[data-aos][data-aos][data-aos-duration="2750"][_ngcontent-%COMP%], body[data-aos-duration="2750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.75s}[data-aos][data-aos][data-aos-delay="2750"][_ngcontent-%COMP%], body[data-aos-delay="2750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2750"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2750"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.75s}[data-aos][data-aos][data-aos-duration="2800"][_ngcontent-%COMP%], body[data-aos-duration="2800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.8s}[data-aos][data-aos][data-aos-delay="2800"][_ngcontent-%COMP%], body[data-aos-delay="2800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2800"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2800"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.8s}[data-aos][data-aos][data-aos-duration="2850"][_ngcontent-%COMP%], body[data-aos-duration="2850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.85s}[data-aos][data-aos][data-aos-delay="2850"][_ngcontent-%COMP%], body[data-aos-delay="2850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2850"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2850"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.85s}[data-aos][data-aos][data-aos-duration="2900"][_ngcontent-%COMP%], body[data-aos-duration="2900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.9s}[data-aos][data-aos][data-aos-delay="2900"][_ngcontent-%COMP%], body[data-aos-delay="2900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2900"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2900"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.9s}[data-aos][data-aos][data-aos-duration="2950"][_ngcontent-%COMP%], body[data-aos-duration="2950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.95s}[data-aos][data-aos][data-aos-delay="2950"][_ngcontent-%COMP%], body[data-aos-delay="2950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2950"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2950"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.95s}[data-aos][data-aos][data-aos-duration="3000"][_ngcontent-%COMP%], body[data-aos-duration="3000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:3s}[data-aos][data-aos][data-aos-delay="3000"][_ngcontent-%COMP%], body[data-aos-delay="3000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="3000"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="3000"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:3s}[data-aos][data-aos][data-aos-easing=linear][_ngcontent-%COMP%], body[data-aos-easing=linear][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.25,.25,.75,.75)}[data-aos][data-aos][data-aos-easing=ease][_ngcontent-%COMP%], body[data-aos-easing=ease][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:ease}[data-aos][data-aos][data-aos-easing=ease-in][_ngcontent-%COMP%], body[data-aos-easing=ease-in][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:ease-in}[data-aos][data-aos][data-aos-easing=ease-out][_ngcontent-%COMP%], body[data-aos-easing=ease-out][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:ease-out}[data-aos][data-aos][data-aos-easing=ease-in-out][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:ease-in-out}[data-aos][data-aos][data-aos-easing=ease-in-back][_ngcontent-%COMP%], body[data-aos-easing=ease-in-back][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.6,-.28,.735,.045)}[data-aos][data-aos][data-aos-easing=ease-out-back][_ngcontent-%COMP%], body[data-aos-easing=ease-out-back][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}[data-aos][data-aos][data-aos-easing=ease-in-out-back][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-back][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.68,-.55,.265,1.55)}[data-aos][data-aos][data-aos-easing=ease-in-sine][_ngcontent-%COMP%], body[data-aos-easing=ease-in-sine][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.47,0,.745,.715)}[data-aos][data-aos][data-aos-easing=ease-out-sine][_ngcontent-%COMP%], body[data-aos-easing=ease-out-sine][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.39,.575,.565,1)}[data-aos][data-aos][data-aos-easing=ease-in-out-sine][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-sine][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.445,.05,.55,.95)}[data-aos][data-aos][data-aos-easing=ease-in-quad][_ngcontent-%COMP%], body[data-aos-easing=ease-in-quad][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quad][_ngcontent-%COMP%], body[data-aos-easing=ease-out-quad][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quad][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-quad][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-cubic][_ngcontent-%COMP%], body[data-aos-easing=ease-in-cubic][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-cubic][_ngcontent-%COMP%], body[data-aos-easing=ease-out-cubic][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-cubic][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-cubic][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-quart][_ngcontent-%COMP%], body[data-aos-easing=ease-in-quart][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quart][_ngcontent-%COMP%], body[data-aos-easing=ease-out-quart][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quart][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-quart][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos^=fade][data-aos^=fade][_ngcontent-%COMP%]{opacity:0;transition-property:opacity,transform}[data-aos^=fade][data-aos^=fade].aos-animate[_ngcontent-%COMP%]{opacity:1;transform:translateZ(0)}[data-aos=fade-up][_ngcontent-%COMP%]{transform:translate3d(0,100px,0)}[data-aos=fade-down][_ngcontent-%COMP%]{transform:translate3d(0,-100px,0)}[data-aos=fade-right][_ngcontent-%COMP%]{transform:translate3d(-100px,0,0)}[data-aos=fade-left][_ngcontent-%COMP%]{transform:translate3d(100px,0,0)}[data-aos=fade-up-right][_ngcontent-%COMP%]{transform:translate3d(-100px,100px,0)}[data-aos=fade-up-left][_ngcontent-%COMP%]{transform:translate3d(100px,100px,0)}[data-aos=fade-down-right][_ngcontent-%COMP%]{transform:translate3d(-100px,-100px,0)}[data-aos=fade-down-left][_ngcontent-%COMP%]{transform:translate3d(100px,-100px,0)}[data-aos^=zoom][data-aos^=zoom][_ngcontent-%COMP%]{opacity:0;transition-property:opacity,transform}[data-aos^=zoom][data-aos^=zoom].aos-animate[_ngcontent-%COMP%]{opacity:1;transform:translateZ(0) scale(1)}[data-aos=zoom-in][_ngcontent-%COMP%]{transform:scale(.6)}[data-aos=zoom-in-up][_ngcontent-%COMP%]{transform:translate3d(0,100px,0) scale(.6)}[data-aos=zoom-in-down][_ngcontent-%COMP%]{transform:translate3d(0,-100px,0) scale(.6)}[data-aos=zoom-in-right][_ngcontent-%COMP%]{transform:translate3d(-100px,0,0) scale(.6)}[data-aos=zoom-in-left][_ngcontent-%COMP%]{transform:translate3d(100px,0,0) scale(.6)}[data-aos=zoom-out][_ngcontent-%COMP%]{transform:scale(1.2)}[data-aos=zoom-out-up][_ngcontent-%COMP%]{transform:translate3d(0,100px,0) scale(1.2)}[data-aos=zoom-out-down][_ngcontent-%COMP%]{transform:translate3d(0,-100px,0) scale(1.2)}[data-aos=zoom-out-right][_ngcontent-%COMP%]{transform:translate3d(-100px,0,0) scale(1.2)}[data-aos=zoom-out-left][_ngcontent-%COMP%]{transform:translate3d(100px,0,0) scale(1.2)}[data-aos^=slide][data-aos^=slide][_ngcontent-%COMP%]{transition-property:transform}[data-aos^=slide][data-aos^=slide].aos-animate[_ngcontent-%COMP%]{transform:translateZ(0)}[data-aos=slide-up][_ngcontent-%COMP%]{transform:translate3d(0,100%,0)}[data-aos=slide-down][_ngcontent-%COMP%]{transform:translate3d(0,-100%,0)}[data-aos=slide-right][_ngcontent-%COMP%]{transform:translate3d(-100%,0,0)}[data-aos=slide-left][_ngcontent-%COMP%]{transform:translate3d(100%,0,0)}[data-aos^=flip][data-aos^=flip][_ngcontent-%COMP%]{backface-visibility:hidden;transition-property:transform}[data-aos=flip-left][_ngcontent-%COMP%]{transform:perspective(2500px) rotateY(-100deg)}[data-aos=flip-left].aos-animate[_ngcontent-%COMP%]{transform:perspective(2500px) rotateY(0)}[data-aos=flip-right][_ngcontent-%COMP%]{transform:perspective(2500px) rotateY(100deg)}[data-aos=flip-right].aos-animate[_ngcontent-%COMP%]{transform:perspective(2500px) rotateY(0)}[data-aos=flip-up][_ngcontent-%COMP%]{transform:perspective(2500px) rotateX(-100deg)}[data-aos=flip-up].aos-animate[_ngcontent-%COMP%]{transform:perspective(2500px) rotateX(0)}[data-aos=flip-down][_ngcontent-%COMP%]{transform:perspective(2500px) rotateX(100deg)}[data-aos=flip-down].aos-animate[_ngcontent-%COMP%]{transform:perspective(2500px) rotateX(0)}.card[_ngcontent-%COMP%]{width:52px;height:52px;background-color:var(--background-white-color);border:1px solid var(--border-color);border-radius:6px;box-sizing:border-box;padding:16px!important;cursor:pointer;transition:.5s;text-decoration:none}.card[_ngcontent-%COMP%]:before{opacity:0;border-radius:5px!important;content:"";position:absolute;top:0;left:0;width:0;height:100%;z-index:-1;background-color:var(--title-color);border:1px solid var(--title-color);transition:.5s}.card[_ngcontent-%COMP%]:hover:before{width:100%;opacity:1;z-index:1}.icon[_ngcontent-%COMP%]{color:var(--title-color);font-size:1.5em;z-index:2;transition:.5s}.card[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{color:var(--hover-text-button)!important}']})}return n})();var Ne=Ve(467);const Wee=1,ftt=2,n0=3,s0=0,fo=1,Yc=2,N6=100,ptt=101,mtt=102,ytt=200,vtt=201,Mtt=202,Ctt=203,BA=204,HA=205,btt=206,xtt=207,Ett=208,wtt=209,Ttt=210,Stt=211,Att=212,Ltt=213,Itt=214,jA=0,GA=1,$A=2,Yu=3,WA=4,qA=5,KA=6,XA=7,Sv=0,ztt=1,Ptt=2,L4=0,Ntt=1,Dtt=2,Rtt=3,Ott=4,ktt=5,Ftt=6,Vtt=7,I4=301,D6=302,N9=306,R6=1e3,Ta=1001,D9=1002,T2=1003,ZA=1004,Zu=1005,Us=1006,R9=1007,cc=1008,Zc=1009,Zee=1010,Qee=1011,O9=1012,QA=1013,z4=1014,$o=1015,k9=1016,JA=1017,eL=1018,F9=1020,Jee=35902,ete=1021,tte=1022,ho=1023,V9=1026,U9=1027,tL=1028,Iv=1029,nte=1030,nL=1031,iL=1033,zv=33776,Pv=33777,Nv=33778,Dv=33779,sL=35840,rL=35841,oL=35842,aL=35843,cL=36196,lL=37492,uL=37496,dL=37808,fL=37809,hL=37810,pL=37811,mL=37812,gL=37813,_L=37814,yL=37815,vL=37816,ML=37817,CL=37818,bL=37819,xL=37820,EL=37821,Rv=36492,wL=36494,TL=36495,ite=36283,SL=36284,AL=36285,LL=36286,B9=2300,H9=2301,S2="srgb",Br="srgb-linear",kv="linear",Ti="srgb",ed=7680,Ktt=512,Xtt=513,Ytt=514,ate=515,Ztt=516,Qtt=517,Jtt=518,ent=519,cte="300 es",lc=2e3;class r0{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return void 0!==i&&void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){const i=this._listeners;if(void 0===i)return;const s=i[e];if(void 0!==s){const r=s.indexOf(t);-1!==r&&s.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const i=t[e.type];if(void 0!==i){e.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,e);e.target=null}}}const fr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let lte=1234567;const k6=Math.PI/180,td=180/Math.PI;function Wo(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(fr[255&n]+fr[n>>8&255]+fr[n>>16&255]+fr[n>>24&255]+"-"+fr[255&e]+fr[e>>8&255]+"-"+fr[e>>16&15|64]+fr[e>>24&255]+"-"+fr[63&t|128]+fr[t>>8&255]+"-"+fr[t>>16&255]+fr[t>>24&255]+fr[255&i]+fr[i>>8&255]+fr[i>>16&255]+fr[i>>24&255]).toLowerCase()}function h1(n,e,t){return Math.max(e,Math.min(t,n))}function NL(n,e){return(n%e+e)%e}function j9(n,e,t){return(1-t)*n+t*e}function Hr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function M1(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const nd={DEG2RAD:k6,RAD2DEG:td,generateUUID:Wo,clamp:h1,euclideanModulo:NL,mapLinear:function tnt(n,e,t,i,s){return i+(n-e)*(s-i)/(t-e)},inverseLerp:function nnt(n,e,t){return n!==e?(t-n)/(e-n):0},lerp:j9,damp:function int(n,e,t,i){return j9(n,e,1-Math.exp(-t*i))},pingpong:function snt(n,e=1){return e-Math.abs(NL(n,2*e)-e)},smoothstep:function rnt(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e))*n*(3-2*n)},smootherstep:function ont(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e))*n*n*(n*(6*n-15)+10)},randInt:function ant(n,e){return n+Math.floor(Math.random()*(e-n+1))},randFloat:function cnt(n,e){return n+Math.random()*(e-n)},randFloatSpread:function lnt(n){return n*(.5-Math.random())},seededRandom:function unt(n){void 0!==n&&(lte=n);let e=lte+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function dnt(n){return n*k6},radToDeg:function fnt(n){return n*td},isPowerOfTwo:function hnt(n){return!(n&n-1)&&0!==n},ceilPowerOfTwo:function pnt(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},floorPowerOfTwo:function mnt(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))},setQuaternionFromProperEuler:function gnt(n,e,t,i,s){const r=Math.cos,o=Math.sin,a=r(t/2),c=o(t/2),l=r((e+i)/2),u=o((e+i)/2),d=r((e-i)/2),h=o((e-i)/2),m=r((i-e)/2),_=o((i-e)/2);switch(s){case"XYX":n.set(a*u,c*d,c*h,a*l);break;case"YZY":n.set(c*h,a*u,c*d,a*l);break;case"ZXZ":n.set(c*d,c*h,a*u,a*l);break;case"XZX":n.set(a*u,c*_,c*m,a*l);break;case"YXY":n.set(c*m,a*u,c*_,a*l);break;case"ZYZ":n.set(c*_,c*m,a*u,a*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}},normalize:M1,denormalize:Hr};class it{constructor(e=0,t=0){it.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6],this.y=s[1]*t+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=h1(this.x,e.x,t.x),this.y=h1(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=h1(this.x,e,t),this.y=h1(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(h1(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(h1(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),s=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*s+e.x,this.y=r*s+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jr{constructor(e=0,t=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=s}static slerpFlat(e,t,i,s,r,o,a){let c=i[s+0],l=i[s+1],u=i[s+2],d=i[s+3];const h=r[o+0],m=r[o+1],_=r[o+2],b=r[o+3];if(0===a)return e[t+0]=c,e[t+1]=l,e[t+2]=u,void(e[t+3]=d);if(1===a)return e[t+0]=h,e[t+1]=m,e[t+2]=_,void(e[t+3]=b);if(d!==b||c!==h||l!==m||u!==_){let v=1-a;const M=c*h+l*m+u*_+d*b,E=M>=0?1:-1,T=1-M*M;if(T>Number.EPSILON){const O=Math.sqrt(T),F=Math.atan2(O,M*E);v=Math.sin(v*F)/O,a=Math.sin(a*F)/O}const S=a*E;if(c=c*v+h*S,l=l*v+m*S,u=u*v+_*S,d=d*v+b*S,v===1-a){const O=1/Math.sqrt(c*c+l*l+u*u+d*d);c*=O,l*=O,u*=O,d*=O}}e[t]=c,e[t+1]=l,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,s,r,o){const a=i[s],c=i[s+1],l=i[s+2],u=i[s+3],d=r[o],h=r[o+1],m=r[o+2],_=r[o+3];return e[t]=a*_+u*d+c*m-l*h,e[t+1]=c*_+u*h+l*d-a*m,e[t+2]=l*_+u*m+a*h-c*d,e[t+3]=u*_-a*d-c*h-l*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,s){return this._x=e,this._y=t,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,s=e._y,r=e._z,o=e._order,a=Math.cos,c=Math.sin,l=a(i/2),u=a(s/2),d=a(r/2),h=c(i/2),m=c(s/2),_=c(r/2);switch(o){case"XYZ":this._x=h*u*d+l*m*_,this._y=l*m*d-h*u*_,this._z=l*u*_+h*m*d,this._w=l*u*d-h*m*_;break;case"YXZ":this._x=h*u*d+l*m*_,this._y=l*m*d-h*u*_,this._z=l*u*_-h*m*d,this._w=l*u*d+h*m*_;break;case"ZXY":this._x=h*u*d-l*m*_,this._y=l*m*d+h*u*_,this._z=l*u*_+h*m*d,this._w=l*u*d-h*m*_;break;case"ZYX":this._x=h*u*d-l*m*_,this._y=l*m*d+h*u*_,this._z=l*u*_-h*m*d,this._w=l*u*d+h*m*_;break;case"YZX":this._x=h*u*d+l*m*_,this._y=l*m*d+h*u*_,this._z=l*u*_-h*m*d,this._w=l*u*d-h*m*_;break;case"XZY":this._x=h*u*d-l*m*_,this._y=l*m*d-h*u*_,this._z=l*u*_+h*m*d,this._w=l*u*d+h*m*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],s=t[4],r=t[8],o=t[1],a=t[5],c=t[9],l=t[2],u=t[6],d=t[10],h=i+a+d;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(u-c)*m,this._y=(r-l)*m,this._z=(o-s)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(u-c)/m,this._x=.25*m,this._y=(s+o)/m,this._z=(r+l)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(r-l)/m,this._x=(s+o)/m,this._y=.25*m,this._z=(c+u)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-s)/m,this._x=(r+l)/m,this._y=(c+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(h1(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const s=Math.min(1,t/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,s=e._y,r=e._z,o=e._w,a=t._x,c=t._y,l=t._z,u=t._w;return this._x=i*u+o*a+s*l-r*c,this._y=s*u+o*c+r*a-i*l,this._z=r*u+o*l+i*c-s*a,this._w=o*u-i*a-s*c-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,s=this._y,r=this._z,o=this._w;let a=o*e._w+i*e._x+s*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=s,this._z=r,this;const c=1-a*a;if(c<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*s+t*this._y,this._z=m*r+t*this._z,this.normalize(),this}const l=Math.sqrt(c),u=Math.atan2(l,a),d=Math.sin((1-t)*u)/l,h=Math.sin(t*u)/l;return this._w=o*d+this._w*h,this._x=i*d+this._x*h,this._y=s*d+this._y*h,this._z=r*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,t=0,i=0){K.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ute.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ute.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*s,this.y=r[1]*t+r[4]*i+r[7]*s,this.z=r[2]*t+r[5]*i+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,r=e.elements,o=1/(r[3]*t+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*s+r[12])*o,this.y=(r[1]*t+r[5]*i+r[9]*s+r[13])*o,this.z=(r[2]*t+r[6]*i+r[10]*s+r[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,s=this.z,r=e.x,o=e.y,a=e.z,c=e.w,l=2*(o*s-a*i),u=2*(a*t-r*s),d=2*(r*i-o*t);return this.x=t+c*l+o*d-a*u,this.y=i+c*u+a*l-r*d,this.z=s+c*d+r*u-o*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*s,this.y=r[1]*t+r[5]*i+r[9]*s,this.z=r[2]*t+r[6]*i+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=h1(this.x,e.x,t.x),this.y=h1(this.y,e.y,t.y),this.z=h1(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=h1(this.x,e,t),this.y=h1(this.y,e,t),this.z=h1(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(h1(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,s=e.y,r=e.z,o=t.x,a=t.y,c=t.z;return this.x=s*c-r*a,this.y=r*o-i*c,this.z=i*a-s*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return DL.copy(this).projectOnVector(e),this.sub(DL)}reflect(e){return this.sub(DL.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(h1(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return t*t+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const s=Math.sin(t)*e;return this.x=s*Math.sin(i),this.y=Math.cos(t)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const DL=new K,ute=new jr;class C1{constructor(e,t,i,s,r,o,a,c,l){C1.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,s,r,o,a,c,l)}set(e,t,i,s,r,o,a,c,l){const u=this.elements;return u[0]=e,u[1]=s,u[2]=a,u[3]=t,u[4]=r,u[5]=c,u[6]=i,u[7]=o,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,r=this.elements,o=i[0],a=i[3],c=i[6],l=i[1],u=i[4],d=i[7],h=i[2],m=i[5],_=i[8],b=s[0],v=s[3],M=s[6],E=s[1],T=s[4],S=s[7],O=s[2],F=s[5],N=s[8];return r[0]=o*b+a*E+c*O,r[3]=o*v+a*T+c*F,r[6]=o*M+a*S+c*N,r[1]=l*b+u*E+d*O,r[4]=l*v+u*T+d*F,r[7]=l*M+u*S+d*N,r[2]=h*b+m*E+_*O,r[5]=h*v+m*T+_*F,r[8]=h*M+m*S+_*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-i*r*u+i*a*c+s*r*l-s*o*c}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],d=u*o-a*l,h=a*c-u*r,m=l*r-o*c,_=t*d+i*h+s*m;if(0===_)return this.set(0,0,0,0,0,0,0,0,0);const b=1/_;return e[0]=d*b,e[1]=(s*l-u*i)*b,e[2]=(a*i-s*o)*b,e[3]=h*b,e[4]=(u*t-s*c)*b,e[5]=(s*r-a*t)*b,e[6]=m*b,e[7]=(i*c-l*t)*b,e[8]=(o*t-i*r)*b,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,s,r,o,a){const c=Math.cos(r),l=Math.sin(r);return this.set(i*c,i*l,-i*(c*o+l*a)+o+e,-s*l,s*c,-s*(-l*o+c*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(RL.makeScale(e,t)),this}rotate(e){return this.premultiply(RL.makeRotation(-e)),this}translate(e,t){return this.premultiply(RL.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<9;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const RL=new C1;function dte(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function G9(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function ynt(){const n=G9("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const fte={};function sd(n){n in fte||(fte[n]=!0,console.warn(n))}const hte=(new C1).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),pte=(new C1).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function bnt(){const n={enabled:!0,workingColorSpace:Br,spaces:{},convert:function(s,r,o){return!1===this.enabled||r===o||!r||!o||(this.spaces[r].transfer===Ti&&(s.r=o0(s.r),s.g=o0(s.g),s.b=o0(s.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Ti&&(s.r=rd(s.r),s.g=rd(s.g),s.b=rd(s.b))),s},workingToColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},colorSpaceToWorking:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return""===s?kv:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,o){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,r){return sd("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(s,r)},toWorkingColorSpace:function(s,r){return sd("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(s,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Br]:{primaries:e,whitePoint:i,transfer:kv,toXYZ:hte,fromXYZ:pte,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:S2},outputColorSpaceConfig:{drawingBufferColorSpace:S2}},[S2]:{primaries:e,whitePoint:i,transfer:Ti,toXYZ:hte,fromXYZ:pte,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:S2}}}),n}const Y1=bnt();function o0(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function rd(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let od;class xnt{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{void 0===od&&(od=G9("canvas")),od.width=e.width,od.height=e.height;const s=od.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),i=od}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=G9("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=255*o0(r[o]/255);return i.putImageData(s,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*o0(t[i]/255)):o0(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ent=0;class F6{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ent++}),this.uuid=Wo(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(null!==s){let r;if(Array.isArray(s)){r=[];for(let o=0,a=s.length;o<a;o++)r.push(OL(s[o].isDataTexture?s[o].image:s[o]))}else r=OL(s);i.url=r}return t||(e.images[this.uuid]=i),i}}function OL(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?xnt.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let wnt=0;const kL=new K;let hr=(()=>{class n extends r0{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,s=Ta,r=Ta,o=Us,a=cc,c=ho,l=Zc,u=n.DEFAULT_ANISOTROPY,d=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wnt++}),this.uuid=Wo(),this.name="",this.source=new F6(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=s,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=c,this.internalFormat=null,this.type=l,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new C1,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(kL).x}get height(){return this.source.getSize(kL).y}get depth(){return this.source.getSize(kL).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,i){this.updateRanges.push({start:t,count:i})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const i in t){const s=t[i];if(void 0===s){console.warn(`THREE.Texture.setValues(): parameter '${i}' has value of undefined.`);continue}const r=this[i];void 0!==r?r&&s&&r.isVector2&&s.isVector2||r&&s&&r.isVector3&&s.isVector3||r&&s&&r.isMatrix3&&s.isMatrix3?r.copy(s):this[i]=s:console.warn(`THREE.Texture.setValues(): property '${i}' does not exist.`)}}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const s={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),i||(t.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case R6:t.x=t.x-Math.floor(t.x);break;case Ta:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case R6:t.y=t.y-Math.floor(t.y);break;case Ta:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class ai{constructor(e=0,t=0,i=0,s=1){ai.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,s){return this.x=e,this.y=t,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*s+o[12]*r,this.y=o[1]*t+o[5]*i+o[9]*s+o[13]*r,this.z=o[2]*t+o[6]*i+o[10]*s+o[14]*r,this.w=o[3]*t+o[7]*i+o[11]*s+o[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,s,r;const c=e.elements,l=c[0],u=c[4],d=c[8],h=c[1],m=c[5],_=c[9],b=c[2],v=c[6],M=c[10];if(Math.abs(u-h)<.01&&Math.abs(d-b)<.01&&Math.abs(_-v)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+b)<.1&&Math.abs(_+v)<.1&&Math.abs(l+m+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(l+1)/2,S=(m+1)/2,O=(M+1)/2,F=(u+h)/4,N=(d+b)/4,z=(_+v)/4;return T>S&&T>O?T<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(T),s=F/i,r=N/i):S>O?S<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(S),i=F/s,r=z/s):O<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(O),i=N/r,s=z/r),this.set(i,s,r,t),this}let E=Math.sqrt((v-_)*(v-_)+(d-b)*(d-b)+(h-u)*(h-u));return Math.abs(E)<.001&&(E=1),this.x=(v-_)/E,this.y=(d-b)/E,this.z=(h-u)/E,this.w=Math.acos((l+m+M-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=h1(this.x,e.x,t.x),this.y=h1(this.y,e.y,t.y),this.z=h1(this.z,e.z,t.z),this.w=h1(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=h1(this.x,e,t),this.y=h1(this.y,e,t),this.z=h1(this.z,e,t),this.w=h1(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(h1(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mte extends r0{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Us,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new ai(0,0,e,t),this.scissorTest=!1,this.viewport=new ai(0,0,e,t);const r=new hr({width:e,height:t,depth:i.depth});this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=r.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Us,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=i,this.textures[s].isArrayTexture=this.textures[s].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new F6(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class a0 extends mte{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class FL extends hr{constructor(e=null,t=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=T2,this.minFilter=T2,this.wrapR=Ta,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class VL extends hr{constructor(e=null,t=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=T2,this.minFilter=T2,this.wrapR=Ta,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pr{constructor(e=new K(1/0,1/0,1/0),t=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(uc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(uc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=uc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(void 0!==i){const r=i.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let o=0,a=r.count;o<a;o++)!0===e.isMesh?e.getVertexPosition(o,uc):uc.fromBufferAttribute(r,o),uc.applyMatrix4(e.matrixWorld),this.expandByPoint(uc);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Uv.copy(e.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),Uv.copy(i.boundingBox)),Uv.applyMatrix4(e.matrixWorld),this.union(Uv)}const s=e.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,uc),uc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter($9),Bv.subVectors(this.max,$9),ad.subVectors(e.a,$9),cd.subVectors(e.b,$9),ld.subVectors(e.c,$9),N4.subVectors(cd,ad),D4.subVectors(ld,cd),V6.subVectors(ad,ld);let t=[0,-N4.z,N4.y,0,-D4.z,D4.y,0,-V6.z,V6.y,N4.z,0,-N4.x,D4.z,0,-D4.x,V6.z,0,-V6.x,-N4.y,N4.x,0,-D4.y,D4.x,0,-V6.y,V6.x,0];return!(!UL(t,ad,cd,ld,Bv)||(t=[1,0,0,0,1,0,0,0,1],!UL(t,ad,cd,ld,Bv)))&&(Hv.crossVectors(N4,D4),t=[Hv.x,Hv.y,Hv.z],UL(t,ad,cd,ld,Bv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(uc).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(c0[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),c0[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),c0[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),c0[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),c0[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),c0[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),c0[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),c0[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(c0)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const c0=[new K,new K,new K,new K,new K,new K,new K,new K],uc=new K,Uv=new pr,ad=new K,cd=new K,ld=new K,N4=new K,D4=new K,V6=new K,$9=new K,Bv=new K,Hv=new K,U6=new K;function UL(n,e,t,i,s){for(let r=0,o=n.length-3;r<=o;r+=3){U6.fromArray(n,r);const a=s.x*Math.abs(U6.x)+s.y*Math.abs(U6.y)+s.z*Math.abs(U6.z),c=e.dot(U6),l=t.dot(U6),u=i.dot(U6);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>a)return!1}return!0}const Tnt=new pr,W9=new K,BL=new K;class $2{constructor(e=new K,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):Tnt.setFromPoints(e).getCenter(i);let s=0;for(let r=0,o=e.length;r<o;r++)s=Math.max(s,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;W9.subVectors(e,this.center);const t=W9.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),s=.5*(i-this.radius);this.center.addScaledVector(W9,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(BL.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(W9.copy(e.center).add(BL)),this.expandByPoint(W9.copy(e.center).sub(BL))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const l0=new K,HL=new K,jv=new K,R4=new K,jL=new K,Gv=new K,GL=new K;class q9{constructor(e=new K,t=new K(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,l0)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=l0.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(l0.copy(this.origin).addScaledVector(this.direction,t),l0.distanceToSquared(e))}distanceSqToSegment(e,t,i,s){HL.copy(e).add(t).multiplyScalar(.5),jv.copy(t).sub(e).normalize(),R4.copy(this.origin).sub(HL);const r=.5*e.distanceTo(t),o=-this.direction.dot(jv),a=R4.dot(this.direction),c=-R4.dot(jv),l=R4.lengthSq(),u=Math.abs(1-o*o);let d,h,m,_;if(u>0)if(d=o*c-a,h=o*a-c,_=r*u,d>=0)if(h>=-_)if(h<=_){const b=1/u;d*=b,h*=b,m=d*(d+o*h+2*a)+h*(o*d+h+2*c)+l}else h=r,d=Math.max(0,-(o*h+a)),m=-d*d+h*(h+2*c)+l;else h=-r,d=Math.max(0,-(o*h+a)),m=-d*d+h*(h+2*c)+l;else h<=-_?(d=Math.max(0,-(-o*r+a)),h=d>0?-r:Math.min(Math.max(-r,-c),r),m=-d*d+h*(h+2*c)+l):h<=_?(d=0,h=Math.min(Math.max(-r,-c),r),m=h*(h+2*c)+l):(d=Math.max(0,-(o*r+a)),h=d>0?r:Math.min(Math.max(-r,-c),r),m=-d*d+h*(h+2*c)+l);else h=o>0?-r:r,d=Math.max(0,-(o*h+a)),m=-d*d+h*(h+2*c)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,d),s&&s.copy(HL).addScaledVector(jv,h),m}intersectSphere(e,t){l0.subVectors(e.center,this.origin);const i=l0.dot(this.direction),s=l0.dot(l0)-i*i,r=e.radius*e.radius;if(s>r)return null;const o=Math.sqrt(r-s),a=i-o,c=i+o;return c<0?null:this.at(a<0?c:a,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,s,r,o,a,c;const l=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return l>=0?(i=(e.min.x-h.x)*l,s=(e.max.x-h.x)*l):(i=(e.max.x-h.x)*l,s=(e.min.x-h.x)*l),u>=0?(r=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(r=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||r>s||((r>i||isNaN(i))&&(i=r),(o<s||isNaN(s))&&(s=o),d>=0?(a=(e.min.z-h.z)*d,c=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,c=(e.min.z-h.z)*d),i>c||a>s)||((a>i||i!=i)&&(i=a),(c<s||s!=s)&&(s=c),s<0)?null:this.at(i>=0?i:s,t)}intersectsBox(e){return null!==this.intersectBox(e,l0)}intersectTriangle(e,t,i,s,r){jL.subVectors(t,e),Gv.subVectors(i,e),GL.crossVectors(jL,Gv);let a,o=this.direction.dot(GL);if(o>0){if(s)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}R4.subVectors(this.origin,e);const c=a*this.direction.dot(Gv.crossVectors(R4,Gv));if(c<0)return null;const l=a*this.direction.dot(jL.cross(R4));if(l<0||c+l>o)return null;const u=-a*R4.dot(GL);return u<0?null:this.at(u/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Gn{constructor(e,t,i,s,r,o,a,c,l,u,d,h,m,_,b,v){Gn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,s,r,o,a,c,l,u,d,h,m,_,b,v)}set(e,t,i,s,r,o,a,c,l,u,d,h,m,_,b,v){const M=this.elements;return M[0]=e,M[4]=t,M[8]=i,M[12]=s,M[1]=r,M[5]=o,M[9]=a,M[13]=c,M[2]=l,M[6]=u,M[10]=d,M[14]=h,M[3]=m,M[7]=_,M[11]=b,M[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Gn).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,s=1/ud.setFromMatrixColumn(e,0).length(),r=1/ud.setFromMatrixColumn(e,1).length(),o=1/ud.setFromMatrixColumn(e,2).length();return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,s=e.y,r=e.z,o=Math.cos(i),a=Math.sin(i),c=Math.cos(s),l=Math.sin(s),u=Math.cos(r),d=Math.sin(r);if("XYZ"===e.order){const h=o*u,m=o*d,_=a*u,b=a*d;t[0]=c*u,t[4]=-c*d,t[8]=l,t[1]=m+_*l,t[5]=h-b*l,t[9]=-a*c,t[2]=b-h*l,t[6]=_+m*l,t[10]=o*c}else if("YXZ"===e.order){const h=c*u,m=c*d,_=l*u,b=l*d;t[0]=h+b*a,t[4]=_*a-m,t[8]=o*l,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-_,t[6]=b+h*a,t[10]=o*c}else if("ZXY"===e.order){const h=c*u,m=c*d,_=l*u,b=l*d;t[0]=h-b*a,t[4]=-o*d,t[8]=_+m*a,t[1]=m+_*a,t[5]=o*u,t[9]=b-h*a,t[2]=-o*l,t[6]=a,t[10]=o*c}else if("ZYX"===e.order){const h=o*u,m=o*d,_=a*u,b=a*d;t[0]=c*u,t[4]=_*l-m,t[8]=h*l+b,t[1]=c*d,t[5]=b*l+h,t[9]=m*l-_,t[2]=-l,t[6]=a*c,t[10]=o*c}else if("YZX"===e.order){const h=o*c,m=o*l,_=a*c,b=a*l;t[0]=c*u,t[4]=b-h*d,t[8]=_*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=m*d+_,t[10]=h-b*d}else if("XZY"===e.order){const h=o*c,m=o*l,_=a*c,b=a*l;t[0]=c*u,t[4]=-d,t[8]=l*u,t[1]=h*d+b,t[5]=o*u,t[9]=m*d-_,t[2]=_*d-m,t[6]=a*u,t[10]=b*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Snt,e,Ant)}lookAt(e,t,i){const s=this.elements;return qo.subVectors(e,t),0===qo.lengthSq()&&(qo.z=1),qo.normalize(),O4.crossVectors(i,qo),0===O4.lengthSq()&&(1===Math.abs(i.z)?qo.x+=1e-4:qo.z+=1e-4,qo.normalize(),O4.crossVectors(i,qo)),O4.normalize(),$v.crossVectors(qo,O4),s[0]=O4.x,s[4]=$v.x,s[8]=qo.x,s[1]=O4.y,s[5]=$v.y,s[9]=qo.y,s[2]=O4.z,s[6]=$v.z,s[10]=qo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,r=this.elements,o=i[0],a=i[4],c=i[8],l=i[12],u=i[1],d=i[5],h=i[9],m=i[13],_=i[2],b=i[6],v=i[10],M=i[14],E=i[3],T=i[7],S=i[11],O=i[15],F=s[0],N=s[4],z=s[8],L=s[12],I=s[1],k=s[5],G=s[9],U=s[13],me=s[2],ze=s[6],_e=s[10],Xe=s[14],we=s[3],vt=s[7],Nt=s[11],Xt=s[15];return r[0]=o*F+a*I+c*me+l*we,r[4]=o*N+a*k+c*ze+l*vt,r[8]=o*z+a*G+c*_e+l*Nt,r[12]=o*L+a*U+c*Xe+l*Xt,r[1]=u*F+d*I+h*me+m*we,r[5]=u*N+d*k+h*ze+m*vt,r[9]=u*z+d*G+h*_e+m*Nt,r[13]=u*L+d*U+h*Xe+m*Xt,r[2]=_*F+b*I+v*me+M*we,r[6]=_*N+b*k+v*ze+M*vt,r[10]=_*z+b*G+v*_e+M*Nt,r[14]=_*L+b*U+v*Xe+M*Xt,r[3]=E*F+T*I+S*me+O*we,r[7]=E*N+T*k+S*ze+O*vt,r[11]=E*z+T*G+S*_e+O*Nt,r[15]=E*L+T*U+S*Xe+O*Xt,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],s=e[8],r=e[12],o=e[1],a=e[5],c=e[9],l=e[13],u=e[2],d=e[6],h=e[10],m=e[14];return e[3]*(+r*c*d-s*l*d-r*a*h+i*l*h+s*a*m-i*c*m)+e[7]*(+t*c*m-t*l*h+r*o*h-s*o*m+s*l*u-r*c*u)+e[11]*(+t*l*d-t*a*m-r*o*d+i*o*m+r*a*u-i*l*u)+e[15]*(-s*a*u-t*c*d+t*a*h+s*o*d-i*o*h+i*c*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],d=e[9],h=e[10],m=e[11],_=e[12],b=e[13],v=e[14],M=e[15],E=d*v*l-b*h*l+b*c*m-a*v*m-d*c*M+a*h*M,T=_*h*l-u*v*l-_*c*m+o*v*m+u*c*M-o*h*M,S=u*b*l-_*d*l+_*a*m-o*b*m-u*a*M+o*d*M,O=_*d*c-u*b*c-_*a*h+o*b*h+u*a*v-o*d*v,F=t*E+i*T+s*S+r*O;if(0===F)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/F;return e[0]=E*N,e[1]=(b*h*r-d*v*r-b*s*m+i*v*m+d*s*M-i*h*M)*N,e[2]=(a*v*r-b*c*r+b*s*l-i*v*l-a*s*M+i*c*M)*N,e[3]=(d*c*r-a*h*r-d*s*l+i*h*l+a*s*m-i*c*m)*N,e[4]=T*N,e[5]=(u*v*r-_*h*r+_*s*m-t*v*m-u*s*M+t*h*M)*N,e[6]=(_*c*r-o*v*r-_*s*l+t*v*l+o*s*M-t*c*M)*N,e[7]=(o*h*r-u*c*r+u*s*l-t*h*l-o*s*m+t*c*m)*N,e[8]=S*N,e[9]=(_*d*r-u*b*r-_*i*m+t*b*m+u*i*M-t*d*M)*N,e[10]=(o*b*r-_*a*r+_*i*l-t*b*l-o*i*M+t*a*M)*N,e[11]=(u*a*r-o*d*r-u*i*l+t*d*l+o*i*m-t*a*m)*N,e[12]=O*N,e[13]=(u*b*s-_*d*s+_*i*h-t*b*h-u*i*v+t*d*v)*N,e[14]=(_*a*s-o*b*s-_*i*c+t*b*c+o*i*v-t*a*v)*N,e[15]=(o*d*s-u*a*s+u*i*c-t*d*c-o*i*h+t*a*h)*N,this}scale(e){const t=this.elements,i=e.x,s=e.y,r=e.z;return t[0]*=i,t[4]*=s,t[8]*=r,t[1]*=i,t[5]*=s,t[9]*=r,t[2]*=i,t[6]*=s,t[10]*=r,t[3]*=i,t[7]*=s,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),s=Math.sin(t),r=1-i,o=e.x,a=e.y,c=e.z,l=r*o,u=r*a;return this.set(l*o+i,l*a-s*c,l*c+s*a,0,l*a+s*c,u*a+i,u*c-s*o,0,l*c-s*a,u*c+s*o,r*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,s,r,o){return this.set(1,i,r,0,e,1,o,0,t,s,1,0,0,0,0,1),this}compose(e,t,i){const s=this.elements,r=t._x,o=t._y,a=t._z,c=t._w,l=r+r,u=o+o,d=a+a,h=r*l,m=r*u,_=r*d,b=o*u,v=o*d,M=a*d,E=c*l,T=c*u,S=c*d,O=i.x,F=i.y,N=i.z;return s[0]=(1-(b+M))*O,s[1]=(m+S)*O,s[2]=(_-T)*O,s[3]=0,s[4]=(m-S)*F,s[5]=(1-(h+M))*F,s[6]=(v+E)*F,s[7]=0,s[8]=(_+T)*N,s[9]=(v-E)*N,s[10]=(1-(h+b))*N,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,i){const s=this.elements;let r=ud.set(s[0],s[1],s[2]).length();const o=ud.set(s[4],s[5],s[6]).length(),a=ud.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],dc.copy(this);const l=1/r,u=1/o,d=1/a;return dc.elements[0]*=l,dc.elements[1]*=l,dc.elements[2]*=l,dc.elements[4]*=u,dc.elements[5]*=u,dc.elements[6]*=u,dc.elements[8]*=d,dc.elements[9]*=d,dc.elements[10]*=d,t.setFromRotationMatrix(dc),i.x=r,i.y=o,i.z=a,this}makePerspective(e,t,i,s,r,o,a=lc){const c=this.elements,l=2*r/(t-e),u=2*r/(i-s),d=(t+e)/(t-e),h=(i+s)/(i-s);let m,_;if(a===lc)m=-(o+r)/(o-r),_=-2*o*r/(o-r);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);m=-o/(o-r),_=-o*r/(o-r)}return c[0]=l,c[4]=0,c[8]=d,c[12]=0,c[1]=0,c[5]=u,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=m,c[14]=_,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,s,r,o,a=lc){const c=this.elements,l=1/(t-e),u=1/(i-s),d=1/(o-r),h=(t+e)*l,m=(i+s)*u;let _,b;if(a===lc)_=(o+r)*d,b=-2*d;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);_=r*d,b=-1*d}return c[0]=2*l,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-m,c[2]=0,c[6]=0,c[10]=b,c[14]=-_,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<16;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const ud=new K,dc=new Gn,Snt=new K(0,0,0),Ant=new K(1,1,1),O4=new K,$v=new K,qo=new K,gte=new Gn,_te=new jr;let u0=(()=>{class n{constructor(t=0,i=0,s=0,r=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=s,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,s,r=this._order){return this._x=t,this._y=i,this._z=s,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,s=!0){const r=t.elements,o=r[0],a=r[4],c=r[8],l=r[1],u=r[5],d=r[9],h=r[2],m=r[6],_=r[10];switch(i){case"XYZ":this._y=Math.asin(h1(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,_),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(m,u),this._z=0);break;case"YXZ":this._x=Math.asin(-h1(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(c,_),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(h1(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-h,_),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-h1(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(m,_),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(h1(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(c,_));break;case"XZY":this._z=Math.asin(-h1(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,u),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-d,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===s&&this._onChangeCallback(),this}setFromQuaternion(t,i,s){return gte.makeRotationFromQuaternion(t),this.setFromRotationMatrix(gte,i,s)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return _te.setFromEuler(this),this.setFromQuaternion(_te,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class $L{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let Lnt=0;const yte=new K,dd=new jr,d0=new Gn,Wv=new K,K9=new K,Int=new K,znt=new jr,vte=new K(1,0,0),Mte=new K(0,1,0),Cte=new K(0,0,1),bte={type:"added"},Pnt={type:"removed"},fd={type:"childadded",child:null},WL={type:"childremoved",child:null};let Fi=(()=>{class n extends r0{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Lnt++}),this.uuid=Wo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new K,i=new u0,s=new jr,r=new K(1,1,1);i._onChange(function o(){s.setFromEuler(i,!1)}),s._onChange(function a(){i.setFromQuaternion(s,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Gn},normalMatrix:{value:new C1}}),this.matrix=new Gn,this.matrixWorld=new Gn,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $L,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return dd.setFromAxisAngle(t,i),this.quaternion.multiply(dd),this}rotateOnWorldAxis(t,i){return dd.setFromAxisAngle(t,i),this.quaternion.premultiply(dd),this}rotateX(t){return this.rotateOnAxis(vte,t)}rotateY(t){return this.rotateOnAxis(Mte,t)}rotateZ(t){return this.rotateOnAxis(Cte,t)}translateOnAxis(t,i){return yte.copy(t).applyQuaternion(this.quaternion),this.position.add(yte.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(vte,t)}translateY(t){return this.translateOnAxis(Mte,t)}translateZ(t){return this.translateOnAxis(Cte,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(d0.copy(this.matrixWorld).invert())}lookAt(t,i,s){t.isVector3?Wv.copy(t):Wv.set(t,i,s);const r=this.parent;this.updateWorldMatrix(!0,!1),K9.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?d0.lookAt(K9,Wv,this.up):d0.lookAt(Wv,K9,this.up),this.quaternion.setFromRotationMatrix(d0),r&&(d0.extractRotation(r.matrixWorld),dd.setFromRotationMatrix(d0),this.quaternion.premultiply(dd.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(bte),fd.child=t,this.dispatchEvent(fd),fd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(Pnt),WL.child=t,this.dispatchEvent(WL),WL.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),d0.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),d0.multiply(t.parent.matrixWorld)),t.applyMatrix4(d0),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(bte),fd.child=t,this.dispatchEvent(fd),fd.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let s=0,r=this.children.length;s<r;s++){const a=this.children[s].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i,s=[]){this[t]===i&&s.push(this);const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].getObjectsByProperty(t,i,s);return s}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(K9,t,Int),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(K9,znt,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let s=0,r=i.length;s<r;s++)i[s].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let s=0,r=i.length;s<r;s++)i[s].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let s=0,r=i.length;s<r;s++)i[s].updateMatrixWorld(t)}updateWorldMatrix(t,i){const s=this.parent;if(!0===t&&null!==s&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===i){const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(t){const i=void 0===t||"string"==typeof t,s={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};function o(c,l){return void 0===c[l.uuid]&&(c[l.uuid]=l.toJSON(t)),l.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(c=>({...c})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(t),r.indirectTexture=this._indirectTexture.toJSON(t),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(r.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(r.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(t.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const l=c.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++)o(t.shapes,l[u]);else o(t.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let l=0,u=this.material.length;l<u;l++)c.push(o(t.materials,this.material[l]));r.material=c}else r.material=o(t.materials,this.material);if(this.children.length>0){r.children=[];for(let c=0;c<this.children.length;c++)r.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let c=0;c<this.animations.length;c++)r.animations.push(o(t.animations,this.animations[c]))}if(i){const c=a(t.geometries),l=a(t.materials),u=a(t.textures),d=a(t.images),h=a(t.shapes),m=a(t.skeletons),_=a(t.animations),b=a(t.nodes);c.length>0&&(s.geometries=c),l.length>0&&(s.materials=l),u.length>0&&(s.textures=u),d.length>0&&(s.images=d),h.length>0&&(s.shapes=h),m.length>0&&(s.skeletons=m),_.length>0&&(s.animations=_),b.length>0&&(s.nodes=b)}return s.object=r,s;function a(c){const l=[];for(const u in c){const d=c[u];delete d.metadata,l.push(d)}return l}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let s=0;s<t.children.length;s++)this.add(t.children[s].clone());return this}}return n.DEFAULT_UP=new K(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const fc=new K,f0=new K,qL=new K,h0=new K,hd=new K,pd=new K,xte=new K,KL=new K,XL=new K,YL=new K,ZL=new ai,QL=new ai,JL=new ai;class Ko{constructor(e=new K,t=new K,i=new K){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,s){s.subVectors(i,t),fc.subVectors(e,t),s.cross(fc);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,t,i,s,r){fc.subVectors(s,t),f0.subVectors(i,t),qL.subVectors(e,t);const o=fc.dot(fc),a=fc.dot(f0),c=fc.dot(qL),l=f0.dot(f0),u=f0.dot(qL),d=o*l-a*a;if(0===d)return r.set(0,0,0),null;const h=1/d,m=(l*c-a*u)*h,_=(o*u-a*c)*h;return r.set(1-m-_,_,m)}static containsPoint(e,t,i,s){return null!==this.getBarycoord(e,t,i,s,h0)&&h0.x>=0&&h0.y>=0&&h0.x+h0.y<=1}static getInterpolation(e,t,i,s,r,o,a,c){return null===this.getBarycoord(e,t,i,s,h0)?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(r,h0.x),c.addScaledVector(o,h0.y),c.addScaledVector(a,h0.z),c)}static getInterpolatedAttribute(e,t,i,s,r,o){return ZL.setScalar(0),QL.setScalar(0),JL.setScalar(0),ZL.fromBufferAttribute(e,t),QL.fromBufferAttribute(e,i),JL.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector(ZL,r.x),o.addScaledVector(QL,r.y),o.addScaledVector(JL,r.z),o}static isFrontFacing(e,t,i,s){return fc.subVectors(i,t),f0.subVectors(e,t),fc.cross(f0).dot(s)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,s){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,i,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fc.subVectors(this.c,this.b),f0.subVectors(this.a,this.b),.5*fc.cross(f0).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ko.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ko.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,s,r){return Ko.getInterpolation(e,this.a,this.b,this.c,t,i,s,r)}containsPoint(e){return Ko.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ko.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,s=this.b,r=this.c;let o,a;hd.subVectors(s,i),pd.subVectors(r,i),KL.subVectors(e,i);const c=hd.dot(KL),l=pd.dot(KL);if(c<=0&&l<=0)return t.copy(i);XL.subVectors(e,s);const u=hd.dot(XL),d=pd.dot(XL);if(u>=0&&d<=u)return t.copy(s);const h=c*d-u*l;if(h<=0&&c>=0&&u<=0)return o=c/(c-u),t.copy(i).addScaledVector(hd,o);YL.subVectors(e,r);const m=hd.dot(YL),_=pd.dot(YL);if(_>=0&&m<=_)return t.copy(r);const b=m*l-c*_;if(b<=0&&l>=0&&_<=0)return a=l/(l-_),t.copy(i).addScaledVector(pd,a);const v=u*_-m*d;if(v<=0&&d-u>=0&&m-_>=0)return xte.subVectors(r,s),a=(d-u)/(d-u+(m-_)),t.copy(s).addScaledVector(xte,a);const M=1/(v+b+h);return o=b*M,a=h*M,t.copy(i).addScaledVector(hd,o).addScaledVector(pd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Ete={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},k4={h:0,s:0,l:0},qv={h:0,s:0,l:0};function eI(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class jt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const s=e;s&&s.isColor?this.copy(s):"number"==typeof s?this.setHex(s):"string"==typeof s&&this.setStyle(s)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=S2){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Y1.colorSpaceToWorking(this,t),this}setRGB(e,t,i,s=Y1.workingColorSpace){return this.r=e,this.g=t,this.b=i,Y1.colorSpaceToWorking(this,s),this}setHSL(e,t,i,s=Y1.workingColorSpace){if(e=NL(e,1),t=h1(t,0,1),i=h1(i,0,1),0===t)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,o=2*i-r;this.r=eI(o,r,e+1/3),this.g=eI(o,r,e),this.b=eI(o,r,e-1/3)}return Y1.colorSpaceToWorking(this,s),this}setStyle(e,t=S2){function i(r){void 0!==r&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const a=s[2];switch(s[1]){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],o=r.length;if(3===o)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=S2){const i=Ete[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=o0(e.r),this.g=o0(e.g),this.b=o0(e.b),this}copyLinearToSRGB(e){return this.r=rd(e.r),this.g=rd(e.g),this.b=rd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=S2){return Y1.workingToColorSpace(mr.copy(this),e),65536*Math.round(h1(255*mr.r,0,255))+256*Math.round(h1(255*mr.g,0,255))+Math.round(h1(255*mr.b,0,255))}getHexString(e=S2){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Y1.workingColorSpace){Y1.workingToColorSpace(mr.copy(this),t);const i=mr.r,s=mr.g,r=mr.b,o=Math.max(i,s,r),a=Math.min(i,s,r);let c,l;const u=(a+o)/2;if(a===o)c=0,l=0;else{const d=o-a;switch(l=u<=.5?d/(o+a):d/(2-o-a),o){case i:c=(s-r)/d+(s<r?6:0);break;case s:c=(r-i)/d+2;break;case r:c=(i-s)/d+4}c/=6}return e.h=c,e.s=l,e.l=u,e}getRGB(e,t=Y1.workingColorSpace){return Y1.workingToColorSpace(mr.copy(this),t),e.r=mr.r,e.g=mr.g,e.b=mr.b,e}getStyle(e=S2){Y1.workingToColorSpace(mr.copy(this),e);const t=mr.r,i=mr.g,s=mr.b;return e!==S2?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*s)})`}offsetHSL(e,t,i){return this.getHSL(k4),this.setHSL(k4.h+e,k4.s+t,k4.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(k4),e.getHSL(qv);const i=j9(k4.h,qv.h,t),s=j9(k4.s,qv.s,t),r=j9(k4.l,qv.l,t);return this.setHSL(i,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,s=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*s,this.g=r[1]*t+r[4]*i+r[7]*s,this.b=r[2]*t+r[5]*i+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const mr=new jt;jt.NAMES=Ete;let Nnt=0;class A2 extends r0{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Nnt++}),this.uuid=Wo(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new jt(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ed,this.stencilZFail=ed,this.stencilZPass=ed,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];void 0!==s?s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function s(r){const o=[];for(const a in r){const c=r[a];delete c.metadata,o.push(c)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(i.dispersion=this.dispersion),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapRotation&&(i.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),204!==this.blendSrc&&(i.blendSrc=this.blendSrc),205!==this.blendDst&&(i.blendDst=this.blendDst),100!==this.blendEquation&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ed&&(i.stencilFail=this.stencilFail),this.stencilZFail!==ed&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==ed&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const r=s(e.textures),o=s(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const s=t.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class Sa extends A2{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new u0,this.combine=Sv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Js=new K,Kv=new it;let Rnt=0;class yi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Rnt++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRanges=[],this.gpuType=$o,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=t.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)Kv.fromBufferAttribute(this,t),Kv.applyMatrix3(e),this.setXY(t,Kv.x,Kv.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)Js.fromBufferAttribute(this,t),Js.applyMatrix3(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Js.fromBufferAttribute(this,t),Js.applyMatrix4(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Js.fromBufferAttribute(this,t),Js.applyNormalMatrix(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Js.fromBufferAttribute(this,t),Js.transformDirection(e),this.setXYZ(t,Js.x,Js.y,Js.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Hr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=M1(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Hr(t,this.array)),t}setX(e,t){return this.normalized&&(t=M1(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Hr(t,this.array)),t}setY(e,t){return this.normalized&&(t=M1(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Hr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=M1(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Hr(t,this.array)),t}setW(e,t){return this.normalized&&(t=M1(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=M1(t,this.array),i=M1(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=M1(t,this.array),i=M1(i,this.array),s=M1(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,t,i,s,r){return e*=this.itemSize,this.normalized&&(t=M1(t,this.array),i=M1(i,this.array),s=M1(s,this.array),r=M1(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class wte extends yi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Tte extends yi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Mn extends yi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Ont=0;const Aa=new Gn,tI=new Fi,md=new K,Xo=new pr,Y9=new pr,L2=new K;class b1 extends r0{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ont++}),this.uuid=Wo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(dte(e)?Tte:wte)(e,1):e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const r=(new C1).getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(e),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Aa.makeRotationFromQuaternion(e),this.applyMatrix4(Aa),this}rotateX(e){return Aa.makeRotationX(e),this.applyMatrix4(Aa),this}rotateY(e){return Aa.makeRotationY(e),this.applyMatrix4(Aa),this}rotateZ(e){return Aa.makeRotationZ(e),this.applyMatrix4(Aa),this}translate(e,t,i){return Aa.makeTranslation(e,t,i),this.applyMatrix4(Aa),this}scale(e,t,i){return Aa.makeScale(e,t,i),this.applyMatrix4(Aa),this}lookAt(e){return tI.lookAt(e),tI.updateMatrix(),this.applyMatrix4(tI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(md).negate(),this.translate(md.x,md.y,md.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const i=[];for(let s=0,r=e.length;s<r;s++){const o=e[s];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Mn(i,3))}else{const i=Math.min(e.length,t.count);for(let s=0;s<i;s++){const r=e[s];t.setXYZ(s,r.x,r.y,r.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new pr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,s=t.length;i<s;i++)Xo.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(L2.addVectors(this.boundingBox.min,Xo.min),this.boundingBox.expandByPoint(L2),L2.addVectors(this.boundingBox.max,Xo.max),this.boundingBox.expandByPoint(L2)):(this.boundingBox.expandByPoint(Xo.min),this.boundingBox.expandByPoint(Xo.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $2);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new K,1/0);if(e){const i=this.boundingSphere.center;if(Xo.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++)Y9.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(L2.addVectors(Xo.min,Y9.min),Xo.expandByPoint(L2),L2.addVectors(Xo.max,Y9.max),Xo.expandByPoint(L2)):(Xo.expandByPoint(Y9.min),Xo.expandByPoint(Y9.max));Xo.getCenter(i);let s=0;for(let r=0,o=e.count;r<o;r++)L2.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(L2));if(t)for(let r=0,o=t.length;r<o;r++){const a=t[r],c=this.morphTargetsRelative;for(let l=0,u=a.count;l<u;l++)L2.fromBufferAttribute(a,l),c&&(md.fromBufferAttribute(e,l),L2.add(md)),s=Math.max(s,i.distanceToSquared(L2))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.position,s=t.normal,r=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new yi(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],c=[];for(let z=0;z<i.count;z++)a[z]=new K,c[z]=new K;const l=new K,u=new K,d=new K,h=new it,m=new it,_=new it,b=new K,v=new K;function M(z,L,I){l.fromBufferAttribute(i,z),u.fromBufferAttribute(i,L),d.fromBufferAttribute(i,I),h.fromBufferAttribute(r,z),m.fromBufferAttribute(r,L),_.fromBufferAttribute(r,I),u.sub(l),d.sub(l),m.sub(h),_.sub(h);const k=1/(m.x*_.y-_.x*m.y);isFinite(k)&&(b.copy(u).multiplyScalar(_.y).addScaledVector(d,-m.y).multiplyScalar(k),v.copy(d).multiplyScalar(m.x).addScaledVector(u,-_.x).multiplyScalar(k),a[z].add(b),a[L].add(b),a[I].add(b),c[z].add(v),c[L].add(v),c[I].add(v))}let E=this.groups;0===E.length&&(E=[{start:0,count:e.count}]);for(let z=0,L=E.length;z<L;++z){const I=E[z],k=I.start;for(let U=k,me=k+I.count;U<me;U+=3)M(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const T=new K,S=new K,O=new K,F=new K;function N(z){O.fromBufferAttribute(s,z),F.copy(O);const L=a[z];T.copy(L),T.sub(O.multiplyScalar(O.dot(L))).normalize(),S.crossVectors(F,L);const k=S.dot(c[z])<0?-1:1;o.setXYZW(z,T.x,T.y,T.z,k)}for(let z=0,L=E.length;z<L;++z){const I=E[z],k=I.start;for(let U=k,me=k+I.count;U<me;U+=3)N(e.getX(U+0)),N(e.getX(U+1)),N(e.getX(U+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new yi(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,m=i.count;h<m;h++)i.setXYZ(h,0,0,0);const s=new K,r=new K,o=new K,a=new K,c=new K,l=new K,u=new K,d=new K;if(e)for(let h=0,m=e.count;h<m;h+=3){const _=e.getX(h+0),b=e.getX(h+1),v=e.getX(h+2);s.fromBufferAttribute(t,_),r.fromBufferAttribute(t,b),o.fromBufferAttribute(t,v),u.subVectors(o,r),d.subVectors(s,r),u.cross(d),a.fromBufferAttribute(i,_),c.fromBufferAttribute(i,b),l.fromBufferAttribute(i,v),a.add(u),c.add(u),l.add(u),i.setXYZ(_,a.x,a.y,a.z),i.setXYZ(b,c.x,c.y,c.z),i.setXYZ(v,l.x,l.y,l.z)}else for(let h=0,m=t.count;h<m;h+=3)s.fromBufferAttribute(t,h+0),r.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,r),d.subVectors(s,r),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)L2.fromBufferAttribute(e,t),L2.normalize(),e.setXYZ(t,L2.x,L2.y,L2.z)}toNonIndexed(){function e(a,c){const l=a.array,u=a.itemSize,d=a.normalized,h=new l.constructor(c.length*u);let m=0,_=0;for(let b=0,v=c.length;b<v;b++){m=a.isInterleavedBufferAttribute?c[b]*a.data.stride+a.offset:c[b]*u;for(let M=0;M<u;M++)h[_++]=l[m++]}return new yi(h,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new b1,i=this.index.array,s=this.attributes;for(const a in s){const l=e(s[a],i);t.setAttribute(a,l)}const r=this.morphAttributes;for(const a in r){const c=[],l=r[a];for(let u=0,d=l.length;u<d;u++){const m=e(l[u],i);c.push(m)}t.morphAttributes[a]=c}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,c=o.length;a<c;a++){const l=o[a];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const c=this.parameters;for(const l in c)void 0!==c[l]&&(e[l]=c[l]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i)e.data.attributes[c]=i[c].toJSON(e.data);const s={};let r=!1;for(const c in this.morphAttributes){const l=this.morphAttributes[c],u=[];for(let d=0,h=l.length;d<h;d++)u.push(l[d].toJSON(e.data));u.length>0&&(s[c]=u,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere=a.toJSON()),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone());const s=e.attributes;for(const l in s)this.setAttribute(l,s[l].clone(t));const r=e.morphAttributes;for(const l in r){const u=[],d=r[l];for(let h=0,m=d.length;h<m;h++)u.push(d[h].clone(t));this.morphAttributes[l]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,u=o.length;l<u;l++){const d=o[l];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const c=e.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ste=new Gn,B6=new q9,Xv=new $2,Ate=new K,Yv=new K,Zv=new K,Qv=new K,nI=new K,Jv=new K,Lte=new K,eM=new K;class e2 extends Fi{constructor(e=new b1,t=new Sa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,t){const i=this.geometry,r=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(r&&a){Jv.set(0,0,0);for(let c=0,l=r.length;c<l;c++){const u=a[c];0!==u&&(nI.fromBufferAttribute(r[c],e),Jv.addScaledVector(o?nI:nI.sub(t),u))}t.add(Jv)}return t}raycast(e,t){const i=this.geometry,r=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),Xv.copy(i.boundingSphere),Xv.applyMatrix4(r),B6.copy(e.ray).recast(e.near),(!1!==Xv.containsPoint(B6.origin)||!(null===B6.intersectSphere(Xv,Ate)||B6.origin.distanceToSquared(Ate)>(e.far-e.near)**2))&&(Ste.copy(r).invert(),B6.copy(e.ray).applyMatrix4(Ste),(null===i.boundingBox||!1!==B6.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,B6)))}_computeIntersections(e,t,i){let s;const r=this.geometry,o=this.material,a=r.index,c=r.attributes.position,l=r.attributes.uv,u=r.attributes.uv1,d=r.attributes.normal,h=r.groups,m=r.drawRange;if(null!==a)if(Array.isArray(o))for(let _=0,b=h.length;_<b;_++){const v=h[_],M=o[v.materialIndex];for(let S=Math.max(v.start,m.start),O=Math.min(a.count,Math.min(v.start+v.count,m.start+m.count));S<O;S+=3)s=tM(this,M,e,i,l,u,d,a.getX(S),a.getX(S+1),a.getX(S+2)),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=v.materialIndex,t.push(s))}else for(let v=Math.max(0,m.start),M=Math.min(a.count,m.start+m.count);v<M;v+=3)s=tM(this,o,e,i,l,u,d,a.getX(v),a.getX(v+1),a.getX(v+2)),s&&(s.faceIndex=Math.floor(v/3),t.push(s));else if(void 0!==c)if(Array.isArray(o))for(let _=0,b=h.length;_<b;_++){const v=h[_],M=o[v.materialIndex];for(let S=Math.max(v.start,m.start),O=Math.min(c.count,Math.min(v.start+v.count,m.start+m.count));S<O;S+=3)s=tM(this,M,e,i,l,u,d,S,S+1,S+2),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=v.materialIndex,t.push(s))}else for(let v=Math.max(0,m.start),M=Math.min(c.count,m.start+m.count);v<M;v+=3)s=tM(this,o,e,i,l,u,d,v,v+1,v+2),s&&(s.faceIndex=Math.floor(v/3),t.push(s))}}function tM(n,e,t,i,s,r,o,a,c,l){n.getVertexPosition(a,Yv),n.getVertexPosition(c,Zv),n.getVertexPosition(l,Qv);const u=function knt(n,e,t,i,s,r,o,a){let c;if(c=1===e.side?i.intersectTriangle(o,r,s,!0,a):i.intersectTriangle(s,r,o,0===e.side,a),null===c)return null;eM.copy(a),eM.applyMatrix4(n.matrixWorld);const l=t.ray.origin.distanceTo(eM);return l<t.near||l>t.far?null:{distance:l,point:eM.clone(),object:n}}(n,e,t,i,Yv,Zv,Qv,Lte);if(u){const d=new K;Ko.getBarycoord(Lte,Yv,Zv,Qv,d),s&&(u.uv=Ko.getInterpolatedAttribute(s,a,c,l,d,new it)),r&&(u.uv1=Ko.getInterpolatedAttribute(r,a,c,l,d,new it)),o&&(u.normal=Ko.getInterpolatedAttribute(o,a,c,l,d,new K),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:c,c:l,normal:new K,materialIndex:0};Ko.getNormal(Yv,Zv,Qv,h.normal),u.face=h,u.barycoord=d}return u}class gd extends b1{constructor(e=1,t=1,i=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:s,heightSegments:r,depthSegments:o};const a=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const c=[],l=[],u=[],d=[];let h=0,m=0;function _(b,v,M,E,T,S,O,F,N,z,L){const I=S/N,k=O/z,G=S/2,U=O/2,me=F/2,ze=N+1,_e=z+1;let Xe=0,we=0;const vt=new K;for(let Nt=0;Nt<_e;Nt++){const Xt=Nt*k-U;for(let Ln=0;Ln<ze;Ln++)vt[b]=(Ln*I-G)*E,vt[v]=Xt*T,vt[M]=me,l.push(vt.x,vt.y,vt.z),vt[b]=0,vt[v]=0,vt[M]=F>0?1:-1,u.push(vt.x,vt.y,vt.z),d.push(Ln/N),d.push(1-Nt/z),Xe+=1}for(let Nt=0;Nt<z;Nt++)for(let Xt=0;Xt<N;Xt++){const _n=h+Xt+ze*(Nt+1),De=h+(Xt+1)+ze*(Nt+1),at=h+(Xt+1)+ze*Nt;c.push(h+Xt+ze*Nt,_n,at),c.push(_n,De,at),we+=6}a.addGroup(m,we,L),m+=we,h+=Xe}_("z","y","x",-1,-1,i,t,e,o,r,0),_("z","y","x",1,-1,i,t,-e,o,r,1),_("x","z","y",1,1,e,i,t,s,o,2),_("x","z","y",1,-1,e,i,-t,s,o,3),_("x","y","z",1,-1,e,t,i,s,r,4),_("x","y","z",-1,-1,e,t,-i,s,r,5),this.setIndex(c),this.setAttribute("position",new Mn(l,3)),this.setAttribute("normal",new Mn(u,3)),this.setAttribute("uv",new Mn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _d(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const s=n[t][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=s.clone():e[t][i]=Array.isArray(s)?s.slice():s}}return e}function Gr(n){const e={};for(let t=0;t<n.length;t++){const i=_d(n[t]);for(const s in i)e[s]=i[s]}return e}function Ite(n){const e=n.getRenderTarget();return null===e?n.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:Y1.workingColorSpace}const Vnt={clone:_d,merge:Gr};class Qc extends A2{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_d(e.uniforms),this.uniformsGroups=function Fnt(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;t.uniforms[s]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const s in this.extensions)!0===this.extensions[s]&&(i[s]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class iI extends Fi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Gn,this.projectionMatrix=new Gn,this.projectionMatrixInverse=new Gn,this.coordinateSystem=lc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const F4=new K,zte=new it,Pte=new it;class I2 extends iI{constructor(e=50,t=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*td*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*k6*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*td*Math.atan(Math.tan(.5*k6*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){F4.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(F4.x,F4.y).multiplyScalar(-e/F4.z),F4.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(F4.x,F4.y).multiplyScalar(-e/F4.z)}getViewSize(e,t){return this.getViewBounds(e,zte,Pte),t.subVectors(Pte,zte)}setViewOffset(e,t,i,s,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*k6*this.fov)/this.zoom,i=2*t,s=this.aspect*i,r=-.5*s;const o=this.view;if(null!==this.view&&this.view.enabled){const c=o.fullWidth,l=o.fullHeight;r+=o.offsetX*s/c,t-=o.offsetY*i/l,s*=o.width/c,i*=o.height/l}const a=this.filmOffset;0!==a&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Hnt extends Fi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new I2(-90,1,e,t);s.layers=this.layers,this.add(s);const r=new I2(-90,1,e,t);r.layers=this.layers,this.add(r);const o=new I2(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new I2(-90,1,e,t);a.layers=this.layers,this.add(a);const c=new I2(-90,1,e,t);c.layers=this.layers,this.add(c);const l=new I2(-90,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,s,r,o,a,c]=t;for(const l of t)this.remove(l);if(e===lc)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,a,c,l,u]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const b=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(t,r),e.setRenderTarget(i,1,s),e.render(t,o),e.setRenderTarget(i,2,s),e.render(t,a),e.setRenderTarget(i,3,s),e.render(t,c),e.setRenderTarget(i,4,s),e.render(t,l),i.texture.generateMipmaps=b,e.setRenderTarget(i,5,s),e.render(t,u),e.setRenderTarget(d,h,m),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class nM extends hr{constructor(e=[],t=I4,i,s,r,o,a,c,l,u){super(e,t,i,s,r,o,a,c,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class jnt extends a0{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1};this.texture=new nM([i,i,i,i,i,i]),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new gd(5,5,5),r=new Qc({name:"CubemapFromEquirect",uniforms:_d(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=t;const o=new e2(s,r),a=t.minFilter;return t.minFilter===cc&&(t.minFilter=Us),new Hnt(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,s=!0){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,s);e.setRenderTarget(r)}}class V4 extends Fi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Gnt={type:"move"};class sI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new V4,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new V4,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new V4,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let s=null,r=null,o=null;const a=this._targetRay,c=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const b of e.hand.values()){const v=t.getJointPose(b,i),M=this._getHandJoint(l,b);null!==v&&(M.matrix.fromArray(v.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=v.radius),M.visible=null!==v}const h=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),m=.02,_=.005;l.inputState.pinching&&h>m+_?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&h<=m-_&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==c&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),null!==r&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1));null!==a&&(s=t.getPose(e.targetRaySpace,i),null===s&&null!==r&&(s=r),null!==s&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Gnt)))}return null!==a&&(a.visible=null!==s),null!==c&&(c.visible=null!==r),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new V4;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Nte extends Fi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new u0,this.environmentIntensity=1,this.environmentRotation=new u0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class iM{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=Wo()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=t.array[i+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Wo()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Wo()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $r=new K;class H6{constructor(e,t,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)$r.fromBufferAttribute(this,t),$r.applyMatrix4(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)$r.fromBufferAttribute(this,t),$r.applyNormalMatrix(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)$r.fromBufferAttribute(this,t),$r.transformDirection(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Hr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=M1(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=M1(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=M1(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=M1(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=M1(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Hr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Hr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Hr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Hr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=M1(t,this.array),i=M1(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=M1(t,this.array),i=M1(i,this.array),s=M1(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,t,i,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=M1(t,this.array),i=M1(i,this.array),s=M1(s,this.array),r=M1(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return new yi(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new H6(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Vte=new K,Ute=new ai,Bte=new ai,qnt=new K,Hte=new Gn,cM=new K,cI=new $2,jte=new Gn,lI=new q9;class Gte extends e2{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Gn,this.bindMatrixInverse=new Gn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new pr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,cM),this.boundingBox.expandByPoint(cM)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new $2),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,cM),this.boundingSphere.expandByPoint(cM)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const s=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),cI.copy(this.boundingSphere),cI.applyMatrix4(s),!1!==e.ray.intersectsSphere(cI)&&(jte.copy(s).invert(),lI.copy(e.ray).applyMatrix4(jte),(null===this.boundingBox||!1!==lI.intersectsBox(this.boundingBox))&&this._computeIntersections(e,t,lI)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ai,t=this.geometry.attributes.skinWeight;for(let i=0,s=t.count;i<s;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,s=this.geometry;Ute.fromBufferAttribute(s.attributes.skinIndex,e),Bte.fromBufferAttribute(s.attributes.skinWeight,e),Vte.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const o=Bte.getComponent(r);if(0!==o){const a=Ute.getComponent(r);Hte.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(qnt.copy(Vte).applyMatrix4(Hte),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class uI extends Fi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class m0 extends hr{constructor(e=null,t=1,i=1,s,r,o,a,c,l=T2,u=T2,d,h){super(null,o,a,c,l,u,s,r,d,h),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $te=new Gn,Knt=new Gn;class lM{constructor(e=[],t=[]){this.uuid=Wo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Gn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Gn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,o=e.length;r<o;r++)$te.multiplyMatrices(e[r]?e[r].matrixWorld:Knt,t[r]),$te.toArray(i,16*r);null!==s&&(s.needsUpdate=!0)}clone(){return new lM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new m0(t,e,e,ho,$o);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const r=e.bones[i];let o=t[r];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new uI),this.bones.push(o),this.boneInverses.push((new Gn).fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let s=0,r=t.length;s<r;s++)e.bones.push(t[s].uuid),e.boneInverses.push(i[s].toArray());return e}}class Ed extends yi{constructor(e,t,i,s=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const wd=new Gn,Wte=new Gn,uM=[],qte=new pr,Xnt=new Gn,ep=new e2,tp=new $2;class Kte extends e2{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ed(new Float32Array(16*i),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,Xnt)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new pr),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,wd),qte.copy(e.boundingBox).applyMatrix4(wd),this.boundingBox.union(qte)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new $2),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,wd),tp.copy(e.boundingSphere).applyMatrix4(wd),this.boundingSphere.union(tp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const i=t.morphTargetInfluences,s=this.morphTexture.source.data.data,o=e*(i.length+1)+1;for(let a=0;a<i.length;a++)i[a]=s[o+a]}raycast(e,t){const i=this.matrixWorld,s=this.count;if(ep.geometry=this.geometry,ep.material=this.material,void 0!==ep.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),tp.copy(this.boundingSphere),tp.applyMatrix4(i),!1!==e.ray.intersectsSphere(tp)))for(let r=0;r<s;r++){this.getMatrixAt(r,wd),Wte.multiplyMatrices(i,wd),ep.matrixWorld=Wte,ep.raycast(e,uM);for(let o=0,a=uM.length;o<a;o++){const c=uM[o];c.instanceId=r,c.object=this,t.push(c)}uM.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Ed(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const i=t.morphTargetInfluences,s=i.length+1;null===this.morphTexture&&(this.morphTexture=new m0(new Float32Array(s*this.count),s,this.count,tL,$o));const r=this.morphTexture.source.data.data;let o=0;for(let l=0;l<i.length;l++)o+=i[l];const c=s*e;r[c]=this.geometry.morphTargetsRelative?1:1-o,r.set(i,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}const dI=new K,Ynt=new K,Znt=new C1;class j6{constructor(e=new K(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,s){return this.normal.set(e,t,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const s=dI.subVectors(i,t).cross(Ynt.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(dI),s=this.normal.dot(i);if(0===s)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Znt.getNormalMatrix(e),s=this.coplanarPoint(dI).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const G6=new $2,Qnt=new it(.5,.5),dM=new K;class np{constructor(e=new j6,t=new j6,i=new j6,s=new j6,r=new j6,o=new j6){this.planes=[e,t,i,s,r,o]}set(e,t,i,s,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(s),a[4].copy(r),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=lc){const i=this.planes,s=e.elements,r=s[0],o=s[1],a=s[2],c=s[3],l=s[4],u=s[5],d=s[6],h=s[7],m=s[8],_=s[9],b=s[10],v=s[11],M=s[12],E=s[13],T=s[14],S=s[15];if(i[0].setComponents(c-r,h-l,v-m,S-M).normalize(),i[1].setComponents(c+r,h+l,v+m,S+M).normalize(),i[2].setComponents(c+o,h+u,v+_,S+E).normalize(),i[3].setComponents(c-o,h-u,v-_,S-E).normalize(),i[4].setComponents(c-a,h-d,v-b,S-T).normalize(),t===lc)i[5].setComponents(c+a,h+d,v+b,S+T).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(a,d,b,T).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),G6.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),G6.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(G6)}intersectsSprite(e){G6.center.set(0,0,0);const t=Qnt.distanceTo(e.center);return G6.radius=.7071067811865476+t,G6.applyMatrix4(e.matrixWorld),this.intersectsSphere(G6)}intersectsSphere(e){const t=this.planes,i=e.center,s=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const s=t[i];if(dM.x=s.normal.x>0?e.max.x:e.min.x,dM.y=s.normal.y>0?e.max.y:e.min.y,dM.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(dM)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class Wr extends A2{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new jt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const pM=new K,mM=new K,Zte=new Gn,sp=new q9,gM=new $2,mI=new K,Qte=new K;class U4 extends Fi{constructor(e=new b1,t=new Wr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[0];for(let s=1,r=t.count;s<r;s++)pM.fromBufferAttribute(t,s-1),mM.fromBufferAttribute(t,s),i[s]=i[s-1],i[s]+=pM.distanceTo(mM);e.setAttribute("lineDistance",new Mn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),gM.copy(i.boundingSphere),gM.applyMatrix4(s),gM.radius+=r,!1===e.ray.intersectsSphere(gM))return;Zte.copy(s).invert(),sp.copy(e.ray).applyMatrix4(Zte);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=this.isLineSegments?2:1,u=i.index,h=i.attributes.position;if(null!==u){const m=Math.max(0,o.start),_=Math.min(u.count,o.start+o.count);for(let b=m,v=_-1;b<v;b+=l){const M=u.getX(b),E=u.getX(b+1),T=_M(this,e,sp,c,M,E,b);T&&t.push(T)}if(this.isLineLoop){const b=u.getX(_-1),v=u.getX(m),M=_M(this,e,sp,c,b,v,_-1);M&&t.push(M)}}else{const m=Math.max(0,o.start),_=Math.min(h.count,o.start+o.count);for(let b=m,v=_-1;b<v;b+=l){const M=_M(this,e,sp,c,b,b+1,b);M&&t.push(M)}if(this.isLineLoop){const b=_M(this,e,sp,c,_-1,m,_-1);b&&t.push(b)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function _M(n,e,t,i,s,r,o){const a=n.geometry.attributes.position;if(pM.fromBufferAttribute(a,s),mM.fromBufferAttribute(a,r),t.distanceSqToSegment(pM,mM,mI,Qte)>i)return;mI.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(mI);return l<e.near||l>e.far?void 0:{distance:l,point:Qte.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const Jte=new K,ene=new K;class t3 extends U4{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[];for(let s=0,r=t.count;s<r;s+=2)Jte.fromBufferAttribute(t,s),ene.fromBufferAttribute(t,s+1),i[s]=0===s?0:i[s-1],i[s+1]=i[s]+Jte.distanceTo(ene);e.setAttribute("lineDistance",new Mn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class tne extends U4{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class gI extends A2{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new jt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const nne=new Gn,_I=new q9,yM=new $2,vM=new K;class ine extends Fi{constructor(e=new b1,t=new gI){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),yM.copy(i.boundingSphere),yM.applyMatrix4(s),yM.radius+=r,!1===e.ray.intersectsSphere(yM))return;nne.copy(s).invert(),_I.copy(e.ray).applyMatrix4(nne);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=i.index,d=i.attributes.position;if(null!==l)for(let _=Math.max(0,o.start),b=Math.min(l.count,o.start+o.count);_<b;_++){const v=l.getX(_);vM.fromBufferAttribute(d,v),sne(vM,v,c,s,e,t,this)}else for(let _=Math.max(0,o.start),b=Math.min(d.count,o.start+o.count);_<b;_++)vM.fromBufferAttribute(d,_),sne(vM,_,c,s,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function sne(n,e,t,i,s,r,o){const a=_I.distanceSqToPoint(n);if(a<t){const c=new K;_I.closestPointToPoint(n,c),c.applyMatrix4(i);const l=s.ray.origin.distanceTo(c);if(l<s.near||l>s.far)return;r.push({distance:l,distanceToRay:Math.sqrt(a),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class rne extends hr{constructor(e,t,i=z4,s,r,o,a=T2,c=T2,l,u=V9,d=1){if(u!==V9&&u!==U9)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:d},s,r,o,a,c,u,i,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new F6(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class dp extends b1{constructor(e=1,t=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:s};const r=e/2,o=t/2,a=Math.floor(i),c=Math.floor(s),l=a+1,u=c+1,d=e/a,h=t/c,m=[],_=[],b=[],v=[];for(let M=0;M<u;M++){const E=M*h-o;for(let T=0;T<l;T++)_.push(T*d-r,-E,0),b.push(0,0,1),v.push(T/a),v.push(1-M/c)}for(let M=0;M<c;M++)for(let E=0;E<a;E++){const S=E+l*(M+1),O=E+1+l*(M+1),F=E+1+l*M;m.push(E+l*M,S,F),m.push(S,O,F)}this.setIndex(m),this.setAttribute("position",new Mn(_,3)),this.setAttribute("normal",new Mn(b,3)),this.setAttribute("uv",new Mn(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dp(e.width,e.height,e.widthSegments,e.heightSegments)}}class zM extends A2{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new jt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new u0,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hc extends zM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new it(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return h1(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new jt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new jt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new jt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Cne extends A2{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class bne extends A2{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function X6(n,e){return n&&n.constructor!==e?"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n):n}function Ene(n){const t=n.length,i=new Array(t);for(let s=0;s!==t;++s)i[s]=s;return i.sort(function e(s,r){return n[s]-n[r]}),i}function UI(n,e,t){const i=n.length,s=new n.constructor(i);for(let r=0,o=0;o!==i;++r){const a=t[r]*e;for(let c=0;c!==e;++c)s[o++]=n[a+c]}return s}function BI(n,e,t,i){let s=1,r=n[0];for(;void 0!==r&&void 0===r[i];)r=n[s++];if(void 0===r)return;let o=r[i];if(void 0!==o)if(Array.isArray(o))do{o=r[i],void 0!==o&&(e.push(r.time),t.push(...o)),r=n[s++]}while(void 0!==r);else if(void 0!==o.toArray)do{o=r[i],void 0!==o&&(e.push(r.time),o.toArray(t,t.length)),r=n[s++]}while(void 0!==r);else do{o=r[i],void 0!==o&&(e.push(r.time),t.push(o)),r=n[s++]}while(void 0!==r)}class fp{constructor(e,t,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,s=t[i],r=t[i-1];e:{t:{let o;n:{i:if(!(e<s)){for(let a=i+2;;){if(void 0===s){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(r=s,s=t[++i],e<s)break t}o=t.length;break n}if(e>=r)break e;{const a=t[1];e<a&&(i=2,r=a);for(let c=i-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(s=r,r=t[--i-1],e>=r)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(s=t[i],r=t[i-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===s)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s;for(let o=0;o!==s;++o)t[o]=i[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class J1t extends fp{constructor(e,t,i,s){super(e,t,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const s=this.parameterPositions;let r=e-2,o=e+1,a=s[r],c=s[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:r=e,a=2*t-i;break;case 2402:r=s.length-2,a=t+s[r]-s[r+1];break;default:r=e,a=i}if(void 0===c)switch(this.getSettings_().endingEnd){case 2401:o=e,c=2*i-t;break;case 2402:o=1,c=i+s[1]-s[0];break;default:o=e-1,c=t}const l=.5*(i-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(c-i),this._offsetPrev=r*u,this._offsetNext=o*u}interpolate_(e,t,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,l=c-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,m=this._weightNext,_=(i-t)/(s-t),b=_*_,v=b*_,M=-h*v+2*h*b-h*_,E=(1+h)*v+(-1.5-2*h)*b+(-.5+h)*_+1,T=(-1-m)*v+(1.5+m)*b+.5*_,S=m*v-m*b;for(let O=0;O!==a;++O)r[O]=M*o[u+O]+E*o[l+O]+T*o[c+O]+S*o[d+O];return r}}class wne extends fp{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,l=c-a,u=(i-t)/(s-t),d=1-u;for(let h=0;h!==a;++h)r[h]=o[l+h]*d+o[c+h]*u;return r}}class eit extends fp{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class pc{constructor(e,t,i,s){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=X6(t,this.TimeBufferType),this.values=X6(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:X6(e.times,Array),values:X6(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new eit(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new wne(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new J1t(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case B9:t=this.InterpolantFactoryMethodDiscrete;break;case H9:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return B9;case this.InterpolantFactoryMethodLinear:return H9;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]*=e}return this}trim(e,t){const i=this.times,s=i.length;let r=0,o=s-1;for(;r!==s&&i[r]<e;)++r;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==r||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=i.slice(r,o),this.values=this.values.slice(r*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,r=i.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const c=i[a];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(null!==o&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,o),e=!1;break}o=c}if(void 0!==s&&function xne(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(s))for(let a=0,c=s.length;a!==c;++a){const l=s[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),s=2302===this.getInterpolation(),r=e.length-1;let o=1;for(let a=1;a<r;++a){let c=!1;const l=e[a];if(l!==e[a+1]&&(1!==a||l!==e[0]))if(s)c=!0;else{const d=a*i,h=d-i,m=d+i;for(let _=0;_!==i;++_){const b=t[d+_];if(b!==t[h+_]||b!==t[m+_]){c=!0;break}}}if(c){if(a!==o){e[o]=e[a];const d=a*i,h=o*i;for(let m=0;m!==i;++m)t[h+m]=t[d+m]}++o}}if(r>0){e[o]=e[r];for(let a=r*i,c=o*i,l=0;l!==i;++l)t[c+l]=t[a+l];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),s=new(0,this.constructor)(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}pc.prototype.ValueTypeName="",pc.prototype.TimeBufferType=Float32Array,pc.prototype.ValueBufferType=Float32Array,pc.prototype.DefaultInterpolation=H9;class Ad extends pc{constructor(e,t,i){super(e,t,i)}}Ad.prototype.ValueTypeName="bool",Ad.prototype.ValueBufferType=Array,Ad.prototype.DefaultInterpolation=B9,Ad.prototype.InterpolantFactoryMethodLinear=void 0,Ad.prototype.InterpolantFactoryMethodSmooth=void 0;class Tne extends pc{constructor(e,t,i,s){super(e,t,i,s)}}Tne.prototype.ValueTypeName="color";class Ld extends pc{constructor(e,t,i,s){super(e,t,i,s)}}Ld.prototype.ValueTypeName="number";class tit extends fp{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=(i-t)/(s-t);let l=e*a;for(let u=l+a;l!==u;l+=4)jr.slerpFlat(r,0,o,l-a,o,l,c);return r}}class Id extends pc{constructor(e,t,i,s){super(e,t,i,s)}InterpolantFactoryMethodLinear(e){return new tit(this.times,this.values,this.getValueSize(),e)}}Id.prototype.ValueTypeName="quaternion",Id.prototype.InterpolantFactoryMethodSmooth=void 0;class zd extends pc{constructor(e,t,i){super(e,t,i)}}zd.prototype.ValueTypeName="string",zd.prototype.ValueBufferType=Array,zd.prototype.DefaultInterpolation=B9,zd.prototype.InterpolantFactoryMethodLinear=void 0,zd.prototype.InterpolantFactoryMethodSmooth=void 0;class Pd extends pc{constructor(e,t,i,s){super(e,t,i,s)}}Pd.prototype.ValueTypeName="vector";class hp{constructor(e="",t=-1,i=[],s=2500){this.name=e,this.tracks=i,this.duration=t,this.blendMode=s,this.uuid=Wo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,s=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(iit(i[o]).scale(s));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=i.length;r!==o;++r)t.push(pc.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(e,t,i,s){const r=t.length,o=[];for(let a=0;a<r;a++){let c=[],l=[];c.push((a+r-1)%r,a,(a+1)%r),l.push(0,1,0);const u=Ene(c);c=UI(c,1,u),l=UI(l,1,u),!s&&0===c[0]&&(c.push(r),l.push(l[0])),o.push(new Ld(".morphTargetInfluences["+t[a].name+"]",c,l).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;Array.isArray(e)||(i=e.geometry&&e.geometry.animations||e.animations);for(let s=0;s<i.length;s++)if(i[s].name===t)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,c=e.length;a<c;a++){const l=e[a],u=l.name.match(r);if(u&&u.length>1){const d=u[1];let h=s[d];h||(s[d]=h=[]),h.push(l)}}const o=[];for(const a in s)o.push(this.CreateFromMorphTargetSequence(a,s[a],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,h,m,_,b){if(0!==m.length){const v=[],M=[];BI(m,v,M,_),0!==v.length&&b.push(new d(h,v,M))}},s=[],r=e.name||"default",o=e.fps||30,a=e.blendMode;let c=e.length||-1;const l=e.hierarchy||[];for(let d=0;d<l.length;d++){const h=l[d].keys;if(h&&0!==h.length)if(h[0].morphTargets){const m={};let _;for(_=0;_<h.length;_++)if(h[_].morphTargets)for(let b=0;b<h[_].morphTargets.length;b++)m[h[_].morphTargets[b]]=-1;for(const b in m){const v=[],M=[];for(let E=0;E!==h[_].morphTargets.length;++E){const T=h[_];v.push(T.time),M.push(T.morphTarget===b?1:0)}s.push(new Ld(".morphTargetInfluence["+b+"]",v,M))}c=m.length*o}else{const m=".bones["+t[d].name+"]";i(Pd,m+".position",h,"pos",s),i(Id,m+".quaternion",h,"rot",s),i(Pd,m+".scale",h,"scl",s)}}return 0===s.length?null:new this(r,c,s,a)}resetDuration(){let t=0;for(let i=0,s=this.tracks.length;i!==s;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function iit(n){if(void 0===n.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function nit(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ld;case"vector":case"vector2":case"vector3":case"vector4":return Pd;case"color":return Tne;case"quaternion":return Id;case"bool":case"boolean":return Ad;case"string":return zd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}(n.type);if(void 0===n.times){const t=[],i=[];BI(n.keys,t,i,"value"),n.times=t,n.values=i}return void 0!==e.parse?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const g0={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Sne{constructor(e,t,i){const s=this;let c,r=!1,o=0,a=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,!1===r&&void 0!==s.onStart&&s.onStart(u,o,a),r=!0},this.itemEnd=function(u){o++,void 0!==s.onProgress&&s.onProgress(u,o,a),o===a&&(r=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(u){void 0!==s.onError&&s.onError(u)},this.resolveURL=function(u){return c?c(u):u},this.setURLModifier=function(u){return c=u,this},this.addHandler=function(u,d){return l.push(u,d),this},this.removeHandler=function(u){const d=l.indexOf(u);return-1!==d&&l.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=l.length;d<h;d+=2){const m=l[d],_=l[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return _}return null}}}const sit=new Sne;let Yo=(()=>{class n{constructor(t){this.manager=void 0!==t?t:sit,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const s=this;return new Promise(function(r,o){s.load(t,r,i,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();const _0={};class rit extends Error{constructor(e,t){super(e),this.response=t}}class s3 extends Yo{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,s){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=g0.get(`file:${e}`);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==_0[e])return void _0[e].push({onLoad:t,onProgress:i,onError:s});_0[e]=[],_0[e].push({onLoad:t,onProgress:i,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,c=this.responseType;fetch(o).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;const u=_0[e],d=l.body.getReader(),h=l.headers.get("X-File-Size")||l.headers.get("Content-Length"),m=h?parseInt(h):0,_=0!==m;let b=0;const v=new ReadableStream({start(M){!function E(){d.read().then(({done:T,value:S})=>{if(T)M.close();else{b+=S.byteLength;const O=new ProgressEvent("progress",{lengthComputable:_,loaded:b,total:m});for(let F=0,N=u.length;F<N;F++){const z=u[F];z.onProgress&&z.onProgress(O)}M.enqueue(S),E()}},T=>{M.error(T)})}()}});return new Response(v)}throw new rit(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(c){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(u=>(new DOMParser).parseFromString(u,a));case"json":return l.json();default:if(""===a)return l.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(h);return l.arrayBuffer().then(_=>m.decode(_))}}}).then(l=>{g0.add(`file:${e}`,l);const u=_0[e];delete _0[e];for(let d=0,h=u.length;d<h;d++){const m=u[d];m.onLoad&&m.onLoad(l)}}).catch(l=>{const u=_0[e];if(void 0===u)throw this.manager.itemError(e),l;delete _0[e];for(let d=0,h=u.length;d<h;d++){const m=u[d];m.onError&&m.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}const Nd=new WeakMap;class PM extends Yo{constructor(e){super(e)}load(e,t,i,s){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=g0.get(`image:${e}`);if(void 0!==o){if(!0===o.complete)r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0);else{let d=Nd.get(o);void 0===d&&(d=[],Nd.set(o,d)),d.push({onLoad:t,onError:s})}return o}const a=G9("img");function c(){u(),t&&t(this);const d=Nd.get(this)||[];for(let h=0;h<d.length;h++){const m=d[h];m.onLoad&&m.onLoad(this)}Nd.delete(this),r.manager.itemEnd(e)}function l(d){u(),s&&s(d),g0.remove(`image:${e}`);const h=Nd.get(this)||[];for(let m=0;m<h.length;m++){const _=h[m];_.onError&&_.onError(d)}Nd.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){a.removeEventListener("load",c,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",c,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),g0.add(`image:${e}`,a),r.manager.itemStart(e),a.src=e,a}}class oit extends Yo{constructor(e){super(e)}load(e,t,i,s){const r=new hr,o=new PM(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a,r.needsUpdate=!0,void 0!==t&&t(r)},i,s),r}}class Y6 extends Fi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new jt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}const HI=new Gn,Ane=new K,Lne=new K;class jI{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.mapType=Zc,this.map=null,this.mapPass=null,this.matrix=new Gn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new np,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new ai(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Ane.setFromMatrixPosition(e.matrixWorld),t.position.copy(Ane),Lne.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Lne),t.updateMatrixWorld(),HI.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(HI),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(HI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class cit extends jI{constructor(){super(new I2(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=2*td*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(i!==t.fov||s!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=s,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Ine extends Y6{constructor(e,t,i=0,s=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Fi.DEFAULT_UP),this.updateMatrix(),this.target=new Fi,this.distance=i,this.angle=s,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new cit}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const zne=new Gn,pp=new K,GI=new K;class lit extends jI{constructor(){super(new I2(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new it(4,2),this._viewportCount=6,this._viewports=[new ai(2,1,1,1),new ai(0,1,1,1),new ai(3,1,1,1),new ai(1,1,1,1),new ai(3,0,1,1),new ai(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,s=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),pp.setFromMatrixPosition(e.matrixWorld),i.position.copy(pp),GI.copy(i.position),GI.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(GI),i.updateMatrixWorld(),s.makeTranslation(-pp.x,-pp.y,-pp.z),zne.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zne)}}class Pne extends Y6{constructor(e,t,i=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new lit}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class NM extends iI{constructor(e=-1,t=1,i=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,s,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-e,o=i+e,a=s+t,c=s-t;if(null!==this.view&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,o=r+l*this.view.width,a-=u*this.view.offsetY,c=a-u*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class uit extends jI{constructor(){super(new NM(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class $I extends Y6{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Fi.DEFAULT_UP),this.updateMatrix(),this.target=new Fi,this.shadow=new uit}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Nne extends Y6{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Z6{static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}const qI=new WeakMap;class _it extends Yo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,s){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=g0.get(`image-bitmap:${e}`);if(void 0!==o)return r.manager.itemStart(e),o.then?void o.then(l=>{if(!0!==qI.has(o))return t&&t(l),r.manager.itemEnd(e),l;s&&s(qI.get(o)),r.manager.itemError(e),r.manager.itemEnd(e)}):(setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o);const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader;const c=fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(l){return g0.add(`image-bitmap:${e}`,l),t&&t(l),r.manager.itemEnd(e),l}).catch(function(l){s&&s(l),qI.set(c,l),g0.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});g0.add(`image-bitmap:${e}`,c),r.manager.itemStart(e)}}class yit extends I2{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Vne{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const XI="\\[\\]\\.:\\/",xit=new RegExp("["+XI+"]","g"),YI="[^"+XI+"]",Eit="[^"+XI.replace("\\.","")+"]",Lit=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",YI)+/(WCOD+)?/.source.replace("WCOD",Eit)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",YI)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",YI)+"$"),Iit=["material","materials","bones","map"];class zit{constructor(e,t,i){const s=i||Xi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const s=this._bindings[this._targetGroup.nCachedObjects_];void 0!==s&&s.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let Xi=(()=>{class n{constructor(t,i,s){this.path=i,this.parsedPath=s||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,s){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,s):new n(t,i,s)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(xit,"")}static parseTrackName(t){const i=Lit.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const s={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},r=s.nodeName&&s.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const o=s.nodeName.substring(r+1);-1!==Iit.indexOf(o)&&(s.nodeName=s.nodeName.substring(0,r),s.objectName=o)}if(null===s.propertyName||0===s.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return s}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const s=t.skeleton.getBoneByName(i);if(void 0!==s)return s}if(t.children){const s=function(o){for(let a=0;a<o.length;a++){const c=o[a];if(c.name===i||c.uuid===i)return c;const l=s(c.children);if(l)return l}return null},r=s(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)t[i++]=s[r]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,s=i.objectName,r=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(s){let u=i.objectIndex;switch(s){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[s])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[s]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[r];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+r+" but it wasn't found.",t);let c=this.Versioning.None;this.targetObject=t,!0===t.isMaterial?c=this.Versioning.NeedsUpdate:!0===t.isObject3D&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=zit,n})();function ez(n,e,t,i){const s=function Vit(n){switch(n){case Zc:case Zee:return{byteLength:1,components:1};case O9:case Qee:case k9:return{byteLength:2,components:1};case JA:case eL:return{byteLength:2,components:4};case z4:case QA:case $o:return{byteLength:4,components:1};case Jee:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}(i);switch(t){case ete:return n*e;case tL:case Iv:return n*e/s.components*s.byteLength;case nte:case nL:return n*e*2/s.components*s.byteLength;case tte:return n*e*3/s.components*s.byteLength;case ho:case iL:return n*e*4/s.components*s.byteLength;case zv:case Pv:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Nv:case Dv:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case rL:case aL:return Math.max(n,16)*Math.max(e,8)/4;case sL:case oL:return Math.max(n,8)*Math.max(e,8)/2;case cL:case lL:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case uL:case dL:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case fL:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case hL:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case pL:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case mL:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case gL:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case _L:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case yL:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case vL:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case ML:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case CL:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case bL:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case xL:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case EL:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Rv:case wL:case TL:return Math.ceil(n/4)*Math.ceil(e/4)*16;case ite:case SL:return Math.ceil(n/4)*Math.ceil(e/4)*8;case AL:case LL:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function e1e(){let n=null,e=!1,t=null,i=null;function s(r,o){t(r,o),i=n.requestAnimationFrame(s)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(s),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function Uit(n){const e=new WeakMap;return{get:function s(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)},remove:function r(a){a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);c&&(n.deleteBuffer(c.buffer),e.delete(a))},update:function o(a,c){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);return void((!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version}))}const l=e.get(a);if(void 0===l)e.set(a,function t(a,c){const l=a.array,u=a.usage,d=l.byteLength,h=n.createBuffer();let m;if(n.bindBuffer(c,h),n.bufferData(c,l,u),a.onUploadCallback(),l instanceof Float32Array)m=n.FLOAT;else if(typeof Float16Array<"u"&&l instanceof Float16Array)m=n.HALF_FLOAT;else if(l instanceof Uint16Array)m=a.isFloat16BufferAttribute?n.HALF_FLOAT:n.UNSIGNED_SHORT;else if(l instanceof Int16Array)m=n.SHORT;else if(l instanceof Uint32Array)m=n.UNSIGNED_INT;else if(l instanceof Int32Array)m=n.INT;else if(l instanceof Int8Array)m=n.BYTE;else if(l instanceof Uint8Array)m=n.UNSIGNED_BYTE;else{if(!(l instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+l);m=n.UNSIGNED_BYTE}return{buffer:h,type:m,bytesPerElement:l.BYTES_PER_ELEMENT,version:a.version,size:d}}(a,c));else if(l.version<a.version){if(l.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function i(a,c,l){const u=c.array,d=c.updateRanges;if(n.bindBuffer(l,a),0===d.length)n.bufferSubData(l,0,u);else{d.sort((m,_)=>m.start-_.start);let h=0;for(let m=1;m<d.length;m++){const _=d[h],b=d[m];b.start<=_.start+_.count+1?_.count=Math.max(_.count,b.start+b.count-_.start):(++h,d[h]=b)}d.length=h+1;for(let m=0,_=d.length;m<_;m++){const b=d[m];n.bufferSubData(l,b.start*u.BYTES_PER_ELEMENT,u,b.start,b.count)}c.clearUpdateRanges()}c.onUploadCallback()})(l.buffer,a,c),l.version=a.version}}}}Xi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Xi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Xi.prototype.GetterByBindingType=[Xi.prototype._getValue_direct,Xi.prototype._getValue_array,Xi.prototype._getValue_arrayElement,Xi.prototype._getValue_toArray],Xi.prototype.SetterByBindingTypeAndVersioning=[[Xi.prototype._setValue_direct,Xi.prototype._setValue_direct_setNeedsUpdate,Xi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xi.prototype._setValue_array,Xi.prototype._setValue_array_setNeedsUpdate,Xi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xi.prototype._setValue_arrayElement,Xi.prototype._setValue_arrayElement_setNeedsUpdate,Xi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xi.prototype._setValue_fromArray,Xi.prototype._setValue_fromArray_setNeedsUpdate,Xi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1),typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"178"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="178");const S1={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Gt={common:{diffuse:{value:new jt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new C1},alphaMap:{value:null},alphaMapTransform:{value:new C1},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new C1}},envmap:{envMap:{value:null},envMapRotation:{value:new C1},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new C1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new C1}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new C1},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new C1},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new C1},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new C1}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new C1}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new C1}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new jt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new C1},alphaTest:{value:0},uvTransform:{value:new C1}},sprite:{diffuse:{value:new jt(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new C1},alphaMap:{value:null},alphaMapTransform:{value:new C1},alphaTest:{value:0}}},r3={basic:{uniforms:Gr([Gt.common,Gt.specularmap,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.fog]),vertexShader:S1.meshbasic_vert,fragmentShader:S1.meshbasic_frag},lambert:{uniforms:Gr([Gt.common,Gt.specularmap,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.fog,Gt.lights,{emissive:{value:new jt(0)}}]),vertexShader:S1.meshlambert_vert,fragmentShader:S1.meshlambert_frag},phong:{uniforms:Gr([Gt.common,Gt.specularmap,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.fog,Gt.lights,{emissive:{value:new jt(0)},specular:{value:new jt(1118481)},shininess:{value:30}}]),vertexShader:S1.meshphong_vert,fragmentShader:S1.meshphong_frag},standard:{uniforms:Gr([Gt.common,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.roughnessmap,Gt.metalnessmap,Gt.fog,Gt.lights,{emissive:{value:new jt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:S1.meshphysical_vert,fragmentShader:S1.meshphysical_frag},toon:{uniforms:Gr([Gt.common,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.gradientmap,Gt.fog,Gt.lights,{emissive:{value:new jt(0)}}]),vertexShader:S1.meshtoon_vert,fragmentShader:S1.meshtoon_frag},matcap:{uniforms:Gr([Gt.common,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.fog,{matcap:{value:null}}]),vertexShader:S1.meshmatcap_vert,fragmentShader:S1.meshmatcap_frag},points:{uniforms:Gr([Gt.points,Gt.fog]),vertexShader:S1.points_vert,fragmentShader:S1.points_frag},dashed:{uniforms:Gr([Gt.common,Gt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:S1.linedashed_vert,fragmentShader:S1.linedashed_frag},depth:{uniforms:Gr([Gt.common,Gt.displacementmap]),vertexShader:S1.depth_vert,fragmentShader:S1.depth_frag},normal:{uniforms:Gr([Gt.common,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,{opacity:{value:1}}]),vertexShader:S1.meshnormal_vert,fragmentShader:S1.meshnormal_frag},sprite:{uniforms:Gr([Gt.sprite,Gt.fog]),vertexShader:S1.sprite_vert,fragmentShader:S1.sprite_frag},background:{uniforms:{uvTransform:{value:new C1},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:S1.background_vert,fragmentShader:S1.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new C1}},vertexShader:S1.backgroundCube_vert,fragmentShader:S1.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:S1.cube_vert,fragmentShader:S1.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:S1.equirect_vert,fragmentShader:S1.equirect_frag},distanceRGBA:{uniforms:Gr([Gt.common,Gt.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:S1.distanceRGBA_vert,fragmentShader:S1.distanceRGBA_frag},shadow:{uniforms:Gr([Gt.lights,Gt.fog,{color:{value:new jt(0)},opacity:{value:1}}]),vertexShader:S1.shadow_vert,fragmentShader:S1.shadow_frag}};r3.physical={uniforms:Gr([r3.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new C1},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new C1},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new C1},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new C1},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new C1},sheen:{value:0},sheenColor:{value:new jt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new C1},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new C1},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new C1},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new C1},attenuationDistance:{value:0},attenuationColor:{value:new jt(0)},specularColor:{value:new jt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new C1},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new C1},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new C1}}]),vertexShader:S1.meshphysical_vert,fragmentShader:S1.meshphysical_frag};const BM={r:0,b:0,g:0},s8=new u0,U2t=new Gn;function B2t(n,e,t,i,s,r,o){const a=new jt(0);let l,u,c=!0===r?0:1,d=null,h=0,m=null;function _(T){let S=!0===T.isScene?T.background:null;return S&&S.isTexture&&(S=(T.backgroundBlurriness>0?t:e).get(S)),S}function M(T,S){T.getRGB(BM,Ite(n)),i.buffers.color.setClear(BM.r,BM.g,BM.b,S,o)}return{getClearColor:function(){return a},setClearColor:function(T,S=1){a.set(T),c=S,M(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(T){c=T,M(a,c)},render:function b(T){let S=!1;const O=_(T);null===O?M(a,c):O&&O.isColor&&(M(O,1),S=!0);const F=n.xr.getEnvironmentBlendMode();"additive"===F?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===F&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||S)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))},addToRenderList:function v(T,S){const O=_(S);O&&(O.isCubeTexture||O.mapping===N9)?(void 0===u&&(u=new e2(new gd(1,1,1),new Qc({name:"BackgroundCubeMaterial",uniforms:_d(r3.backgroundCube.uniforms),vertexShader:r3.backgroundCube.vertexShader,fragmentShader:r3.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(F,N,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(u)),s8.copy(S.backgroundRotation),s8.x*=-1,s8.y*=-1,s8.z*=-1,O.isCubeTexture&&!1===O.isRenderTargetTexture&&(s8.y*=-1,s8.z*=-1),u.material.uniforms.envMap.value=O,u.material.uniforms.flipEnvMap.value=O.isCubeTexture&&!1===O.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(U2t.makeRotationFromEuler(s8)),u.material.toneMapped=Y1.getTransfer(O.colorSpace)!==Ti,(d!==O||h!==O.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=O,h=O.version,m=n.toneMapping),u.layers.enableAll(),T.unshift(u,u.geometry,u.material,0,0,null)):O&&O.isTexture&&(void 0===l&&(l=new e2(new dp(2,2),new Qc({name:"BackgroundMaterial",uniforms:_d(r3.background.uniforms),vertexShader:r3.background.vertexShader,fragmentShader:r3.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(l)),l.material.uniforms.t2D.value=O,l.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,l.material.toneMapped=Y1.getTransfer(O.colorSpace)!==Ti,!0===O.matrixAutoUpdate&&O.updateMatrix(),l.material.uniforms.uvTransform.value.copy(O.matrix),(d!==O||h!==O.version||m!==n.toneMapping)&&(l.material.needsUpdate=!0,d=O,h=O.version,m=n.toneMapping),l.layers.enableAll(),T.unshift(l,l.geometry,l.material,0,0,null))},dispose:function E(){void 0!==u&&(u.geometry.dispose(),u.material.dispose(),u=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function H2t(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=h(null);let r=s,o=!1;function l(I){return n.bindVertexArray(I)}function u(I){return n.deleteVertexArray(I)}function h(I){const k=[],G=[],U=[];for(let me=0;me<t;me++)k[me]=0,G[me]=0,U[me]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:G,attributeDivisors:U,object:I,attributes:{},index:null}}function b(){const I=r.newAttributes;for(let k=0,G=I.length;k<G;k++)I[k]=0}function v(I){M(I,0)}function M(I,k){const U=r.enabledAttributes,me=r.attributeDivisors;r.newAttributes[I]=1,0===U[I]&&(n.enableVertexAttribArray(I),U[I]=1),me[I]!==k&&(n.vertexAttribDivisor(I,k),me[I]=k)}function E(){const I=r.newAttributes,k=r.enabledAttributes;for(let G=0,U=k.length;G<U;G++)k[G]!==I[G]&&(n.disableVertexAttribArray(G),k[G]=0)}function T(I,k,G,U,me,ze,_e){!0===_e?n.vertexAttribIPointer(I,k,G,me,ze):n.vertexAttribPointer(I,k,G,U,me,ze)}function z(){L(),o=!0,r!==s&&(r=s,l(r.object))}function L(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:function a(I,k,G,U,me){let ze=!1;const _e=function d(I,k,G){const U=!0===G.wireframe;let me=i[I.id];void 0===me&&(me={},i[I.id]=me);let ze=me[k.id];void 0===ze&&(ze={},me[k.id]=ze);let _e=ze[U];return void 0===_e&&(_e=h(function c(){return n.createVertexArray()}()),ze[U]=_e),_e}(U,G,k);r!==_e&&(r=_e,l(r.object)),ze=function m(I,k,G,U){const me=r.attributes,ze=k.attributes;let _e=0;const Xe=G.getAttributes();for(const we in Xe)if(Xe[we].location>=0){const Nt=me[we];let Xt=ze[we];if(void 0===Xt&&("instanceMatrix"===we&&I.instanceMatrix&&(Xt=I.instanceMatrix),"instanceColor"===we&&I.instanceColor&&(Xt=I.instanceColor)),void 0===Nt||Nt.attribute!==Xt||Xt&&Nt.data!==Xt.data)return!0;_e++}return r.attributesNum!==_e||r.index!==U}(I,U,G,me),ze&&function _(I,k,G,U){const me={},ze=k.attributes;let _e=0;const Xe=G.getAttributes();for(const we in Xe)if(Xe[we].location>=0){let Nt=ze[we];void 0===Nt&&("instanceMatrix"===we&&I.instanceMatrix&&(Nt=I.instanceMatrix),"instanceColor"===we&&I.instanceColor&&(Nt=I.instanceColor));const Xt={};Xt.attribute=Nt,Nt&&Nt.data&&(Xt.data=Nt.data),me[we]=Xt,_e++}r.attributes=me,r.attributesNum=_e,r.index=U}(I,U,G,me),null!==me&&e.update(me,n.ELEMENT_ARRAY_BUFFER),(ze||o)&&(o=!1,function S(I,k,G,U){b();const me=U.attributes,ze=G.getAttributes(),_e=k.defaultAttributeValues;for(const Xe in ze){const we=ze[Xe];if(we.location>=0){let vt=me[Xe];if(void 0===vt&&("instanceMatrix"===Xe&&I.instanceMatrix&&(vt=I.instanceMatrix),"instanceColor"===Xe&&I.instanceColor&&(vt=I.instanceColor)),void 0!==vt){const Nt=vt.normalized,Xt=vt.itemSize,Ln=e.get(vt);if(void 0===Ln)continue;const _n=Ln.buffer,De=Ln.type,at=Ln.bytesPerElement,Jt=De===n.INT||De===n.UNSIGNED_INT||vt.gpuType===QA;if(vt.isInterleavedBufferAttribute){const Et=vt.data,Yt=Et.stride,Yn=vt.offset;if(Et.isInstancedInterleavedBuffer){for(let sn=0;sn<we.locationSize;sn++)M(we.location+sn,Et.meshPerAttribute);!0!==I.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=Et.meshPerAttribute*Et.count)}else for(let sn=0;sn<we.locationSize;sn++)v(we.location+sn);n.bindBuffer(n.ARRAY_BUFFER,_n);for(let sn=0;sn<we.locationSize;sn++)T(we.location+sn,Xt/we.locationSize,De,Nt,Yt*at,(Yn+Xt/we.locationSize*sn)*at,Jt)}else{if(vt.isInstancedBufferAttribute){for(let Et=0;Et<we.locationSize;Et++)M(we.location+Et,vt.meshPerAttribute);!0!==I.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=vt.meshPerAttribute*vt.count)}else for(let Et=0;Et<we.locationSize;Et++)v(we.location+Et);n.bindBuffer(n.ARRAY_BUFFER,_n);for(let Et=0;Et<we.locationSize;Et++)T(we.location+Et,Xt/we.locationSize,De,Nt,Xt*at,Xt/we.locationSize*Et*at,Jt)}}else if(void 0!==_e){const Nt=_e[Xe];if(void 0!==Nt)switch(Nt.length){case 2:n.vertexAttrib2fv(we.location,Nt);break;case 3:n.vertexAttrib3fv(we.location,Nt);break;case 4:n.vertexAttrib4fv(we.location,Nt);break;default:n.vertexAttrib1fv(we.location,Nt)}}}}E()}(I,k,G,U),null!==me&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(me).buffer))},reset:z,resetDefaultState:L,dispose:function O(){z();for(const I in i){const k=i[I];for(const G in k){const U=k[G];for(const me in U)u(U[me].object),delete U[me];delete k[G]}delete i[I]}},releaseStatesOfGeometry:function F(I){if(void 0===i[I.id])return;const k=i[I.id];for(const G in k){const U=k[G];for(const me in U)u(U[me].object),delete U[me];delete k[G]}delete i[I.id]},releaseStatesOfProgram:function N(I){for(const k in i){const G=i[k];if(void 0===G[I.id])continue;const U=G[I.id];for(const me in U)u(U[me].object),delete U[me];delete G[I.id]}},initAttributes:b,enableAttribute:v,disableUnusedAttributes:E}}function j2t(n,e,t){let i;function o(l,u,d){0!==d&&(n.drawArraysInstanced(i,l,u,d),t.update(u,i,d))}this.setMode=function s(l){i=l},this.render=function r(l,u){n.drawArrays(i,l,u),t.update(u,i,1)},this.renderInstances=o,this.renderMultiDraw=function a(l,u,d){if(0===d)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,l,0,u,0,d);let m=0;for(let _=0;_<d;_++)m+=u[_];t.update(m,i,1)},this.renderMultiDrawInstances=function c(l,u,d,h){if(0===d)return;const m=e.get("WEBGL_multi_draw");if(null===m)for(let _=0;_<l.length;_++)o(l[_],u[_],h[_]);else{m.multiDrawArraysInstancedWEBGL(i,l,0,u,0,h,0,d);let _=0;for(let b=0;b<d;b++)_+=u[b]*h[b];t.update(_,i,1)}}}function G2t(n,e,t,i){let s;function c(N){if("highp"===N){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return"mediump"===N&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let l=void 0!==t.precision?t.precision:"highp";const u=c(l);u!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",u,"instead."),l=u);const d=!0===t.logarithmicDepthBuffer,h=!0===t.reverseDepthBuffer&&e.has("EXT_clip_control"),m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function r(){if(void 0!==s)return s;if(!0===e.has("EXT_texture_filter_anisotropic")){const N=e.get("EXT_texture_filter_anisotropic");s=n.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s},getMaxPrecision:c,textureFormatReadable:function o(N){return!(N!==ho&&i.convert(N)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function a(N){const z=N===k9&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==Zc&&i.convert(N)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==$o&&!z)},precision:l,logarithmicDepthBuffer:d,reverseDepthBuffer:h,maxTextures:m,maxVertexTextures:_,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:_>0,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function $2t(n){const e=this;let t=null,i=0,s=!1,r=!1;const o=new j6,a=new C1,c={value:null,needsUpdate:!1};function u(d,h,m,_){const b=null!==d?d.length:0;let v=null;if(0!==b){if(v=c.value,!0!==_||null===v){const M=m+4*b,E=h.matrixWorldInverse;a.getNormalMatrix(E),(null===v||v.length<M)&&(v=new Float32Array(M));for(let T=0,S=m;T!==b;++T,S+=4)o.copy(d[T]).applyMatrix4(E,a),o.normal.toArray(v,S),v[S+3]=o.constant}c.value=v,c.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,v}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const m=0!==d.length||h||0!==i||s;return s=h,i=d.length,m},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(d,h){t=u(d,h,0)},this.setState=function(d,h,m){const _=d.clippingPlanes,b=d.clipIntersection,v=d.clipShadows,M=n.get(d);if(!s||null===_||0===_.length||r&&!v)r?u(null):function l(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const E=r?0:i,T=4*E;let S=M.clippingState||null;c.value=S,S=u(_,h,T,m);for(let O=0;O!==T;++O)S[O]=t[O];M.clippingState=S,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=E}}}function W2t(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=I4:304===a&&(o.mapping=D6),o}function s(o){const a=o.target;a.removeEventListener("dispose",s);const c=e.get(a);void 0!==c&&(e.delete(a),c.dispose())}return{get:function i(o){if(o&&o.isTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const c=o.image;if(c&&c.height>0){const l=new jnt(c.height);return l.fromEquirectangularTexture(n,o),e.set(o,l),o.addEventListener("dispose",s),t(l.texture,o.mapping)}return null}}}return o},dispose:function r(){e=new WeakMap}}}const t1e=[.125,.215,.35,.446,.526,.582],tz=new NM,n1e=new jt;let nz=null,iz=0,sz=0,rz=!1;const o8=(1+Math.sqrt(5))/2,Rd=1/o8,i1e=[new K(-o8,Rd,0),new K(o8,Rd,0),new K(-Rd,0,o8),new K(Rd,0,o8),new K(0,o8,-Rd),new K(0,o8,Rd),new K(-1,1,-1),new K(1,1,-1),new K(-1,1,1),new K(1,1,1)],q2t=new K;class s1e{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,s=100,r={}){const{size:o=256,position:a=q2t}=r;nz=this._renderer.getRenderTarget(),iz=this._renderer.getActiveCubeFace(),sz=this._renderer.getActiveMipmapLevel(),rz=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,i,s,c,a),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=a1e(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=o1e(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(nz,iz,sz),this._renderer.xr.enabled=rz,e.scissorTest=!1,HM(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===I4||e.mapping===D6?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),nz=this._renderer.getRenderTarget(),iz=this._renderer.getActiveCubeFace(),sz=this._renderer.getActiveMipmapLevel(),rz=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Us,minFilter:Us,generateMipmaps:!1,type:k9,format:ho,colorSpace:Br,depthBuffer:!1},s=r1e(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=r1e(e,t,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function K2t(n){const e=[],t=[],i=[];let s=n;const r=n-4+1+t1e.length;for(let o=0;o<r;o++){const a=Math.pow(2,s);t.push(a);let c=1/a;o>n-4?c=t1e[o-n+4-1]:0===o&&(c=0),i.push(c);const l=1/(a-2),u=-l,d=1+l,h=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,_=6,b=3,v=2,M=1,E=new Float32Array(b*_*m),T=new Float32Array(v*_*m),S=new Float32Array(M*_*m);for(let F=0;F<m;F++){const N=F%3*2/3-1,z=F>2?0:-1;E.set([N,z,0,N+2/3,z,0,N+2/3,z+1,0,N,z,0,N+2/3,z+1,0,N,z+1,0],b*_*F),T.set(h,v*_*F),S.set([F,F,F,F,F,F],M*_*F)}const O=new b1;O.setAttribute("position",new yi(E,b)),O.setAttribute("uv",new yi(T,v)),O.setAttribute("faceIndex",new yi(S,M)),e.push(O),s>4&&s--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(r)),this._blurMaterial=function X2t(n,e,t){const i=new Float32Array(20),s=new K(0,1,0);return new Qc({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(r,e,t)}return s}_compileMaterial(e){const t=new e2(this._lodPlanes[0],e);this._renderer.compile(t,tz)}_sceneToCubeUV(e,t,i,s,r){const c=new I2(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,m=d.toneMapping;d.getClearColor(n1e),d.toneMapping=L4,d.autoClear=!1;const _=new Sa({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),b=new e2(new gd,_);let v=!1;const M=e.background;M?M.isColor&&(_.color.copy(M),e.background=null,v=!0):(_.color.copy(n1e),v=!0);for(let E=0;E<6;E++){const T=E%3;0===T?(c.up.set(0,l[E],0),c.position.set(r.x,r.y,r.z),c.lookAt(r.x+u[E],r.y,r.z)):1===T?(c.up.set(0,0,l[E]),c.position.set(r.x,r.y,r.z),c.lookAt(r.x,r.y+u[E],r.z)):(c.up.set(0,l[E],0),c.position.set(r.x,r.y,r.z),c.lookAt(r.x,r.y,r.z+u[E]));const S=this._cubeSize;HM(s,T*S,E>2?S:0,S,S),d.setRenderTarget(s),v&&d.render(b,c),d.render(e,c)}b.geometry.dispose(),b.material.dispose(),d.toneMapping=m,d.autoClear=h,e.background=M}_textureToCubeUV(e,t){const i=this._renderer,s=e.mapping===I4||e.mapping===D6;s?(null===this._cubemapMaterial&&(this._cubemapMaterial=a1e()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=o1e());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new e2(this._lodPlanes[0],r);r.uniforms.envMap.value=e;const c=this._cubeSize;HM(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(o,tz)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,o,i1e[(s-r-1)%i1e.length])}t.autoClear=i}_blur(e,t,i,s,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,s,"latitudinal",r),this._halfBlur(o,e,i,i,s,"longitudinal",r)}_halfBlur(e,t,i,s,r,o,a){const c=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new e2(this._lodPlanes[s],l),h=l.uniforms,m=this._sizeLods[i]-1,_=isFinite(r)?Math.PI/(2*m):2*Math.PI/39,b=r/_,v=isFinite(r)?1+Math.floor(3*b):20;v>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${v} samples when the maximum is set to 20`);const M=[];let E=0;for(let N=0;N<20;++N){const z=N/b,L=Math.exp(-z*z/2);M.push(L),0===N?E+=L:N<v&&(E+=2*L)}for(let N=0;N<M.length;N++)M[N]=M[N]/E;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=M,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a);const{_lodMax:T}=this;h.dTheta.value=_,h.mipInt.value=T-i;const S=this._sizeLods[s];HM(t,3*S*(s>T-4?s-T+4:0),4*(this._cubeSize-S),3*S,2*S),c.setRenderTarget(t),c.render(d,tz)}}function r1e(n,e,t){const i=new a0(n,e,t);return i.texture.mapping=N9,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function HM(n,e,t,i,s){n.viewport.set(e,t,i,s),n.scissor.set(e,t,i,s)}function o1e(){return new Qc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function a1e(){return new Qc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Y2t(n){let e=new WeakMap,t=null;function r(a){const c=a.target;c.removeEventListener("dispose",r);const l=e.get(c);void 0!==l&&(e.delete(c),l.dispose())}return{get:function i(a){if(a&&a.isTexture){const c=a.mapping,l=303===c||304===c,u=c===I4||c===D6;if(l||u){let d=e.get(a);if(a.isRenderTargetTexture&&a.pmremVersion!==(void 0!==d?d.texture.pmremVersion:0))return null===t&&(t=new s1e(n)),d=l?t.fromEquirectangular(a,d):t.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(void 0!==d)return d.texture;{const m=a.image;return l&&m&&m.height>0||u&&m&&function s(a){let c=0;for(let u=0;u<6;u++)void 0!==a[u]&&c++;return 6===c}(m)?(null===t&&(t=new s1e(n)),d=l?t.fromEquirectangular(a):t.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",r),d.texture):null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function Z2t(n){const e={};function t(i){if(void 0!==e[i])return e[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return e[i]=s,s}return{has:function(i){return null!==t(i)},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const s=t(i);return null===s&&sd("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function Q2t(n,e,t,i){const s={},r=new WeakMap;function o(d){const h=d.target;null!==h.index&&e.remove(h.index);for(const _ in h.attributes)e.remove(h.attributes[_]);h.removeEventListener("dispose",o),delete s[h.id];const m=r.get(h);m&&(e.remove(m),r.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function l(d){const h=[],m=d.index,_=d.attributes.position;let b=0;if(null!==m){const E=m.array;b=m.version;for(let T=0,S=E.length;T<S;T+=3){const O=E[T+0],F=E[T+1],N=E[T+2];h.push(O,F,F,N,N,O)}}else{if(void 0===_)return;b=_.version;for(let T=0,S=_.array.length/3-1;T<S;T+=3){const O=T+0,F=T+1,N=T+2;h.push(O,F,F,N,N,O)}}const v=new(dte(h)?Tte:wte)(h,1);v.version=b;const M=r.get(d);M&&e.remove(M),r.set(d,v)}return{get:function a(d,h){return!0===s[h.id]||(h.addEventListener("dispose",o),s[h.id]=!0,t.memory.geometries++),h},update:function c(d){const h=d.attributes;for(const m in h)e.update(h[m],n.ARRAY_BUFFER)},getWireframeAttribute:function u(d){const h=r.get(d);if(h){const m=d.index;null!==m&&h.version<m.version&&l(d)}else l(d);return r.get(d)}}}function J2t(n,e,t){let i,r,o;function l(h,m,_){0!==_&&(n.drawElementsInstanced(i,m,r,h*o,_),t.update(m,i,_))}this.setMode=function s(h){i=h},this.setIndex=function a(h){r=h.type,o=h.bytesPerElement},this.render=function c(h,m){n.drawElements(i,m,r,h*o),t.update(m,i,1)},this.renderInstances=l,this.renderMultiDraw=function u(h,m,_){if(0===_)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,m,0,r,h,0,_);let v=0;for(let M=0;M<_;M++)v+=m[M];t.update(v,i,1)},this.renderMultiDrawInstances=function d(h,m,_,b){if(0===_)return;const v=e.get("WEBGL_multi_draw");if(null===v)for(let M=0;M<h.length;M++)l(h[M]/o,m[M],b[M]);else{v.multiDrawElementsInstancedWEBGL(i,m,0,r,h,0,b,0,_);let M=0;for(let E=0;E<_;E++)M+=m[E]*b[E];t.update(M,i,1)}}}function ert(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(r,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(r/3);break;case n.LINES:t.lines+=a*(r/2);break;case n.LINE_STRIP:t.lines+=a*(r-1);break;case n.LINE_LOOP:t.lines+=a*r;break;case n.POINTS:t.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function trt(n,e,t){const i=new WeakMap,s=new ai;return{update:function r(o,a,c){const l=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=void 0!==u?u.length:0;let h=i.get(a);if(void 0===h||h.count!==d){let L=function(){N.dispose(),i.delete(a),a.removeEventListener("dispose",L)};void 0!==h&&h.texture.dispose();const m=void 0!==a.morphAttributes.position,_=void 0!==a.morphAttributes.normal,b=void 0!==a.morphAttributes.color,v=a.morphAttributes.position||[],M=a.morphAttributes.normal||[],E=a.morphAttributes.color||[];let T=0;!0===m&&(T=1),!0===_&&(T=2),!0===b&&(T=3);let S=a.attributes.position.count*T,O=1;S>e.maxTextureSize&&(O=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const F=new Float32Array(S*O*4*d),N=new FL(F,S,O,d);N.type=$o,N.needsUpdate=!0;const z=4*T;for(let I=0;I<d;I++){const k=v[I],G=M[I],U=E[I],me=S*O*4*I;for(let ze=0;ze<k.count;ze++){const _e=ze*z;!0===m&&(s.fromBufferAttribute(k,ze),F[me+_e+0]=s.x,F[me+_e+1]=s.y,F[me+_e+2]=s.z,F[me+_e+3]=0),!0===_&&(s.fromBufferAttribute(G,ze),F[me+_e+4]=s.x,F[me+_e+5]=s.y,F[me+_e+6]=s.z,F[me+_e+7]=0),!0===b&&(s.fromBufferAttribute(U,ze),F[me+_e+8]=s.x,F[me+_e+9]=s.y,F[me+_e+10]=s.z,F[me+_e+11]=4===U.itemSize?s.w:1)}}h={count:d,texture:N,size:new it(S,O)},i.set(a,h),a.addEventListener("dispose",L)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)c.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let m=0;for(let b=0;b<l.length;b++)m+=l[b];const _=a.morphTargetsRelative?1:1-m;c.getUniforms().setValue(n,"morphTargetBaseInfluence",_),c.getUniforms().setValue(n,"morphTargetInfluences",l)}c.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),c.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}}}function nrt(n,e,t,i){let s=new WeakMap;function a(c){const l=c.target;l.removeEventListener("dispose",a),t.remove(l.instanceMatrix),null!==l.instanceColor&&t.remove(l.instanceColor)}return{update:function r(c){const l=i.render.frame,d=e.get(c,c.geometry);if(s.get(d)!==l&&(e.update(d),s.set(d,l)),c.isInstancedMesh&&(!1===c.hasEventListener("dispose",a)&&c.addEventListener("dispose",a),s.get(c)!==l&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),null!==c.instanceColor&&t.update(c.instanceColor,n.ARRAY_BUFFER),s.set(c,l))),c.isSkinnedMesh){const h=c.skeleton;s.get(h)!==l&&(h.update(),s.set(h,l))}return d},dispose:function o(){s=new WeakMap}}}const c1e=new hr,l1e=new rne(1,1),u1e=new FL,d1e=new VL,f1e=new nM,h1e=[],p1e=[],m1e=new Float32Array(16),g1e=new Float32Array(9),_1e=new Float32Array(4);function Od(n,e,t){const i=n[0];if(i<=0||i>0)return n;const s=e*t;let r=h1e[s];if(void 0===r&&(r=new Float32Array(s),h1e[s]=r),0!==e){i.toArray(r,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(r,a)}return r}function h2(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function p2(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function jM(n,e){let t=p1e[e];void 0===t&&(t=new Int32Array(e),p1e[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function irt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function srt(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(h2(t,e))return;n.uniform2fv(this.addr,e),p2(t,e)}}function rrt(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(h2(t,e))return;n.uniform3fv(this.addr,e),p2(t,e)}}function ort(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(h2(t,e))return;n.uniform4fv(this.addr,e),p2(t,e)}}function art(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(h2(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),p2(t,e)}else{if(h2(t,i))return;_1e.set(i),n.uniformMatrix2fv(this.addr,!1,_1e),p2(t,i)}}function crt(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(h2(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),p2(t,e)}else{if(h2(t,i))return;g1e.set(i),n.uniformMatrix3fv(this.addr,!1,g1e),p2(t,i)}}function lrt(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(h2(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),p2(t,e)}else{if(h2(t,i))return;m1e.set(i),n.uniformMatrix4fv(this.addr,!1,m1e),p2(t,i)}}function urt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function drt(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(h2(t,e))return;n.uniform2iv(this.addr,e),p2(t,e)}}function frt(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(h2(t,e))return;n.uniform3iv(this.addr,e),p2(t,e)}}function hrt(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(h2(t,e))return;n.uniform4iv(this.addr,e),p2(t,e)}}function prt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function mrt(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(h2(t,e))return;n.uniform2uiv(this.addr,e),p2(t,e)}}function grt(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(h2(t,e))return;n.uniform3uiv(this.addr,e),p2(t,e)}}function _rt(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(h2(t,e))return;n.uniform4uiv(this.addr,e),p2(t,e)}}function yrt(n,e,t){const i=this.cache,s=t.allocateTextureUnit();let r;i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),this.type===n.SAMPLER_2D_SHADOW?(l1e.compareFunction=515,r=l1e):r=c1e,t.setTexture2D(e||r,s)}function vrt(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture3D(e||d1e,s)}function Mrt(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTextureCube(e||f1e,s)}function Crt(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture2DArray(e||u1e,s)}function xrt(n,e){n.uniform1fv(this.addr,e)}function Ert(n,e){const t=Od(e,this.size,2);n.uniform2fv(this.addr,t)}function wrt(n,e){const t=Od(e,this.size,3);n.uniform3fv(this.addr,t)}function Trt(n,e){const t=Od(e,this.size,4);n.uniform4fv(this.addr,t)}function Srt(n,e){const t=Od(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Art(n,e){const t=Od(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Lrt(n,e){const t=Od(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Irt(n,e){n.uniform1iv(this.addr,e)}function zrt(n,e){n.uniform2iv(this.addr,e)}function Prt(n,e){n.uniform3iv(this.addr,e)}function Nrt(n,e){n.uniform4iv(this.addr,e)}function Drt(n,e){n.uniform1uiv(this.addr,e)}function Rrt(n,e){n.uniform2uiv(this.addr,e)}function Ort(n,e){n.uniform3uiv(this.addr,e)}function krt(n,e){n.uniform4uiv(this.addr,e)}function Frt(n,e,t){const i=this.cache,s=e.length,r=jM(t,s);h2(i,r)||(n.uniform1iv(this.addr,r),p2(i,r));for(let o=0;o!==s;++o)t.setTexture2D(e[o]||c1e,r[o])}function Vrt(n,e,t){const i=this.cache,s=e.length,r=jM(t,s);h2(i,r)||(n.uniform1iv(this.addr,r),p2(i,r));for(let o=0;o!==s;++o)t.setTexture3D(e[o]||d1e,r[o])}function Urt(n,e,t){const i=this.cache,s=e.length,r=jM(t,s);h2(i,r)||(n.uniform1iv(this.addr,r),p2(i,r));for(let o=0;o!==s;++o)t.setTextureCube(e[o]||f1e,r[o])}function Brt(n,e,t){const i=this.cache,s=e.length,r=jM(t,s);h2(i,r)||(n.uniform1iv(this.addr,r),p2(i,r));for(let o=0;o!==s;++o)t.setTexture2DArray(e[o]||u1e,r[o])}class jrt{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=function brt(n){switch(n){case 5126:return irt;case 35664:return srt;case 35665:return rrt;case 35666:return ort;case 35674:return art;case 35675:return crt;case 35676:return lrt;case 5124:case 35670:return urt;case 35667:case 35671:return drt;case 35668:case 35672:return frt;case 35669:case 35673:return hrt;case 5125:return prt;case 36294:return mrt;case 36295:return grt;case 36296:return _rt;case 35678:case 36198:case 36298:case 36306:case 35682:return yrt;case 35679:case 36299:case 36307:return vrt;case 35680:case 36300:case 36308:case 36293:return Mrt;case 36289:case 36303:case 36311:case 36292:return Crt}}(t.type)}}class Grt{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function Hrt(n){switch(n){case 5126:return xrt;case 35664:return Ert;case 35665:return wrt;case 35666:return Trt;case 35674:return Srt;case 35675:return Art;case 35676:return Lrt;case 5124:case 35670:return Irt;case 35667:case 35671:return zrt;case 35668:case 35672:return Prt;case 35669:case 35673:return Nrt;case 5125:return Drt;case 36294:return Rrt;case 36295:return Ort;case 36296:return krt;case 35678:case 36198:case 36298:case 36306:case 35682:return Frt;case 35679:case 36299:case 36307:return Vrt;case 35680:case 36300:case 36308:case 36293:return Urt;case 36289:case 36303:case 36311:case 36292:return Brt}}(t.type)}}class $rt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const a=s[r];a.setValue(e,t[a.id],i)}}}const az=/(\w+)(\])?(\[|\.)?/g;function y1e(n,e){n.seq.push(e),n.map[e.id]=e}function Wrt(n,e,t){const i=n.name,s=i.length;for(az.lastIndex=0;;){const r=az.exec(i);let a=r[1];const l=r[3];if("]"===r[2]&&(a|=0),void 0===l||"["===l&&az.lastIndex+2===s){y1e(t,void 0===l?new jrt(a,n,e):new Grt(a,n,e));break}{let d=t.map[a];void 0===d&&(d=new $rt(a),y1e(t,d)),t=d}}}class GM{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=e.getActiveUniform(t,s);Wrt(r,e.getUniformLocation(t,r.name),this)}}setValue(e,t,i,s){const r=this.map[t];void 0!==r&&r.setValue(e,i,s)}setOptional(e,t,i){const s=t[i];void 0!==s&&this.setValue(e,i,s)}static upload(e,t,i,s){for(let r=0,o=t.length;r!==o;++r){const a=t[r],c=i[a.id];!1!==c.needsUpdate&&a.setValue(e,c.value,s)}}static seqWithValue(e,t){const i=[];for(let s=0,r=e.length;s!==r;++s){const o=e[s];o.id in t&&i.push(o)}return i}}function v1e(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const qrt=37297;let Krt=0;const M1e=new C1;function C1e(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),s=n.getShaderInfoLog(e).trim();if(i&&""===s)return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const o=parseInt(r[1]);return t.toUpperCase()+"\n\n"+s+"\n\n"+function Xrt(n,e){const t=n.split("\n"),i=[],s=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let o=s;o<r;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return s}function Zrt(n,e){const t=function Yrt(n){Y1._getMatrix(M1e,Y1.workingColorSpace,n);const e=`mat3( ${M1e.elements.map(t=>t.toFixed(4))} )`;switch(Y1.getTransfer(n)){case kv:return[e,"LinearTransferOETF"];case Ti:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}(e);return[`vec4 ${n}( vec4 value ) {`,`\treturn ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}function Qrt(n,e){let t;switch(e){case Ntt:t="Linear";break;case Dtt:t="Reinhard";break;case Rtt:t="Cineon";break;case Ott:t="ACESFilmic";break;case Ftt:t="AgX";break;case Vtt:t="Neutral";break;case ktt:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const $M=new K;function mp(n){return""!==n}function b1e(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function x1e(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const iot=/^[ \t]*#include +<([\w\d./]+)>/gm;function cz(n){return n.replace(iot,rot)}const sot=new Map;function rot(n,e){let t=S1[e];if(void 0===t){const i=sot.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=S1[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return cz(t)}const oot=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function E1e(n){return n.replace(oot,aot)}function aot(n,e,t,i){let s="";for(let r=parseInt(e);r<parseInt(t);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function w1e(n){let e=`precision ${n.precision} float;\n\tprecision ${n.precision} int;\n\tprecision ${n.precision} sampler2D;\n\tprecision ${n.precision} samplerCube;\n\tprecision ${n.precision} sampler3D;\n\tprecision ${n.precision} sampler2DArray;\n\tprecision ${n.precision} sampler2DShadow;\n\tprecision ${n.precision} samplerCubeShadow;\n\tprecision ${n.precision} sampler2DArrayShadow;\n\tprecision ${n.precision} isampler2D;\n\tprecision ${n.precision} isampler3D;\n\tprecision ${n.precision} isamplerCube;\n\tprecision ${n.precision} isampler2DArray;\n\tprecision ${n.precision} usampler2D;\n\tprecision ${n.precision} usampler3D;\n\tprecision ${n.precision} usamplerCube;\n\tprecision ${n.precision} usampler2DArray;\n\t`;return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function hot(n,e,t,i){const s=n.getContext(),r=t.defines;let o=t.vertexShader,a=t.fragmentShader;const c=function cot(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Wee?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ftt?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===n0&&(e="SHADOWMAP_TYPE_VSM"),e}(t),l=function lot(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case I4:case D6:e="ENVMAP_TYPE_CUBE";break;case N9:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function uot(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===D6&&(e="ENVMAP_MODE_REFRACTION"),e}(t),d=function dot(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Sv:e="ENVMAP_BLENDING_MULTIPLY";break;case ztt:e="ENVMAP_BLENDING_MIX";break;case Ptt:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function fot(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),m=function eot(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(mp).join("\n")}(t),_=function tot(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(r),b=s.createProgram();let v,M,E=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(mp).join("\n"),v.length>0&&(v+="\n"),M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(mp).join("\n"),M.length>0&&(M+="\n")):(v=[w1e(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(mp).join("\n"),M=[w1e(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==L4?"#define TONE_MAPPING":"",t.toneMapping!==L4?S1.tonemapping_pars_fragment:"",t.toneMapping!==L4?Qrt("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",S1.colorspace_pars_fragment,Zrt("linearToOutputTexel",t.outputColorSpace),(Y1.getLuminanceCoefficients($M),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${$M.x.toFixed(4)}, ${$M.y.toFixed(4)}, ${$M.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(mp).join("\n")),o=cz(o),o=b1e(o,t),o=x1e(o,t),a=cz(a),a=b1e(a,t),a=x1e(a,t),o=E1e(o),a=E1e(a),!0!==t.isRawShaderMaterial&&(E="#version 300 es\n",v=[m,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,M=["#define varying in",t.glslVersion===cte?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===cte?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+M);const S=E+M+a,O=v1e(s,s.VERTEX_SHADER,E+v+o),F=v1e(s,s.FRAGMENT_SHADER,S);function N(k){if(n.debug.checkShaderErrors){const G=s.getProgramInfoLog(b).trim(),U=s.getShaderInfoLog(O).trim(),me=s.getShaderInfoLog(F).trim();let ze=!0,_e=!0;if(!1===s.getProgramParameter(b,s.LINK_STATUS))if(ze=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(s,b,O,F);else{const Xe=C1e(s,O,"vertex"),we=C1e(s,F,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(b,s.VALIDATE_STATUS)+"\n\nMaterial Name: "+k.name+"\nMaterial Type: "+k.type+"\n\nProgram Info Log: "+G+"\n"+Xe+"\n"+we)}else""!==G?console.warn("THREE.WebGLProgram: Program Info Log:",G):(""===U||""===me)&&(_e=!1);_e&&(k.diagnostics={runnable:ze,programLog:G,vertexShader:{log:U,prefix:v},fragmentShader:{log:me,prefix:M}})}s.deleteShader(O),s.deleteShader(F),z=new GM(s,b),L=function not(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=n.getActiveAttrib(e,s),o=r.name;let a=1;r.type===n.FLOAT_MAT2&&(a=2),r.type===n.FLOAT_MAT3&&(a=3),r.type===n.FLOAT_MAT4&&(a=4),t[o]={type:r.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(s,b)}let z,L;s.attachShader(b,O),s.attachShader(b,F),void 0!==t.index0AttributeName?s.bindAttribLocation(b,0,t.index0AttributeName):!0===t.morphTargets&&s.bindAttribLocation(b,0,"position"),s.linkProgram(b),this.getUniforms=function(){return void 0===z&&N(this),z},this.getAttributes=function(){return void 0===L&&N(this),L};let I=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===I&&(I=s.getProgramParameter(b,qrt)),I},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(b),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Krt++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=O,this.fragmentShader=F,this}let pot=0;class mot{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,s=this._getShaderStage(e.vertexShader),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(s)&&(o.add(s),s.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new got(e),t.set(e,i)),i}}class got{constructor(e){this.id=pot++,this.code=e,this.usedTimes=0}}function _ot(n,e,t,i,s,r,o){const a=new $L,c=new mot,l=new Set,u=[],d=s.logarithmicDepthBuffer,h=s.vertexTextures;let m=s.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(L){return l.add(L),0===L?"uv":`uv${L}`}return{getParameters:function v(L,I,k,G,U){const me=G.fog,ze=U.geometry,Xe=(L.isMeshStandardMaterial?t:e).get(L.envMap||(L.isMeshStandardMaterial?G.environment:null)),we=Xe&&Xe.mapping===N9?Xe.image.height:null,vt=_[L.type];null!==L.precision&&(m=s.getMaxPrecision(L.precision),m!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",m,"instead."));const Nt=ze.morphAttributes.position||ze.morphAttributes.normal||ze.morphAttributes.color,Xt=void 0!==Nt?Nt.length:0;let _n,De,at,Jt,Ln=0;if(void 0!==ze.morphAttributes.position&&(Ln=1),void 0!==ze.morphAttributes.normal&&(Ln=2),void 0!==ze.morphAttributes.color&&(Ln=3),vt){const ci=r3[vt];_n=ci.vertexShader,De=ci.fragmentShader}else _n=L.vertexShader,De=L.fragmentShader,c.update(L),at=c.getVertexShaderID(L),Jt=c.getFragmentShaderID(L);const Et=n.getRenderTarget(),Yt=n.state.buffers.depth.getReversed(),Yn=!0===U.isInstancedMesh,sn=!0===U.isBatchedMesh,D1=!!L.map,e1=!!Xe,q=!!L.aoMap,wt=!!L.lightMap,ft=!!L.bumpMap,Tt=!!L.normalMap,qe=!!L.displacementMap,tn=!!L.emissiveMap,ht=!!L.metalnessMap,qt=!!L.roughnessMap,Qn=L.anisotropy>0,X=L.clearcoat>0,fe=L.iridescence>0,Pe=L.sheen>0,je=L.transmission>0,xe=Qn&&!!L.anisotropyMap,yn=X&&!!L.clearcoatMap,Ot=X&&!!L.clearcoatNormalMap,vn=X&&!!L.clearcoatRoughnessMap,En=fe&&!!L.iridescenceMap,ot=fe&&!!L.iridescenceThicknessMap,an=Pe&&!!L.sheenColorMap,qn=Pe&&!!L.sheenRoughnessMap,Fn=!!L.specularMap,Vt=!!L.specularColorMap,o1=!!L.specularIntensityMap,te=je&&!!L.transmissionMap,$t=je&&!!L.thicknessMap,rn=!!L.alphaMap,on=!!L.extensions;let a1=L4;L.toneMapped&&(null===Et||!0===Et.isXRRenderTarget)&&(a1=n.toneMapping);const vi={shaderID:vt,shaderType:L.type,shaderName:L.name,vertexShader:_n,fragmentShader:De,defines:L.defines,customVertexShaderID:at,customFragmentShaderID:Jt,isRawShaderMaterial:!0===L.isRawShaderMaterial,glslVersion:L.glslVersion,precision:m,batching:sn,batchingColor:sn&&null!==U._colorsTexture,instancing:Yn,instancingColor:Yn&&null!==U.instanceColor,instancingMorph:Yn&&null!==U.morphTexture,supportsVertexTextures:h,outputColorSpace:null===Et?n.outputColorSpace:!0===Et.isXRRenderTarget?Et.texture.colorSpace:Br,alphaToCoverage:!!L.alphaToCoverage,map:D1,matcap:!!L.matcap,envMap:e1,envMapMode:e1&&Xe.mapping,envMapCubeUVHeight:we,aoMap:q,lightMap:wt,bumpMap:ft,normalMap:Tt,displacementMap:h&&qe,emissiveMap:tn,normalMapObjectSpace:Tt&&1===L.normalMapType,normalMapTangentSpace:Tt&&0===L.normalMapType,metalnessMap:ht,roughnessMap:qt,anisotropy:Qn,anisotropyMap:xe,clearcoat:X,clearcoatMap:yn,clearcoatNormalMap:Ot,clearcoatRoughnessMap:vn,dispersion:L.dispersion>0,iridescence:fe,iridescenceMap:En,iridescenceThicknessMap:ot,sheen:Pe,sheenColorMap:an,sheenRoughnessMap:qn,specularMap:Fn,specularColorMap:Vt,specularIntensityMap:o1,transmission:je,transmissionMap:te,thicknessMap:$t,gradientMap:!!L.gradientMap,opaque:!1===L.transparent&&1===L.blending&&!1===L.alphaToCoverage,alphaMap:rn,alphaTest:L.alphaTest>0,alphaHash:!!L.alphaHash,combine:L.combine,mapUv:D1&&b(L.map.channel),aoMapUv:q&&b(L.aoMap.channel),lightMapUv:wt&&b(L.lightMap.channel),bumpMapUv:ft&&b(L.bumpMap.channel),normalMapUv:Tt&&b(L.normalMap.channel),displacementMapUv:qe&&b(L.displacementMap.channel),emissiveMapUv:tn&&b(L.emissiveMap.channel),metalnessMapUv:ht&&b(L.metalnessMap.channel),roughnessMapUv:qt&&b(L.roughnessMap.channel),anisotropyMapUv:xe&&b(L.anisotropyMap.channel),clearcoatMapUv:yn&&b(L.clearcoatMap.channel),clearcoatNormalMapUv:Ot&&b(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:vn&&b(L.clearcoatRoughnessMap.channel),iridescenceMapUv:En&&b(L.iridescenceMap.channel),iridescenceThicknessMapUv:ot&&b(L.iridescenceThicknessMap.channel),sheenColorMapUv:an&&b(L.sheenColorMap.channel),sheenRoughnessMapUv:qn&&b(L.sheenRoughnessMap.channel),specularMapUv:Fn&&b(L.specularMap.channel),specularColorMapUv:Vt&&b(L.specularColorMap.channel),specularIntensityMapUv:o1&&b(L.specularIntensityMap.channel),transmissionMapUv:te&&b(L.transmissionMap.channel),thicknessMapUv:$t&&b(L.thicknessMap.channel),alphaMapUv:rn&&b(L.alphaMap.channel),vertexTangents:!!ze.attributes.tangent&&(Tt||Qn),vertexColors:L.vertexColors,vertexAlphas:!0===L.vertexColors&&!!ze.attributes.color&&4===ze.attributes.color.itemSize,pointsUvs:!0===U.isPoints&&!!ze.attributes.uv&&(D1||rn),fog:!!me,useFog:!0===L.fog,fogExp2:!!me&&me.isFogExp2,flatShading:!0===L.flatShading&&!1===L.wireframe,sizeAttenuation:!0===L.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:Yt,skinning:!0===U.isSkinnedMesh,morphTargets:void 0!==ze.morphAttributes.position,morphNormals:void 0!==ze.morphAttributes.normal,morphColors:void 0!==ze.morphAttributes.color,morphTargetsCount:Xt,morphTextureStride:Ln,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:a1,decodeVideoTexture:D1&&!0===L.map.isVideoTexture&&Y1.getTransfer(L.map.colorSpace)===Ti,decodeVideoTextureEmissive:tn&&!0===L.emissiveMap.isVideoTexture&&Y1.getTransfer(L.emissiveMap.colorSpace)===Ti,premultipliedAlpha:L.premultipliedAlpha,doubleSided:2===L.side,flipSided:1===L.side,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:on&&!0===L.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(on&&!0===L.extensions.multiDraw||sn)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return vi.vertexUv1s=l.has(1),vi.vertexUv2s=l.has(2),vi.vertexUv3s=l.has(3),l.clear(),vi},getProgramCacheKey:function M(L){const I=[];if(L.shaderID?I.push(L.shaderID):(I.push(L.customVertexShaderID),I.push(L.customFragmentShaderID)),void 0!==L.defines)for(const k in L.defines)I.push(k),I.push(L.defines[k]);return!1===L.isRawShaderMaterial&&(function E(L,I){L.push(I.precision),L.push(I.outputColorSpace),L.push(I.envMapMode),L.push(I.envMapCubeUVHeight),L.push(I.mapUv),L.push(I.alphaMapUv),L.push(I.lightMapUv),L.push(I.aoMapUv),L.push(I.bumpMapUv),L.push(I.normalMapUv),L.push(I.displacementMapUv),L.push(I.emissiveMapUv),L.push(I.metalnessMapUv),L.push(I.roughnessMapUv),L.push(I.anisotropyMapUv),L.push(I.clearcoatMapUv),L.push(I.clearcoatNormalMapUv),L.push(I.clearcoatRoughnessMapUv),L.push(I.iridescenceMapUv),L.push(I.iridescenceThicknessMapUv),L.push(I.sheenColorMapUv),L.push(I.sheenRoughnessMapUv),L.push(I.specularMapUv),L.push(I.specularColorMapUv),L.push(I.specularIntensityMapUv),L.push(I.transmissionMapUv),L.push(I.thicknessMapUv),L.push(I.combine),L.push(I.fogExp2),L.push(I.sizeAttenuation),L.push(I.morphTargetsCount),L.push(I.morphAttributeCount),L.push(I.numDirLights),L.push(I.numPointLights),L.push(I.numSpotLights),L.push(I.numSpotLightMaps),L.push(I.numHemiLights),L.push(I.numRectAreaLights),L.push(I.numDirLightShadows),L.push(I.numPointLightShadows),L.push(I.numSpotLightShadows),L.push(I.numSpotLightShadowsWithMaps),L.push(I.numLightProbes),L.push(I.shadowMapType),L.push(I.toneMapping),L.push(I.numClippingPlanes),L.push(I.numClipIntersection),L.push(I.depthPacking)}(I,L),function T(L,I){a.disableAll(),I.supportsVertexTextures&&a.enable(0),I.instancing&&a.enable(1),I.instancingColor&&a.enable(2),I.instancingMorph&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),I.anisotropy&&a.enable(17),I.alphaHash&&a.enable(18),I.batching&&a.enable(19),I.dispersion&&a.enable(20),I.batchingColor&&a.enable(21),I.gradientMap&&a.enable(22),L.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.reverseDepthBuffer&&a.enable(4),I.skinning&&a.enable(5),I.morphTargets&&a.enable(6),I.morphNormals&&a.enable(7),I.morphColors&&a.enable(8),I.premultipliedAlpha&&a.enable(9),I.shadowMapEnabled&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),I.decodeVideoTexture&&a.enable(19),I.decodeVideoTextureEmissive&&a.enable(20),I.alphaToCoverage&&a.enable(21),L.push(a.mask)}(I,L),I.push(n.outputColorSpace)),I.push(L.customProgramCacheKey),I.join()},getUniforms:function S(L){const I=_[L.type];let k;return k=I?Vnt.clone(r3[I].uniforms):L.uniforms,k},acquireProgram:function O(L,I){let k;for(let G=0,U=u.length;G<U;G++){const me=u[G];if(me.cacheKey===I){k=me,++k.usedTimes;break}}return void 0===k&&(k=new hot(n,I,L,r),u.push(k)),k},releaseProgram:function F(L){if(0==--L.usedTimes){const I=u.indexOf(L);u[I]=u[u.length-1],u.pop(),L.destroy()}},releaseShaderCache:function N(L){c.remove(L)},programs:u,dispose:function z(){c.dispose()}}}function yot(){let n=new WeakMap;return{has:function e(o){return n.has(o)},get:function t(o){let a=n.get(o);return void 0===a&&(a={},n.set(o,a)),a},remove:function i(o){n.delete(o)},update:function s(o,a,c){n.get(o)[a]=c},dispose:function r(){n=new WeakMap}}}function vot(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function T1e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function S1e(){const n=[];let e=0;const t=[],i=[],s=[];function o(d,h,m,_,b,v){let M=n[e];return void 0===M?(M={id:d.id,object:d,geometry:h,material:m,groupOrder:_,renderOrder:d.renderOrder,z:b,group:v},n[e]=M):(M.id=d.id,M.object=d,M.geometry=h,M.material=m,M.groupOrder=_,M.renderOrder=d.renderOrder,M.z=b,M.group=v),e++,M}return{opaque:t,transmissive:i,transparent:s,init:function r(){e=0,t.length=0,i.length=0,s.length=0},push:function a(d,h,m,_,b,v){const M=o(d,h,m,_,b,v);m.transmission>0?i.push(M):!0===m.transparent?s.push(M):t.push(M)},unshift:function c(d,h,m,_,b,v){const M=o(d,h,m,_,b,v);m.transmission>0?i.unshift(M):!0===m.transparent?s.unshift(M):t.unshift(M)},finish:function u(){for(let d=e,h=n.length;d<h;d++){const m=n[d];if(null===m.id)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}},sort:function l(d,h){t.length>1&&t.sort(d||vot),i.length>1&&i.sort(h||T1e),s.length>1&&s.sort(h||T1e)}}}function Mot(){let n=new WeakMap;return{get:function e(i,s){const r=n.get(i);let o;return void 0===r?(o=new S1e,n.set(i,[o])):s>=r.length?(o=new S1e,r.push(o)):o=r[s],o},dispose:function t(){n=new WeakMap}}}function Cot(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new K,color:new jt};break;case"SpotLight":t={position:new K,direction:new K,color:new jt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new K,color:new jt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new K,skyColor:new jt,groundColor:new jt};break;case"RectAreaLight":t={color:new jt,position:new K,halfWidth:new K,halfHeight:new K}}return n[e.id]=t,t}}}let xot=0;function Eot(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function wot(n){const e=new Cot,t=function bot(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let l=0;l<9;l++)i.probe.push(new K);const s=new K,r=new Gn,o=new Gn;return{setup:function a(l){let u=0,d=0,h=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let m=0,_=0,b=0,v=0,M=0,E=0,T=0,S=0,O=0,F=0,N=0;l.sort(Eot);for(let L=0,I=l.length;L<I;L++){const k=l[L],G=k.color,U=k.intensity,me=k.distance,ze=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)u+=G.r*U,d+=G.g*U,h+=G.b*U;else if(k.isLightProbe){for(let _e=0;_e<9;_e++)i.probe[_e].addScaledVector(k.sh.coefficients[_e],U);N++}else if(k.isDirectionalLight){const _e=e.get(k);if(_e.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const Xe=k.shadow,we=t.get(k);we.shadowIntensity=Xe.intensity,we.shadowBias=Xe.bias,we.shadowNormalBias=Xe.normalBias,we.shadowRadius=Xe.radius,we.shadowMapSize=Xe.mapSize,i.directionalShadow[m]=we,i.directionalShadowMap[m]=ze,i.directionalShadowMatrix[m]=k.shadow.matrix,E++}i.directional[m]=_e,m++}else if(k.isSpotLight){const _e=e.get(k);_e.position.setFromMatrixPosition(k.matrixWorld),_e.color.copy(G).multiplyScalar(U),_e.distance=me,_e.coneCos=Math.cos(k.angle),_e.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),_e.decay=k.decay,i.spot[b]=_e;const Xe=k.shadow;if(k.map&&(i.spotLightMap[O]=k.map,O++,Xe.updateMatrices(k),k.castShadow&&F++),i.spotLightMatrix[b]=Xe.matrix,k.castShadow){const we=t.get(k);we.shadowIntensity=Xe.intensity,we.shadowBias=Xe.bias,we.shadowNormalBias=Xe.normalBias,we.shadowRadius=Xe.radius,we.shadowMapSize=Xe.mapSize,i.spotShadow[b]=we,i.spotShadowMap[b]=ze,S++}b++}else if(k.isRectAreaLight){const _e=e.get(k);_e.color.copy(G).multiplyScalar(U),_e.halfWidth.set(.5*k.width,0,0),_e.halfHeight.set(0,.5*k.height,0),i.rectArea[v]=_e,v++}else if(k.isPointLight){const _e=e.get(k);if(_e.color.copy(k.color).multiplyScalar(k.intensity),_e.distance=k.distance,_e.decay=k.decay,k.castShadow){const Xe=k.shadow,we=t.get(k);we.shadowIntensity=Xe.intensity,we.shadowBias=Xe.bias,we.shadowNormalBias=Xe.normalBias,we.shadowRadius=Xe.radius,we.shadowMapSize=Xe.mapSize,we.shadowCameraNear=Xe.camera.near,we.shadowCameraFar=Xe.camera.far,i.pointShadow[_]=we,i.pointShadowMap[_]=ze,i.pointShadowMatrix[_]=k.shadow.matrix,T++}i.point[_]=_e,_++}else if(k.isHemisphereLight){const _e=e.get(k);_e.skyColor.copy(k.color).multiplyScalar(U),_e.groundColor.copy(k.groundColor).multiplyScalar(U),i.hemi[M]=_e,M++}}v>0&&(!0===n.has("OES_texture_float_linear")?(i.rectAreaLTC1=Gt.LTC_FLOAT_1,i.rectAreaLTC2=Gt.LTC_FLOAT_2):(i.rectAreaLTC1=Gt.LTC_HALF_1,i.rectAreaLTC2=Gt.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=d,i.ambient[2]=h;const z=i.hash;(z.directionalLength!==m||z.pointLength!==_||z.spotLength!==b||z.rectAreaLength!==v||z.hemiLength!==M||z.numDirectionalShadows!==E||z.numPointShadows!==T||z.numSpotShadows!==S||z.numSpotMaps!==O||z.numLightProbes!==N)&&(i.directional.length=m,i.spot.length=b,i.rectArea.length=v,i.point.length=_,i.hemi.length=M,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=S,i.spotShadowMap.length=S,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=S+O-F,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=F,i.numLightProbes=N,z.directionalLength=m,z.pointLength=_,z.spotLength=b,z.rectAreaLength=v,z.hemiLength=M,z.numDirectionalShadows=E,z.numPointShadows=T,z.numSpotShadows=S,z.numSpotMaps=O,z.numLightProbes=N,i.version=xot++)},setupView:function c(l,u){let d=0,h=0,m=0,_=0,b=0;const v=u.matrixWorldInverse;for(let M=0,E=l.length;M<E;M++){const T=l[M];if(T.isDirectionalLight){const S=i.directional[d];S.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(v),d++}else if(T.isSpotLight){const S=i.spot[m];S.position.setFromMatrixPosition(T.matrixWorld),S.position.applyMatrix4(v),S.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(v),m++}else if(T.isRectAreaLight){const S=i.rectArea[_];S.position.setFromMatrixPosition(T.matrixWorld),S.position.applyMatrix4(v),o.identity(),r.copy(T.matrixWorld),r.premultiply(v),o.extractRotation(r),S.halfWidth.set(.5*T.width,0,0),S.halfHeight.set(0,.5*T.height,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),_++}else if(T.isPointLight){const S=i.point[h];S.position.setFromMatrixPosition(T.matrixWorld),S.position.applyMatrix4(v),h++}else if(T.isHemisphereLight){const S=i.hemi[b];S.direction.setFromMatrixPosition(T.matrixWorld),S.direction.transformDirection(v),b++}}},state:i}}function A1e(n){const e=new wot(n),t=[],i=[],l={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function s(u){l.camera=u,t.length=0,i.length=0},state:l,setupLights:function a(){e.setup(t)},setupLightsView:function c(u){e.setupView(t,u)},pushLight:function r(u){t.push(u)},pushShadow:function o(u){i.push(u)}}}function Tot(n){let e=new WeakMap;return{get:function t(s,r=0){const o=e.get(s);let a;return void 0===o?(a=new A1e(n),e.set(s,[a])):r>=o.length?(a=new A1e(n),o.push(a)):a=o[r],a},dispose:function i(){e=new WeakMap}}}function Lot(n,e,t){let i=new np;const s=new it,r=new it,o=new ai,a=new Cne({depthPacking:3201}),c=new bne,l={},u=t.maxTextureSize,d={[s0]:1,[fo]:0,[Yc]:2},h=new Qc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const _=new b1;_.setAttribute("position",new yi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new e2(_,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Wee;let M=this.type;function E(F,N){const z=e.update(b);h.defines.VSM_SAMPLES!==F.blurSamples&&(h.defines.VSM_SAMPLES=F.blurSamples,m.defines.VSM_SAMPLES=F.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),null===F.mapPass&&(F.mapPass=new a0(s.x,s.y)),h.uniforms.shadow_pass.value=F.map.texture,h.uniforms.resolution.value=F.mapSize,h.uniforms.radius.value=F.radius,n.setRenderTarget(F.mapPass),n.clear(),n.renderBufferDirect(N,null,z,h,b,null),m.uniforms.shadow_pass.value=F.mapPass.texture,m.uniforms.resolution.value=F.mapSize,m.uniforms.radius.value=F.radius,n.setRenderTarget(F.map),n.clear(),n.renderBufferDirect(N,null,z,m,b,null)}function T(F,N,z,L){let I=null;const k=!0===z.isPointLight?F.customDistanceMaterial:F.customDepthMaterial;if(void 0!==k)I=k;else if(I=!0===z.isPointLight?c:a,n.localClippingEnabled&&!0===N.clipShadows&&Array.isArray(N.clippingPlanes)&&0!==N.clippingPlanes.length||N.displacementMap&&0!==N.displacementScale||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0||!0===N.alphaToCoverage){const G=I.uuid,U=N.uuid;let me=l[G];void 0===me&&(me={},l[G]=me);let ze=me[U];void 0===ze&&(ze=I.clone(),me[U]=ze,N.addEventListener("dispose",O)),I=ze}return I.visible=N.visible,I.wireframe=N.wireframe,I.side=L===n0?null!==N.shadowSide?N.shadowSide:N.side:null!==N.shadowSide?N.shadowSide:d[N.side],I.alphaMap=N.alphaMap,I.alphaTest=!0===N.alphaToCoverage?.5:N.alphaTest,I.map=N.map,I.clipShadows=N.clipShadows,I.clippingPlanes=N.clippingPlanes,I.clipIntersection=N.clipIntersection,I.displacementMap=N.displacementMap,I.displacementScale=N.displacementScale,I.displacementBias=N.displacementBias,I.wireframeLinewidth=N.wireframeLinewidth,I.linewidth=N.linewidth,!0===z.isPointLight&&!0===I.isMeshDistanceMaterial&&(n.properties.get(I).light=z),I}function S(F,N,z,L,I){if(!1===F.visible)return;if(F.layers.test(N.layers)&&(F.isMesh||F.isLine||F.isPoints)&&(F.castShadow||F.receiveShadow&&I===n0)&&(!F.frustumCulled||i.intersectsObject(F))){F.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,F.matrixWorld);const U=e.update(F),me=F.material;if(Array.isArray(me)){const ze=U.groups;for(let _e=0,Xe=ze.length;_e<Xe;_e++){const we=ze[_e],vt=me[we.materialIndex];if(vt&&vt.visible){const Nt=T(F,vt,L,I);F.onBeforeShadow(n,F,N,z,U,Nt,we),n.renderBufferDirect(z,null,U,Nt,F,we),F.onAfterShadow(n,F,N,z,U,Nt,we)}}}else if(me.visible){const ze=T(F,me,L,I);F.onBeforeShadow(n,F,N,z,U,ze,null),n.renderBufferDirect(z,null,U,ze,F,null),F.onAfterShadow(n,F,N,z,U,ze,null)}}const G=F.children;for(let U=0,me=G.length;U<me;U++)S(G[U],N,z,L,I)}function O(F){F.target.removeEventListener("dispose",O);for(const z in l){const L=l[z],I=F.target.uuid;I in L&&(L[I].dispose(),delete L[I])}}this.render=function(F,N,z){if(!1===v.enabled||!1===v.autoUpdate&&!1===v.needsUpdate||0===F.length)return;const L=n.getRenderTarget(),I=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),G=n.state;G.setBlending(0),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const U=M!==n0&&this.type===n0,me=M===n0&&this.type!==n0;for(let ze=0,_e=F.length;ze<_e;ze++){const Xe=F[ze],we=Xe.shadow;if(void 0===we){console.warn("THREE.WebGLShadowMap:",Xe,"has no shadow.");continue}if(!1===we.autoUpdate&&!1===we.needsUpdate)continue;s.copy(we.mapSize);const vt=we.getFrameExtents();if(s.multiply(vt),r.copy(we.mapSize),(s.x>u||s.y>u)&&(s.x>u&&(r.x=Math.floor(u/vt.x),s.x=r.x*vt.x,we.mapSize.x=r.x),s.y>u&&(r.y=Math.floor(u/vt.y),s.y=r.y*vt.y,we.mapSize.y=r.y)),null===we.map||!0===U||!0===me){const Xt=this.type!==n0?{minFilter:T2,magFilter:T2}:{};null!==we.map&&we.map.dispose(),we.map=new a0(s.x,s.y,Xt),we.map.texture.name=Xe.name+".shadowMap",we.camera.updateProjectionMatrix()}n.setRenderTarget(we.map),n.clear();const Nt=we.getViewportCount();for(let Xt=0;Xt<Nt;Xt++){const Ln=we.getViewport(Xt);o.set(r.x*Ln.x,r.y*Ln.y,r.x*Ln.z,r.y*Ln.w),G.viewport(o),we.updateMatrices(Xe,Xt),i=we.getFrustum(),S(N,z,we.camera,Xe,this.type)}!0!==we.isPointLightShadow&&this.type===n0&&E(we,z),we.needsUpdate=!1}M=this.type,v.needsUpdate=!1,n.setRenderTarget(L,I,k)}}const Iot={[jA]:1,[$A]:6,[WA]:7,[Yu]:5,[GA]:0,[KA]:2,[XA]:4,[qA]:3};function zot(n,e){const r=new function t(){let te=!1;const $t=new ai;let mt=null;const rn=new ai(0,0,0,0);return{setMask:function(yt){mt!==yt&&!te&&(n.colorMask(yt,yt,yt,yt),mt=yt)},setLocked:function(yt){te=yt},setClear:function(yt,Qe,on,a1,vi){!0===vi&&(yt*=a1,Qe*=a1,on*=a1),$t.set(yt,Qe,on,a1),!1===rn.equals($t)&&(n.clearColor(yt,Qe,on,a1),rn.copy($t))},reset:function(){te=!1,mt=null,rn.set(-1,0,0,0)}}},o=new function i(){let te=!1,$t=!1,mt=null,rn=null,yt=null;return{setReversed:function(Qe){if($t!==Qe){const on=e.get("EXT_clip_control");on.clipControlEXT(on.LOWER_LEFT_EXT,Qe?on.ZERO_TO_ONE_EXT:on.NEGATIVE_ONE_TO_ONE_EXT),$t=Qe;const a1=yt;yt=null,this.setClear(a1)}},getReversed:function(){return $t},setTest:function(Qe){Qe?Et(n.DEPTH_TEST):Yt(n.DEPTH_TEST)},setMask:function(Qe){mt!==Qe&&!te&&(n.depthMask(Qe),mt=Qe)},setFunc:function(Qe){if($t&&(Qe=Iot[Qe]),rn!==Qe){switch(Qe){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}rn=Qe}},setLocked:function(Qe){te=Qe},setClear:function(Qe){yt!==Qe&&($t&&(Qe=1-Qe),n.clearDepth(Qe),yt=Qe)},reset:function(){te=!1,mt=null,rn=null,yt=null,$t=!1}}},a=new function s(){let te=!1,$t=null,mt=null,rn=null,yt=null,Qe=null,on=null,a1=null,vi=null;return{setTest:function(ci){te||(ci?Et(n.STENCIL_TEST):Yt(n.STENCIL_TEST))},setMask:function(ci){$t!==ci&&!te&&(n.stencilMask(ci),$t=ci)},setFunc:function(ci,Y2,Oa){(mt!==ci||rn!==Y2||yt!==Oa)&&(n.stencilFunc(ci,Y2,Oa),mt=ci,rn=Y2,yt=Oa)},setOp:function(ci,Y2,Oa){(Qe!==ci||on!==Y2||a1!==Oa)&&(n.stencilOp(ci,Y2,Oa),Qe=ci,on=Y2,a1=Oa)},setLocked:function(ci){te=ci},setClear:function(ci){vi!==ci&&(n.clearStencil(ci),vi=ci)},reset:function(){te=!1,$t=null,mt=null,rn=null,yt=null,Qe=null,on=null,a1=null,vi=null}}},c=new WeakMap,l=new WeakMap;let u={},d={},h=new WeakMap,m=[],_=null,b=!1,v=null,M=null,E=null,T=null,S=null,O=null,F=null,N=new jt(0,0,0),z=0,L=!1,I=null,k=null,G=null,U=null,me=null;const ze=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let _e=!1,Xe=0;const we=n.getParameter(n.VERSION);-1!==we.indexOf("WebGL")?(Xe=parseFloat(/^WebGL (\d)/.exec(we)[1]),_e=Xe>=1):-1!==we.indexOf("OpenGL ES")&&(Xe=parseFloat(/^OpenGL ES (\d)/.exec(we)[1]),_e=Xe>=2);let vt=null,Nt={};const Xt=n.getParameter(n.SCISSOR_BOX),Ln=n.getParameter(n.VIEWPORT),_n=(new ai).fromArray(Xt),De=(new ai).fromArray(Ln);function at(te,$t,mt,rn){const yt=new Uint8Array(4),Qe=n.createTexture();n.bindTexture(te,Qe),n.texParameteri(te,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(te,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let on=0;on<mt;on++)te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY?n.texImage3D($t,0,n.RGBA,1,1,rn,0,n.RGBA,n.UNSIGNED_BYTE,yt):n.texImage2D($t+on,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,yt);return Qe}const Jt={};function Et(te){!0!==u[te]&&(n.enable(te),u[te]=!0)}function Yt(te){!1!==u[te]&&(n.disable(te),u[te]=!1)}Jt[n.TEXTURE_2D]=at(n.TEXTURE_2D,n.TEXTURE_2D,1),Jt[n.TEXTURE_CUBE_MAP]=at(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Jt[n.TEXTURE_2D_ARRAY]=at(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Jt[n.TEXTURE_3D]=at(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),a.setClear(0),Et(n.DEPTH_TEST),o.setFunc(3),ft(!1),Tt(1),Et(n.CULL_FACE),q(0);const z1={[N6]:n.FUNC_ADD,[ptt]:n.FUNC_SUBTRACT,[mtt]:n.FUNC_REVERSE_SUBTRACT};z1[103]=n.MIN,z1[104]=n.MAX;const e1={[ytt]:n.ZERO,[vtt]:n.ONE,[Mtt]:n.SRC_COLOR,[BA]:n.SRC_ALPHA,[Ttt]:n.SRC_ALPHA_SATURATE,[Ett]:n.DST_COLOR,[btt]:n.DST_ALPHA,[Ctt]:n.ONE_MINUS_SRC_COLOR,[HA]:n.ONE_MINUS_SRC_ALPHA,[wtt]:n.ONE_MINUS_DST_COLOR,[xtt]:n.ONE_MINUS_DST_ALPHA,[Stt]:n.CONSTANT_COLOR,[Att]:n.ONE_MINUS_CONSTANT_COLOR,[Ltt]:n.CONSTANT_ALPHA,[Itt]:n.ONE_MINUS_CONSTANT_ALPHA};function q(te,$t,mt,rn,yt,Qe,on,a1,vi,ci){if(0!==te){if(!1===b&&(Et(n.BLEND),b=!0),5===te)yt=yt||$t,Qe=Qe||mt,on=on||rn,($t!==M||yt!==S)&&(n.blendEquationSeparate(z1[$t],z1[yt]),M=$t,S=yt),(mt!==E||rn!==T||Qe!==O||on!==F)&&(n.blendFuncSeparate(e1[mt],e1[rn],e1[Qe],e1[on]),E=mt,T=rn,O=Qe,F=on),(!1===a1.equals(N)||vi!==z)&&(n.blendColor(a1.r,a1.g,a1.b,vi),N.copy(a1),z=vi),v=te,L=!1;else if(te!==v||ci!==L){if((100!==M||100!==S)&&(n.blendEquation(n.FUNC_ADD),M=100,S=100),ci)switch(te){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",te)}else switch(te){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case 3:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case 4:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",te)}E=null,T=null,O=null,F=null,N.set(0,0,0),z=0,v=te,L=ci}}else!0===b&&(Yt(n.BLEND),b=!1)}function ft(te){I!==te&&(n.frontFace(te?n.CW:n.CCW),I=te)}function Tt(te){0!==te?(Et(n.CULL_FACE),te!==k&&n.cullFace(1===te?n.BACK:2===te?n.FRONT:n.FRONT_AND_BACK)):Yt(n.CULL_FACE),k=te}function tn(te,$t,mt){te?(Et(n.POLYGON_OFFSET_FILL),(U!==$t||me!==mt)&&(n.polygonOffset($t,mt),U=$t,me=mt)):Yt(n.POLYGON_OFFSET_FILL)}return{buffers:{color:r,depth:o,stencil:a},enable:Et,disable:Yt,bindFramebuffer:function Yn(te,$t){return d[te]!==$t&&(n.bindFramebuffer(te,$t),d[te]=$t,te===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=$t),te===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=$t),!0)},drawBuffers:function sn(te,$t){let mt=m,rn=!1;if(te){mt=h.get($t),void 0===mt&&(mt=[],h.set($t,mt));const yt=te.textures;if(mt.length!==yt.length||mt[0]!==n.COLOR_ATTACHMENT0){for(let Qe=0,on=yt.length;Qe<on;Qe++)mt[Qe]=n.COLOR_ATTACHMENT0+Qe;mt.length=yt.length,rn=!0}}else mt[0]!==n.BACK&&(mt[0]=n.BACK,rn=!0);rn&&n.drawBuffers(mt)},useProgram:function D1(te){return _!==te&&(n.useProgram(te),_=te,!0)},setBlending:q,setMaterial:function wt(te,$t){2===te.side?Yt(n.CULL_FACE):Et(n.CULL_FACE);let mt=1===te.side;$t&&(mt=!mt),ft(mt),1===te.blending&&!1===te.transparent?q(0):q(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),o.setFunc(te.depthFunc),o.setTest(te.depthTest),o.setMask(te.depthWrite),r.setMask(te.colorWrite);const rn=te.stencilWrite;a.setTest(rn),rn&&(a.setMask(te.stencilWriteMask),a.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),a.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),tn(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),!0===te.alphaToCoverage?Et(n.SAMPLE_ALPHA_TO_COVERAGE):Yt(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ft,setCullFace:Tt,setLineWidth:function qe(te){te!==G&&(_e&&n.lineWidth(te),G=te)},setPolygonOffset:tn,setScissorTest:function ht(te){te?Et(n.SCISSOR_TEST):Yt(n.SCISSOR_TEST)},activeTexture:function qt(te){void 0===te&&(te=n.TEXTURE0+ze-1),vt!==te&&(n.activeTexture(te),vt=te)},bindTexture:function Qn(te,$t,mt){void 0===mt&&(mt=null===vt?n.TEXTURE0+ze-1:vt);let rn=Nt[mt];void 0===rn&&(rn={type:void 0,texture:void 0},Nt[mt]=rn),(rn.type!==te||rn.texture!==$t)&&(vt!==mt&&(n.activeTexture(mt),vt=mt),n.bindTexture(te,$t||Jt[te]),rn.type=te,rn.texture=$t)},unbindTexture:function X(){const te=Nt[vt];void 0!==te&&void 0!==te.type&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)},compressedTexImage2D:function B(){try{n.compressedTexImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},compressedTexImage3D:function fe(){try{n.compressedTexImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},texImage2D:function En(){try{n.texImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},texImage3D:function ot(){try{n.texImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},updateUBOMapping:function Fn(te,$t){let mt=l.get($t);void 0===mt&&(mt=new WeakMap,l.set($t,mt));let rn=mt.get(te);void 0===rn&&(rn=n.getUniformBlockIndex($t,te.name),mt.set(te,rn))},uniformBlockBinding:function Vt(te,$t){const rn=l.get($t).get(te);c.get($t)!==rn&&(n.uniformBlockBinding($t,rn,te.__bindingPointIndex),c.set($t,rn))},texStorage2D:function Ot(){try{n.texStorage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},texStorage3D:function vn(){try{n.texStorage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},texSubImage2D:function Pe(){try{n.texSubImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},texSubImage3D:function je(){try{n.texSubImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},compressedTexSubImage2D:function xe(){try{n.compressedTexSubImage2D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},compressedTexSubImage3D:function yn(){try{n.compressedTexSubImage3D(...arguments)}catch(te){console.error("THREE.WebGLState:",te)}},scissor:function an(te){!1===_n.equals(te)&&(n.scissor(te.x,te.y,te.z,te.w),_n.copy(te))},viewport:function qn(te){!1===De.equals(te)&&(n.viewport(te.x,te.y,te.z,te.w),De.copy(te))},reset:function o1(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},vt=null,Nt={},d={},h=new WeakMap,m=[],_=null,b=!1,v=null,M=null,E=null,T=null,S=null,O=null,F=null,N=new jt(0,0,0),z=0,L=!1,I=null,k=null,G=null,U=null,me=null,_n.set(0,0,n.canvas.width,n.canvas.height),De.set(0,0,n.canvas.width,n.canvas.height),r.reset(),o.reset(),a.reset()}}}function Pot(n,e,t,i,s,r,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),l=new it,u=new WeakMap;let d;const h=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function _(X,B){return m?new OffscreenCanvas(X,B):G9("canvas")}function b(X,B,fe){let Pe=1;const je=Qn(X);if((je.width>fe||je.height>fe)&&(Pe=fe/Math.max(je.width,je.height)),Pe<1){if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const xe=Math.floor(Pe*je.width),yn=Math.floor(Pe*je.height);void 0===d&&(d=_(xe,yn));const Ot=B?_(xe,yn):d;return Ot.width=xe,Ot.height=yn,Ot.getContext("2d").drawImage(X,0,0,xe,yn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+je.width+"x"+je.height+") to ("+xe+"x"+yn+")."),Ot}return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+je.width+"x"+je.height+")."),X}return X}function v(X){return X.generateMipmaps}function M(X){n.generateMipmap(X)}function E(X){return X.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?n.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function T(X,B,fe,Pe,je=!1){if(null!==X){if(void 0!==n[X])return n[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let xe=B;if(B===n.RED&&(fe===n.FLOAT&&(xe=n.R32F),fe===n.HALF_FLOAT&&(xe=n.R16F),fe===n.UNSIGNED_BYTE&&(xe=n.R8)),B===n.RED_INTEGER&&(fe===n.UNSIGNED_BYTE&&(xe=n.R8UI),fe===n.UNSIGNED_SHORT&&(xe=n.R16UI),fe===n.UNSIGNED_INT&&(xe=n.R32UI),fe===n.BYTE&&(xe=n.R8I),fe===n.SHORT&&(xe=n.R16I),fe===n.INT&&(xe=n.R32I)),B===n.RG&&(fe===n.FLOAT&&(xe=n.RG32F),fe===n.HALF_FLOAT&&(xe=n.RG16F),fe===n.UNSIGNED_BYTE&&(xe=n.RG8)),B===n.RG_INTEGER&&(fe===n.UNSIGNED_BYTE&&(xe=n.RG8UI),fe===n.UNSIGNED_SHORT&&(xe=n.RG16UI),fe===n.UNSIGNED_INT&&(xe=n.RG32UI),fe===n.BYTE&&(xe=n.RG8I),fe===n.SHORT&&(xe=n.RG16I),fe===n.INT&&(xe=n.RG32I)),B===n.RGB_INTEGER&&(fe===n.UNSIGNED_BYTE&&(xe=n.RGB8UI),fe===n.UNSIGNED_SHORT&&(xe=n.RGB16UI),fe===n.UNSIGNED_INT&&(xe=n.RGB32UI),fe===n.BYTE&&(xe=n.RGB8I),fe===n.SHORT&&(xe=n.RGB16I),fe===n.INT&&(xe=n.RGB32I)),B===n.RGBA_INTEGER&&(fe===n.UNSIGNED_BYTE&&(xe=n.RGBA8UI),fe===n.UNSIGNED_SHORT&&(xe=n.RGBA16UI),fe===n.UNSIGNED_INT&&(xe=n.RGBA32UI),fe===n.BYTE&&(xe=n.RGBA8I),fe===n.SHORT&&(xe=n.RGBA16I),fe===n.INT&&(xe=n.RGBA32I)),B===n.RGB&&fe===n.UNSIGNED_INT_5_9_9_9_REV&&(xe=n.RGB9_E5),B===n.RGBA){const yn=je?kv:Y1.getTransfer(Pe);fe===n.FLOAT&&(xe=n.RGBA32F),fe===n.HALF_FLOAT&&(xe=n.RGBA16F),fe===n.UNSIGNED_BYTE&&(xe=yn===Ti?n.SRGB8_ALPHA8:n.RGBA8),fe===n.UNSIGNED_SHORT_4_4_4_4&&(xe=n.RGBA4),fe===n.UNSIGNED_SHORT_5_5_5_1&&(xe=n.RGB5_A1)}return(xe===n.R16F||xe===n.R32F||xe===n.RG16F||xe===n.RG32F||xe===n.RGBA16F||xe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),xe}function S(X,B){let fe;return X?null===B||B===z4||B===F9?fe=n.DEPTH24_STENCIL8:B===$o?fe=n.DEPTH32F_STENCIL8:B===O9&&(fe=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===B||B===z4||B===F9?fe=n.DEPTH_COMPONENT24:B===$o?fe=n.DEPTH_COMPONENT32F:B===O9&&(fe=n.DEPTH_COMPONENT16),fe}function O(X,B){return!0===v(X)||X.isFramebufferTexture&&X.minFilter!==T2&&X.minFilter!==Us?Math.log2(Math.max(B.width,B.height))+1:void 0!==X.mipmaps&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?B.mipmaps.length:1}function F(X){const B=X.target;B.removeEventListener("dispose",F),function z(X){const B=i.get(X);if(void 0===B.__webglInit)return;const fe=X.source,Pe=h.get(fe);if(Pe){const je=Pe[B.__cacheKey];je.usedTimes--,0===je.usedTimes&&L(X),0===Object.keys(Pe).length&&h.delete(fe)}i.remove(X)}(B),B.isVideoTexture&&u.delete(B)}function N(X){const B=X.target;B.removeEventListener("dispose",N),function I(X){const B=i.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),i.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++){if(Array.isArray(B.__webglFramebuffer[Pe]))for(let je=0;je<B.__webglFramebuffer[Pe].length;je++)n.deleteFramebuffer(B.__webglFramebuffer[Pe][je]);else n.deleteFramebuffer(B.__webglFramebuffer[Pe]);B.__webglDepthbuffer&&n.deleteRenderbuffer(B.__webglDepthbuffer[Pe])}else{if(Array.isArray(B.__webglFramebuffer))for(let Pe=0;Pe<B.__webglFramebuffer.length;Pe++)n.deleteFramebuffer(B.__webglFramebuffer[Pe]);else n.deleteFramebuffer(B.__webglFramebuffer);if(B.__webglDepthbuffer&&n.deleteRenderbuffer(B.__webglDepthbuffer),B.__webglMultisampledFramebuffer&&n.deleteFramebuffer(B.__webglMultisampledFramebuffer),B.__webglColorRenderbuffer)for(let Pe=0;Pe<B.__webglColorRenderbuffer.length;Pe++)B.__webglColorRenderbuffer[Pe]&&n.deleteRenderbuffer(B.__webglColorRenderbuffer[Pe]);B.__webglDepthRenderbuffer&&n.deleteRenderbuffer(B.__webglDepthRenderbuffer)}const fe=X.textures;for(let Pe=0,je=fe.length;Pe<je;Pe++){const xe=i.get(fe[Pe]);xe.__webglTexture&&(n.deleteTexture(xe.__webglTexture),o.memory.textures--),i.remove(fe[Pe])}i.remove(X)}(B)}function L(X){const B=i.get(X);n.deleteTexture(B.__webglTexture),delete h.get(X.source)[B.__cacheKey],o.memory.textures--}let k=0;function ze(X,B){const fe=i.get(X);if(X.isVideoTexture&&function ht(X){const B=o.render.frame;u.get(X)!==B&&(u.set(X,B),X.update())}(X),!1===X.isRenderTargetTexture&&X.version>0&&fe.__version!==X.version){const Pe=X.image;if(null===Pe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Pe.complete)return void Jt(fe,X,B);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,fe.__webglTexture,n.TEXTURE0+B)}const vt={[R6]:n.REPEAT,[Ta]:n.CLAMP_TO_EDGE,[D9]:n.MIRRORED_REPEAT},Nt={[T2]:n.NEAREST,[ZA]:n.NEAREST_MIPMAP_NEAREST,[Zu]:n.NEAREST_MIPMAP_LINEAR,[Us]:n.LINEAR,[R9]:n.LINEAR_MIPMAP_NEAREST,[cc]:n.LINEAR_MIPMAP_LINEAR},Xt={[Ktt]:n.NEVER,[ent]:n.ALWAYS,[Xtt]:n.LESS,[ate]:n.LEQUAL,[Ytt]:n.EQUAL,[Jtt]:n.GEQUAL,[Ztt]:n.GREATER,[Qtt]:n.NOTEQUAL};function Ln(X,B){if(B.type===$o&&!1===e.has("OES_texture_float_linear")&&(B.magFilter===Us||1007===B.magFilter||B.magFilter===Zu||B.magFilter===cc||B.minFilter===Us||1007===B.minFilter||B.minFilter===Zu||B.minFilter===cc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(X,n.TEXTURE_WRAP_S,vt[B.wrapS]),n.texParameteri(X,n.TEXTURE_WRAP_T,vt[B.wrapT]),(X===n.TEXTURE_3D||X===n.TEXTURE_2D_ARRAY)&&n.texParameteri(X,n.TEXTURE_WRAP_R,vt[B.wrapR]),n.texParameteri(X,n.TEXTURE_MAG_FILTER,Nt[B.magFilter]),n.texParameteri(X,n.TEXTURE_MIN_FILTER,Nt[B.minFilter]),B.compareFunction&&(n.texParameteri(X,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(X,n.TEXTURE_COMPARE_FUNC,Xt[B.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(B.magFilter===T2||B.minFilter!==Zu&&B.minFilter!==cc||B.type===$o&&!1===e.has("OES_texture_float_linear"))return;if(B.anisotropy>1||i.get(B).__currentAnisotropy){const fe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(X,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,s.getMaxAnisotropy())),i.get(B).__currentAnisotropy=B.anisotropy}}}function _n(X,B){let fe=!1;void 0===X.__webglInit&&(X.__webglInit=!0,B.addEventListener("dispose",F));const Pe=B.source;let je=h.get(Pe);void 0===je&&(je={},h.set(Pe,je));const xe=function me(X){const B=[];return B.push(X.wrapS),B.push(X.wrapT),B.push(X.wrapR||0),B.push(X.magFilter),B.push(X.minFilter),B.push(X.anisotropy),B.push(X.internalFormat),B.push(X.format),B.push(X.type),B.push(X.generateMipmaps),B.push(X.premultiplyAlpha),B.push(X.flipY),B.push(X.unpackAlignment),B.push(X.colorSpace),B.join()}(B);if(xe!==X.__cacheKey){void 0===je[xe]&&(je[xe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),je[xe].usedTimes++;const yn=je[X.__cacheKey];void 0!==yn&&(je[X.__cacheKey].usedTimes--,0===yn.usedTimes&&L(B)),X.__cacheKey=xe,X.__webglTexture=je[xe].texture}return fe}function De(X,B,fe){return Math.floor(Math.floor(X/fe)/B)}function Jt(X,B,fe){let Pe=n.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(Pe=n.TEXTURE_2D_ARRAY),B.isData3DTexture&&(Pe=n.TEXTURE_3D);const je=_n(X,B),xe=B.source;t.bindTexture(Pe,X.__webglTexture,n.TEXTURE0+fe);const yn=i.get(xe);if(xe.version!==yn.__version||!0===je){t.activeTexture(n.TEXTURE0+fe);const Ot=Y1.getPrimaries(Y1.workingColorSpace),vn=""===B.colorSpace?null:Y1.getPrimaries(B.colorSpace),En=""===B.colorSpace||Ot===vn?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,B.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,B.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,En);let ot=b(B.image,!1,s.maxTextureSize);ot=qt(B,ot);const an=r.convert(B.format,B.colorSpace),qn=r.convert(B.type);let Vt,Fn=T(B.internalFormat,an,qn,B.colorSpace,B.isVideoTexture);Ln(Pe,B);const o1=B.mipmaps,te=!0!==B.isVideoTexture,$t=void 0===yn.__version||!0===je,mt=xe.dataReady,rn=O(B,ot);if(B.isDepthTexture)Fn=S(B.format===U9,B.type),$t&&(te?t.texStorage2D(n.TEXTURE_2D,1,Fn,ot.width,ot.height):t.texImage2D(n.TEXTURE_2D,0,Fn,ot.width,ot.height,0,an,qn,null));else if(B.isDataTexture)if(o1.length>0){te&&$t&&t.texStorage2D(n.TEXTURE_2D,rn,Fn,o1[0].width,o1[0].height);for(let yt=0,Qe=o1.length;yt<Qe;yt++)Vt=o1[yt],te?mt&&t.texSubImage2D(n.TEXTURE_2D,yt,0,0,Vt.width,Vt.height,an,qn,Vt.data):t.texImage2D(n.TEXTURE_2D,yt,Fn,Vt.width,Vt.height,0,an,qn,Vt.data);B.generateMipmaps=!1}else te?($t&&t.texStorage2D(n.TEXTURE_2D,rn,Fn,ot.width,ot.height),mt&&function at(X,B,fe,Pe){const xe=X.updateRanges;if(0===xe.length)t.texSubImage2D(n.TEXTURE_2D,0,0,0,B.width,B.height,fe,Pe,B.data);else{xe.sort((ot,an)=>ot.start-an.start);let yn=0;for(let ot=1;ot<xe.length;ot++){const an=xe[yn],qn=xe[ot],Fn=an.start+an.count,Vt=De(qn.start,B.width,4),o1=De(an.start,B.width,4);qn.start<=Fn+1&&Vt===o1&&De(qn.start+qn.count-1,B.width,4)===Vt?an.count=Math.max(an.count,qn.start+qn.count-an.start):(++yn,xe[yn]=qn)}xe.length=yn+1;const Ot=n.getParameter(n.UNPACK_ROW_LENGTH),vn=n.getParameter(n.UNPACK_SKIP_PIXELS),En=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,B.width);for(let ot=0,an=xe.length;ot<an;ot++){const qn=xe[ot],Fn=Math.floor(qn.start/4),Vt=Math.ceil(qn.count/4),o1=Fn%B.width,te=Math.floor(Fn/B.width),$t=Vt,mt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,o1),n.pixelStorei(n.UNPACK_SKIP_ROWS,te),t.texSubImage2D(n.TEXTURE_2D,0,o1,te,$t,mt,fe,Pe,B.data)}X.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Ot),n.pixelStorei(n.UNPACK_SKIP_PIXELS,vn),n.pixelStorei(n.UNPACK_SKIP_ROWS,En)}}(B,ot,an,qn)):t.texImage2D(n.TEXTURE_2D,0,Fn,ot.width,ot.height,0,an,qn,ot.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){te&&$t&&t.texStorage3D(n.TEXTURE_2D_ARRAY,rn,Fn,o1[0].width,o1[0].height,ot.depth);for(let yt=0,Qe=o1.length;yt<Qe;yt++)if(Vt=o1[yt],B.format!==ho)if(null!==an)if(te){if(mt)if(B.layerUpdates.size>0){const on=ez(Vt.width,Vt.height,B.format,B.type);for(const a1 of B.layerUpdates){const vi=Vt.data.subarray(a1*on/Vt.data.BYTES_PER_ELEMENT,(a1+1)*on/Vt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,yt,0,0,a1,Vt.width,Vt.height,1,an,vi)}B.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,yt,0,0,0,Vt.width,Vt.height,ot.depth,an,Vt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,yt,Fn,Vt.width,Vt.height,ot.depth,0,Vt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else te?mt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,yt,0,0,0,Vt.width,Vt.height,ot.depth,an,qn,Vt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,yt,Fn,Vt.width,Vt.height,ot.depth,0,an,qn,Vt.data)}else{te&&$t&&t.texStorage2D(n.TEXTURE_2D,rn,Fn,o1[0].width,o1[0].height);for(let yt=0,Qe=o1.length;yt<Qe;yt++)Vt=o1[yt],B.format!==ho?null!==an?te?mt&&t.compressedTexSubImage2D(n.TEXTURE_2D,yt,0,0,Vt.width,Vt.height,an,Vt.data):t.compressedTexImage2D(n.TEXTURE_2D,yt,Fn,Vt.width,Vt.height,0,Vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):te?mt&&t.texSubImage2D(n.TEXTURE_2D,yt,0,0,Vt.width,Vt.height,an,qn,Vt.data):t.texImage2D(n.TEXTURE_2D,yt,Fn,Vt.width,Vt.height,0,an,qn,Vt.data)}else if(B.isDataArrayTexture)if(te){if($t&&t.texStorage3D(n.TEXTURE_2D_ARRAY,rn,Fn,ot.width,ot.height,ot.depth),mt)if(B.layerUpdates.size>0){const yt=ez(ot.width,ot.height,B.format,B.type);for(const Qe of B.layerUpdates){const on=ot.data.subarray(Qe*yt/ot.data.BYTES_PER_ELEMENT,(Qe+1)*yt/ot.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Qe,ot.width,ot.height,1,an,qn,on)}B.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ot.width,ot.height,ot.depth,an,qn,ot.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Fn,ot.width,ot.height,ot.depth,0,an,qn,ot.data);else if(B.isData3DTexture)te?($t&&t.texStorage3D(n.TEXTURE_3D,rn,Fn,ot.width,ot.height,ot.depth),mt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ot.width,ot.height,ot.depth,an,qn,ot.data)):t.texImage3D(n.TEXTURE_3D,0,Fn,ot.width,ot.height,ot.depth,0,an,qn,ot.data);else if(B.isFramebufferTexture){if($t)if(te)t.texStorage2D(n.TEXTURE_2D,rn,Fn,ot.width,ot.height);else{let yt=ot.width,Qe=ot.height;for(let on=0;on<rn;on++)t.texImage2D(n.TEXTURE_2D,on,Fn,yt,Qe,0,an,qn,null),yt>>=1,Qe>>=1}}else if(o1.length>0){if(te&&$t){const yt=Qn(o1[0]);t.texStorage2D(n.TEXTURE_2D,rn,Fn,yt.width,yt.height)}for(let yt=0,Qe=o1.length;yt<Qe;yt++)Vt=o1[yt],te?mt&&t.texSubImage2D(n.TEXTURE_2D,yt,0,0,an,qn,Vt):t.texImage2D(n.TEXTURE_2D,yt,Fn,an,qn,Vt);B.generateMipmaps=!1}else if(te){if($t){const yt=Qn(ot);t.texStorage2D(n.TEXTURE_2D,rn,Fn,yt.width,yt.height)}mt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,an,qn,ot)}else t.texImage2D(n.TEXTURE_2D,0,Fn,an,qn,ot);v(B)&&M(Pe),yn.__version=xe.version,B.onUpdate&&B.onUpdate(B)}X.__version=B.version}function Yt(X,B,fe,Pe,je,xe){const yn=r.convert(fe.format,fe.colorSpace),Ot=r.convert(fe.type),vn=T(fe.internalFormat,yn,Ot,fe.colorSpace),En=i.get(B),ot=i.get(fe);if(ot.__renderTarget=B,!En.__hasExternalTextures){const an=Math.max(1,B.width>>xe),qn=Math.max(1,B.height>>xe);je===n.TEXTURE_3D||je===n.TEXTURE_2D_ARRAY?t.texImage3D(je,xe,vn,an,qn,B.depth,0,yn,Ot,null):t.texImage2D(je,xe,vn,an,qn,0,yn,Ot,null)}t.bindFramebuffer(n.FRAMEBUFFER,X),tn(B)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Pe,je,ot.__webglTexture,0,qe(B)):(je===n.TEXTURE_2D||je>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&je<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Pe,je,ot.__webglTexture,xe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Yn(X,B,fe){if(n.bindRenderbuffer(n.RENDERBUFFER,X),B.depthBuffer){const Pe=B.depthTexture,xe=S(B.stencilBuffer,Pe&&Pe.isDepthTexture?Pe.type:null),yn=B.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ot=qe(B);tn(B)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ot,xe,B.width,B.height):fe?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ot,xe,B.width,B.height):n.renderbufferStorage(n.RENDERBUFFER,xe,B.width,B.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,yn,n.RENDERBUFFER,X)}else{const Pe=B.textures;for(let je=0;je<Pe.length;je++){const xe=Pe[je],yn=r.convert(xe.format,xe.colorSpace),Ot=r.convert(xe.type),vn=T(xe.internalFormat,yn,Ot,xe.colorSpace),En=qe(B);fe&&!1===tn(B)?n.renderbufferStorageMultisample(n.RENDERBUFFER,En,vn,B.width,B.height):tn(B)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,En,vn,B.width,B.height):n.renderbufferStorage(n.RENDERBUFFER,vn,B.width,B.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function D1(X){const B=i.get(X),fe=!0===X.isWebGLCubeRenderTarget;if(B.__boundDepthTexture!==X.depthTexture){const Pe=X.depthTexture;if(B.__depthDisposeCallback&&B.__depthDisposeCallback(),Pe){const je=()=>{delete B.__boundDepthTexture,delete B.__depthDisposeCallback,Pe.removeEventListener("dispose",je)};Pe.addEventListener("dispose",je),B.__depthDisposeCallback=je}B.__boundDepthTexture=Pe}if(X.depthTexture&&!B.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");const Pe=X.texture.mipmaps;!function sn(X,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,X),!B.depthTexture||!B.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Pe=i.get(B.depthTexture);Pe.__renderTarget=B,(!Pe.__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),ze(B.depthTexture,0);const je=Pe.__webglTexture,xe=qe(B);if(B.depthTexture.format===V9)tn(B)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,je,0,xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,je,0);else{if(B.depthTexture.format!==U9)throw new Error("Unknown depthTexture format");tn(B)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,je,0,xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,je,0)}}(Pe&&Pe.length>0?B.__webglFramebuffer[0]:B.__webglFramebuffer,X)}else if(fe){B.__webglDepthbuffer=[];for(let Pe=0;Pe<6;Pe++)if(t.bindFramebuffer(n.FRAMEBUFFER,B.__webglFramebuffer[Pe]),void 0===B.__webglDepthbuffer[Pe])B.__webglDepthbuffer[Pe]=n.createRenderbuffer(),Yn(B.__webglDepthbuffer[Pe],X,!1);else{const je=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,xe=B.__webglDepthbuffer[Pe];n.bindRenderbuffer(n.RENDERBUFFER,xe),n.framebufferRenderbuffer(n.FRAMEBUFFER,je,n.RENDERBUFFER,xe)}}else{const Pe=X.texture.mipmaps;if(t.bindFramebuffer(n.FRAMEBUFFER,Pe&&Pe.length>0?B.__webglFramebuffer[0]:B.__webglFramebuffer),void 0===B.__webglDepthbuffer)B.__webglDepthbuffer=n.createRenderbuffer(),Yn(B.__webglDepthbuffer,X,!1);else{const je=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,xe=B.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,xe),n.framebufferRenderbuffer(n.FRAMEBUFFER,je,n.RENDERBUFFER,xe)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}const wt=[],ft=[];function qe(X){return Math.min(s.maxSamples,X.samples)}function tn(X){const B=i.get(X);return X.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==B.__useRenderToTexture}function qt(X,B){const fe=X.colorSpace,Pe=X.format,je=X.type;return!0===X.isCompressedTexture||!0===X.isVideoTexture||fe!==Br&&""!==fe&&(Y1.getTransfer(fe)===Ti?(Pe!==ho||je!==Zc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),B}function Qn(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(l.width=X.naturalWidth||X.width,l.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(l.width=X.displayWidth,l.height=X.displayHeight):(l.width=X.width,l.height=X.height),l}this.allocateTextureUnit=function U(){const X=k;return X>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+s.maxTextures),k+=1,X},this.resetTextureUnits=function G(){k=0},this.setTexture2D=ze,this.setTexture2DArray=function _e(X,B){const fe=i.get(X);X.version>0&&fe.__version!==X.version?Jt(fe,X,B):t.bindTexture(n.TEXTURE_2D_ARRAY,fe.__webglTexture,n.TEXTURE0+B)},this.setTexture3D=function Xe(X,B){const fe=i.get(X);X.version>0&&fe.__version!==X.version?Jt(fe,X,B):t.bindTexture(n.TEXTURE_3D,fe.__webglTexture,n.TEXTURE0+B)},this.setTextureCube=function we(X,B){const fe=i.get(X);X.version>0&&fe.__version!==X.version?function Et(X,B,fe){if(6!==B.image.length)return;const Pe=_n(X,B),je=B.source;t.bindTexture(n.TEXTURE_CUBE_MAP,X.__webglTexture,n.TEXTURE0+fe);const xe=i.get(je);if(je.version!==xe.__version||!0===Pe){t.activeTexture(n.TEXTURE0+fe);const yn=Y1.getPrimaries(Y1.workingColorSpace),Ot=""===B.colorSpace?null:Y1.getPrimaries(B.colorSpace),vn=""===B.colorSpace||yn===Ot?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,B.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,B.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,vn);const En=B.isCompressedTexture||B.image[0].isCompressedTexture,ot=B.image[0]&&B.image[0].isDataTexture,an=[];for(let Qe=0;Qe<6;Qe++)an[Qe]=En||ot?ot?B.image[Qe].image:B.image[Qe]:b(B.image[Qe],!0,s.maxCubemapSize),an[Qe]=qt(B,an[Qe]);const qn=an[0],Fn=r.convert(B.format,B.colorSpace),Vt=r.convert(B.type),o1=T(B.internalFormat,Fn,Vt,B.colorSpace),te=!0!==B.isVideoTexture,$t=void 0===xe.__version||!0===Pe,mt=je.dataReady;let yt,rn=O(B,qn);if(Ln(n.TEXTURE_CUBE_MAP,B),En){te&&$t&&t.texStorage2D(n.TEXTURE_CUBE_MAP,rn,o1,qn.width,qn.height);for(let Qe=0;Qe<6;Qe++){yt=an[Qe].mipmaps;for(let on=0;on<yt.length;on++){const a1=yt[on];B.format!==ho?null!==Fn?te?mt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,on,0,0,a1.width,a1.height,Fn,a1.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,on,o1,a1.width,a1.height,0,a1.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):te?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,on,0,0,a1.width,a1.height,Fn,Vt,a1.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,on,o1,a1.width,a1.height,0,Fn,Vt,a1.data)}}}else{if(yt=B.mipmaps,te&&$t){yt.length>0&&rn++;const Qe=Qn(an[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,rn,o1,Qe.width,Qe.height)}for(let Qe=0;Qe<6;Qe++)if(ot){te?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,an[Qe].width,an[Qe].height,Fn,Vt,an[Qe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,o1,an[Qe].width,an[Qe].height,0,Fn,Vt,an[Qe].data);for(let on=0;on<yt.length;on++){const vi=yt[on].image[Qe].image;te?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,on+1,0,0,vi.width,vi.height,Fn,Vt,vi.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,on+1,o1,vi.width,vi.height,0,Fn,Vt,vi.data)}}else{te?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,Fn,Vt,an[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,o1,Fn,Vt,an[Qe]);for(let on=0;on<yt.length;on++){const a1=yt[on];te?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,on+1,0,0,Fn,Vt,a1.image[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,on+1,o1,Fn,Vt,a1.image[Qe])}}}v(B)&&M(n.TEXTURE_CUBE_MAP),xe.__version=je.version,B.onUpdate&&B.onUpdate(B)}X.__version=B.version}(fe,X,B):t.bindTexture(n.TEXTURE_CUBE_MAP,fe.__webglTexture,n.TEXTURE0+B)},this.rebindTextures=function z1(X,B,fe){const Pe=i.get(X);void 0!==B&&Yt(Pe.__webglFramebuffer,X,X.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==fe&&D1(X)},this.setupRenderTarget=function e1(X){const B=X.texture,fe=i.get(X),Pe=i.get(B);X.addEventListener("dispose",N);const je=X.textures,xe=!0===X.isWebGLCubeRenderTarget,yn=je.length>1;if(yn||(void 0===Pe.__webglTexture&&(Pe.__webglTexture=n.createTexture()),Pe.__version=B.version,o.memory.textures++),xe){fe.__webglFramebuffer=[];for(let Ot=0;Ot<6;Ot++)if(B.mipmaps&&B.mipmaps.length>0){fe.__webglFramebuffer[Ot]=[];for(let vn=0;vn<B.mipmaps.length;vn++)fe.__webglFramebuffer[Ot][vn]=n.createFramebuffer()}else fe.__webglFramebuffer[Ot]=n.createFramebuffer()}else{if(B.mipmaps&&B.mipmaps.length>0){fe.__webglFramebuffer=[];for(let Ot=0;Ot<B.mipmaps.length;Ot++)fe.__webglFramebuffer[Ot]=n.createFramebuffer()}else fe.__webglFramebuffer=n.createFramebuffer();if(yn)for(let Ot=0,vn=je.length;Ot<vn;Ot++){const En=i.get(je[Ot]);void 0===En.__webglTexture&&(En.__webglTexture=n.createTexture(),o.memory.textures++)}if(X.samples>0&&!1===tn(X)){fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let Ot=0;Ot<je.length;Ot++){const vn=je[Ot];fe.__webglColorRenderbuffer[Ot]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,fe.__webglColorRenderbuffer[Ot]);const En=r.convert(vn.format,vn.colorSpace),ot=r.convert(vn.type),an=T(vn.internalFormat,En,ot,vn.colorSpace,!0===X.isXRRenderTarget),qn=qe(X);n.renderbufferStorageMultisample(n.RENDERBUFFER,qn,an,X.width,X.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.RENDERBUFFER,fe.__webglColorRenderbuffer[Ot])}n.bindRenderbuffer(n.RENDERBUFFER,null),X.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),Yn(fe.__webglDepthRenderbuffer,X,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(xe){t.bindTexture(n.TEXTURE_CUBE_MAP,Pe.__webglTexture),Ln(n.TEXTURE_CUBE_MAP,B);for(let Ot=0;Ot<6;Ot++)if(B.mipmaps&&B.mipmaps.length>0)for(let vn=0;vn<B.mipmaps.length;vn++)Yt(fe.__webglFramebuffer[Ot][vn],X,B,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,vn);else Yt(fe.__webglFramebuffer[Ot],X,B,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,0);v(B)&&M(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(yn){for(let Ot=0,vn=je.length;Ot<vn;Ot++){const En=je[Ot],ot=i.get(En);t.bindTexture(n.TEXTURE_2D,ot.__webglTexture),Ln(n.TEXTURE_2D,En),Yt(fe.__webglFramebuffer,X,En,n.COLOR_ATTACHMENT0+Ot,n.TEXTURE_2D,0),v(En)&&M(n.TEXTURE_2D)}t.unbindTexture()}else{let Ot=n.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(Ot=X.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ot,Pe.__webglTexture),Ln(Ot,B),B.mipmaps&&B.mipmaps.length>0)for(let vn=0;vn<B.mipmaps.length;vn++)Yt(fe.__webglFramebuffer[vn],X,B,n.COLOR_ATTACHMENT0,Ot,vn);else Yt(fe.__webglFramebuffer,X,B,n.COLOR_ATTACHMENT0,Ot,0);v(B)&&M(Ot),t.unbindTexture()}X.depthBuffer&&D1(X)},this.updateRenderTargetMipmap=function q(X){const B=X.textures;for(let fe=0,Pe=B.length;fe<Pe;fe++){const je=B[fe];if(v(je)){const xe=E(X),yn=i.get(je).__webglTexture;t.bindTexture(xe,yn),M(xe),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Tt(X){if(X.samples>0)if(!1===tn(X)){const B=X.textures,fe=X.width,Pe=X.height;let je=n.COLOR_BUFFER_BIT;const xe=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,yn=i.get(X),Ot=B.length>1;if(Ot)for(let En=0;En<B.length;En++)t.bindFramebuffer(n.FRAMEBUFFER,yn.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+En,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,yn.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+En,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,yn.__webglMultisampledFramebuffer);const vn=X.texture.mipmaps;t.bindFramebuffer(n.DRAW_FRAMEBUFFER,vn&&vn.length>0?yn.__webglFramebuffer[0]:yn.__webglFramebuffer);for(let En=0;En<B.length;En++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(je|=n.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(je|=n.STENCIL_BUFFER_BIT)),Ot){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,yn.__webglColorRenderbuffer[En]);const ot=i.get(B[En]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ot,0)}n.blitFramebuffer(0,0,fe,Pe,0,0,fe,Pe,je,n.NEAREST),!0===c&&(wt.length=0,ft.length=0,wt.push(n.COLOR_ATTACHMENT0+En),X.depthBuffer&&!1===X.resolveDepthBuffer&&(wt.push(xe),ft.push(xe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ft)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,wt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ot)for(let En=0;En<B.length;En++){t.bindFramebuffer(n.FRAMEBUFFER,yn.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+En,n.RENDERBUFFER,yn.__webglColorRenderbuffer[En]);const ot=i.get(B[En]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,yn.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+En,n.TEXTURE_2D,ot,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,yn.__webglMultisampledFramebuffer)}else X.depthBuffer&&!1===X.resolveDepthBuffer&&c&&n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=D1,this.setupFrameBufferTexture=Yt,this.useMultisampledRTT=tn}function Not(n,e){return{convert:function t(i,s=""){let r;const o=Y1.getTransfer(s);if(i===Zc)return n.UNSIGNED_BYTE;if(i===JA)return n.UNSIGNED_SHORT_4_4_4_4;if(i===eL)return n.UNSIGNED_SHORT_5_5_5_1;if(i===Jee)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===Zee)return n.BYTE;if(i===Qee)return n.SHORT;if(i===O9)return n.UNSIGNED_SHORT;if(i===QA)return n.INT;if(i===z4)return n.UNSIGNED_INT;if(i===$o)return n.FLOAT;if(i===k9)return n.HALF_FLOAT;if(i===ete)return n.ALPHA;if(i===tte)return n.RGB;if(i===ho)return n.RGBA;if(i===V9)return n.DEPTH_COMPONENT;if(i===U9)return n.DEPTH_STENCIL;if(i===tL)return n.RED;if(i===Iv)return n.RED_INTEGER;if(i===nte)return n.RG;if(i===nL)return n.RG_INTEGER;if(i===iL)return n.RGBA_INTEGER;if(i===zv||i===Pv||i===Nv||i===Dv)if(o===Ti){if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(i===zv)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Pv)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Nv)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Dv)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=e.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(i===zv)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Pv)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Nv)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Dv)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(i===sL||i===rL||i===oL||i===aL){if(r=e.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(i===sL)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===rL)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===oL)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===aL)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===cL||i===lL||i===uL){if(r=e.get("WEBGL_compressed_texture_etc"),null===r)return null;if(i===cL||i===lL)return o===Ti?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===uL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(i===dL||i===fL||i===hL||i===pL||i===mL||i===gL||i===_L||i===yL||i===vL||i===ML||i===CL||i===bL||i===xL||i===EL){if(r=e.get("WEBGL_compressed_texture_astc"),null===r)return null;if(i===dL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===fL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===hL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===pL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===mL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===gL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===_L)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===yL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===vL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===ML)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===CL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===bL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===xL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===EL)return o===Ti?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(i===Rv||i===wL||i===TL){if(r=e.get("EXT_texture_compression_bptc"),null===r)return null;if(i===Rv)return o===Ti?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===wL)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===TL)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(i===ite||i===SL||i===AL||i===LL){if(r=e.get("EXT_texture_compression_rgtc"),null===r)return null;if(i===Rv)return r.COMPRESSED_RED_RGTC1_EXT;if(i===SL)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===AL)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===LL)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return i===F9?n.UNSIGNED_INT_24_8:void 0!==n[i]?n[i]:null}}}class Oot{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(null===this.texture){const s=new hr;e.properties.get(s).__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=s}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,i=new Qc({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new e2(new dp(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class kot extends r0{constructor(e,t){super();const i=this;let s=null,r=1,o=null,a="local-floor",c=1,l=null,u=null,d=null,h=null,m=null,_=null;const b=new Oot,v=t.getContextAttributes();let M=null,E=null;const T=[],S=[],O=new it;let F=null;const N=new I2;N.viewport=new ai;const z=new I2;z.viewport=new ai;const L=[N,z],I=new yit;let k=null,G=null;function U(De){const at=S.indexOf(De.inputSource);if(-1===at)return;const Jt=T[at];void 0!==Jt&&(Jt.update(De.inputSource,De.frame,l||o),Jt.dispatchEvent({type:De.type,data:De.inputSource}))}function me(){s.removeEventListener("select",U),s.removeEventListener("selectstart",U),s.removeEventListener("selectend",U),s.removeEventListener("squeeze",U),s.removeEventListener("squeezestart",U),s.removeEventListener("squeezeend",U),s.removeEventListener("end",me),s.removeEventListener("inputsourceschange",ze);for(let De=0;De<T.length;De++){const at=S[De];null!==at&&(S[De]=null,T[De].disconnect(at))}k=null,G=null,b.reset(),e.setRenderTarget(M),m=null,h=null,d=null,s=null,E=null,_n.stop(),i.isPresenting=!1,e.setPixelRatio(F),e.setSize(O.width,O.height,!1),i.dispatchEvent({type:"sessionend"})}function ze(De){for(let at=0;at<De.removed.length;at++){const Jt=De.removed[at],Et=S.indexOf(Jt);Et>=0&&(S[Et]=null,T[Et].disconnect(Jt))}for(let at=0;at<De.added.length;at++){const Jt=De.added[at];let Et=S.indexOf(Jt);if(-1===Et){for(let Yn=0;Yn<T.length;Yn++){if(Yn>=S.length){S.push(Jt),Et=Yn;break}if(null===S[Yn]){S[Yn]=Jt,Et=Yn;break}}if(-1===Et)break}const Yt=T[Et];Yt&&Yt.connect(Jt)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(De){let at=T[De];return void 0===at&&(at=new sI,T[De]=at),at.getTargetRaySpace()},this.getControllerGrip=function(De){let at=T[De];return void 0===at&&(at=new sI,T[De]=at),at.getGripSpace()},this.getHand=function(De){let at=T[De];return void 0===at&&(at=new sI,T[De]=at),at.getHandSpace()},this.setFramebufferScaleFactor=function(De){r=De,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(De){a=De,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(De){l=De},this.getBaseLayer=function(){return null!==h?h:m},this.getBinding=function(){return d},this.getFrame=function(){return _},this.getSession=function(){return s},this.setSession=function(){var De=(0,Ne.A)(function*(at){if(s=at,null!==s){if(M=e.getRenderTarget(),s.addEventListener("select",U),s.addEventListener("selectstart",U),s.addEventListener("selectend",U),s.addEventListener("squeeze",U),s.addEventListener("squeezestart",U),s.addEventListener("squeezeend",U),s.addEventListener("end",me),s.addEventListener("inputsourceschange",ze),!0!==v.xrCompatible&&(yield t.makeXRCompatible()),F=e.getPixelRatio(),e.getSize(O),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Et=null,Yt=null,Yn=null;v.depth&&(Yn=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Et=v.stencil?U9:V9,Yt=v.stencil?F9:z4);const sn={colorFormat:t.RGBA8,depthFormat:Yn,scaleFactor:r};d=new XRWebGLBinding(s,t),h=d.createProjectionLayer(sn),s.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),E=new a0(h.textureWidth,h.textureHeight,{format:ho,type:Zc,depthTexture:new rne(h.textureWidth,h.textureHeight,Yt,void 0,void 0,void 0,void 0,void 0,void 0,Et),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}else m=new XRWebGLLayer(s,t,{antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:r}),s.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),E=new a0(m.framebufferWidth,m.framebufferHeight,{format:ho,type:Zc,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:!1===m.ignoreDepthValues,resolveStencilBuffer:!1===m.ignoreDepthValues});E.isXRRenderTarget=!0,this.setFoveation(c),l=null,o=yield s.requestReferenceSpace(a),_n.setContext(s),_n.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(at){return De.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==s)return s.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};const _e=new K,Xe=new K;function vt(De,at){null===at?De.matrixWorld.copy(De.matrix):De.matrixWorld.multiplyMatrices(at.matrixWorld,De.matrix),De.matrixWorldInverse.copy(De.matrixWorld).invert()}this.updateCamera=function(De){if(null===s)return;let at=De.near,Jt=De.far;null!==b.texture&&(b.depthNear>0&&(at=b.depthNear),b.depthFar>0&&(Jt=b.depthFar)),I.near=z.near=N.near=at,I.far=z.far=N.far=Jt,(k!==I.near||G!==I.far)&&(s.updateRenderState({depthNear:I.near,depthFar:I.far}),k=I.near,G=I.far),N.layers.mask=2|De.layers.mask,z.layers.mask=4|De.layers.mask,I.layers.mask=N.layers.mask|z.layers.mask;const Et=De.parent,Yt=I.cameras;vt(I,Et);for(let Yn=0;Yn<Yt.length;Yn++)vt(Yt[Yn],Et);2===Yt.length?function we(De,at,Jt){_e.setFromMatrixPosition(at.matrixWorld),Xe.setFromMatrixPosition(Jt.matrixWorld);const Et=_e.distanceTo(Xe),Yt=at.projectionMatrix.elements,Yn=Jt.projectionMatrix.elements,sn=Yt[14]/(Yt[10]-1),D1=Yt[14]/(Yt[10]+1),z1=(Yt[9]+1)/Yt[5],e1=(Yt[9]-1)/Yt[5],q=(Yt[8]-1)/Yt[0],wt=(Yn[8]+1)/Yn[0],ft=sn*q,Tt=sn*wt,qe=Et/(-q+wt),tn=qe*-q;if(at.matrixWorld.decompose(De.position,De.quaternion,De.scale),De.translateX(tn),De.translateZ(qe),De.matrixWorld.compose(De.position,De.quaternion,De.scale),De.matrixWorldInverse.copy(De.matrixWorld).invert(),-1===Yt[10])De.projectionMatrix.copy(at.projectionMatrix),De.projectionMatrixInverse.copy(at.projectionMatrixInverse);else{const ht=sn+qe,qt=D1+qe;De.projectionMatrix.makePerspective(ft-tn,Tt+(Et-tn),z1*D1/qt*ht,e1*D1/qt*ht,ht,qt),De.projectionMatrixInverse.copy(De.projectionMatrix).invert()}}(I,N,z):I.projectionMatrix.copy(N.projectionMatrix),function Nt(De,at,Jt){null===Jt?De.matrix.copy(at.matrixWorld):(De.matrix.copy(Jt.matrixWorld),De.matrix.invert(),De.matrix.multiply(at.matrixWorld)),De.matrix.decompose(De.position,De.quaternion,De.scale),De.updateMatrixWorld(!0),De.projectionMatrix.copy(at.projectionMatrix),De.projectionMatrixInverse.copy(at.projectionMatrixInverse),De.isPerspectiveCamera&&(De.fov=2*td*Math.atan(1/De.projectionMatrix.elements[5]),De.zoom=1)}(De,I,Et)},this.getCamera=function(){return I},this.getFoveation=function(){if(null!==h||null!==m)return c},this.setFoveation=function(De){c=De,null!==h&&(h.fixedFoveation=De),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=De)},this.hasDepthSensing=function(){return null!==b.texture},this.getDepthSensingMesh=function(){return b.getMesh(I)};let Xt=null;const _n=new e1e;_n.setAnimationLoop(function Ln(De,at){if(u=at.getViewerPose(l||o),_=at,null!==u){const Jt=u.views;null!==m&&(e.setRenderTargetFramebuffer(E,m.framebuffer),e.setRenderTarget(E));let Et=!1;Jt.length!==I.cameras.length&&(I.cameras.length=0,Et=!0);for(let sn=0;sn<Jt.length;sn++){const D1=Jt[sn];let z1=null;if(null!==m)z1=m.getViewport(D1);else{const q=d.getViewSubImage(h,D1);z1=q.viewport,0===sn&&(e.setRenderTargetTextures(E,q.colorTexture,q.depthStencilTexture),e.setRenderTarget(E))}let e1=L[sn];void 0===e1&&(e1=new I2,e1.layers.enable(sn),e1.viewport=new ai,L[sn]=e1),e1.matrix.fromArray(D1.transform.matrix),e1.matrix.decompose(e1.position,e1.quaternion,e1.scale),e1.projectionMatrix.fromArray(D1.projectionMatrix),e1.projectionMatrixInverse.copy(e1.projectionMatrix).invert(),e1.viewport.set(z1.x,z1.y,z1.width,z1.height),0===sn&&(I.matrix.copy(e1.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),!0===Et&&I.cameras.push(e1)}const Yt=s.enabledFeatures;if(Yt&&Yt.includes("depth-sensing")&&"gpu-optimized"==s.depthUsage&&d){const sn=d.getDepthInformation(Jt[0]);sn&&sn.isValid&&sn.texture&&b.init(e,sn,s.renderState)}}for(let Jt=0;Jt<T.length;Jt++){const Et=S[Jt],Yt=T[Jt];null!==Et&&void 0!==Yt&&Yt.update(Et,at,l||o)}Xt&&Xt(De,at),at.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:at}),_=null}),this.setAnimationLoop=function(De){Xt=De},this.dispose=function(){}}}const a8=new u0,Fot=new Gn;function Vot(n,e){function t(v,M){!0===v.matrixAutoUpdate&&v.updateMatrix(),M.value.copy(v.matrix)}function r(v,M){v.opacity.value=M.opacity,M.color&&v.diffuse.value.copy(M.color),M.emissive&&v.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(v.map.value=M.map,t(M.map,v.mapTransform)),M.alphaMap&&(v.alphaMap.value=M.alphaMap,t(M.alphaMap,v.alphaMapTransform)),M.bumpMap&&(v.bumpMap.value=M.bumpMap,t(M.bumpMap,v.bumpMapTransform),v.bumpScale.value=M.bumpScale,1===M.side&&(v.bumpScale.value*=-1)),M.normalMap&&(v.normalMap.value=M.normalMap,t(M.normalMap,v.normalMapTransform),v.normalScale.value.copy(M.normalScale),1===M.side&&v.normalScale.value.negate()),M.displacementMap&&(v.displacementMap.value=M.displacementMap,t(M.displacementMap,v.displacementMapTransform),v.displacementScale.value=M.displacementScale,v.displacementBias.value=M.displacementBias),M.emissiveMap&&(v.emissiveMap.value=M.emissiveMap,t(M.emissiveMap,v.emissiveMapTransform)),M.specularMap&&(v.specularMap.value=M.specularMap,t(M.specularMap,v.specularMapTransform)),M.alphaTest>0&&(v.alphaTest.value=M.alphaTest);const E=e.get(M),T=E.envMap,S=E.envMapRotation;T&&(v.envMap.value=T,a8.copy(S),a8.x*=-1,a8.y*=-1,a8.z*=-1,T.isCubeTexture&&!1===T.isRenderTargetTexture&&(a8.y*=-1,a8.z*=-1),v.envMapRotation.value.setFromMatrix4(Fot.makeRotationFromEuler(a8)),v.flipEnvMap.value=T.isCubeTexture&&!1===T.isRenderTargetTexture?-1:1,v.reflectivity.value=M.reflectivity,v.ior.value=M.ior,v.refractionRatio.value=M.refractionRatio),M.lightMap&&(v.lightMap.value=M.lightMap,v.lightMapIntensity.value=M.lightMapIntensity,t(M.lightMap,v.lightMapTransform)),M.aoMap&&(v.aoMap.value=M.aoMap,v.aoMapIntensity.value=M.aoMapIntensity,t(M.aoMap,v.aoMapTransform))}return{refreshFogUniforms:function i(v,M){M.color.getRGB(v.fogColor.value,Ite(n)),M.isFog?(v.fogNear.value=M.near,v.fogFar.value=M.far):M.isFogExp2&&(v.fogDensity.value=M.density)},refreshMaterialUniforms:function s(v,M,E,T,S){M.isMeshBasicMaterial||M.isMeshLambertMaterial?r(v,M):M.isMeshToonMaterial?(r(v,M),function d(v,M){M.gradientMap&&(v.gradientMap.value=M.gradientMap)}(v,M)):M.isMeshPhongMaterial?(r(v,M),function u(v,M){v.specular.value.copy(M.specular),v.shininess.value=Math.max(M.shininess,1e-4)}(v,M)):M.isMeshStandardMaterial?(r(v,M),function h(v,M){v.metalness.value=M.metalness,M.metalnessMap&&(v.metalnessMap.value=M.metalnessMap,t(M.metalnessMap,v.metalnessMapTransform)),v.roughness.value=M.roughness,M.roughnessMap&&(v.roughnessMap.value=M.roughnessMap,t(M.roughnessMap,v.roughnessMapTransform)),M.envMap&&(v.envMapIntensity.value=M.envMapIntensity)}(v,M),M.isMeshPhysicalMaterial&&function m(v,M,E){v.ior.value=M.ior,M.sheen>0&&(v.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),v.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(v.sheenColorMap.value=M.sheenColorMap,t(M.sheenColorMap,v.sheenColorMapTransform)),M.sheenRoughnessMap&&(v.sheenRoughnessMap.value=M.sheenRoughnessMap,t(M.sheenRoughnessMap,v.sheenRoughnessMapTransform))),M.clearcoat>0&&(v.clearcoat.value=M.clearcoat,v.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(v.clearcoatMap.value=M.clearcoatMap,t(M.clearcoatMap,v.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,t(M.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(v.clearcoatNormalMap.value=M.clearcoatNormalMap,t(M.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),1===M.side&&v.clearcoatNormalScale.value.negate())),M.dispersion>0&&(v.dispersion.value=M.dispersion),M.iridescence>0&&(v.iridescence.value=M.iridescence,v.iridescenceIOR.value=M.iridescenceIOR,v.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(v.iridescenceMap.value=M.iridescenceMap,t(M.iridescenceMap,v.iridescenceMapTransform)),M.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=M.iridescenceThicknessMap,t(M.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),M.transmission>0&&(v.transmission.value=M.transmission,v.transmissionSamplerMap.value=E.texture,v.transmissionSamplerSize.value.set(E.width,E.height),M.transmissionMap&&(v.transmissionMap.value=M.transmissionMap,t(M.transmissionMap,v.transmissionMapTransform)),v.thickness.value=M.thickness,M.thicknessMap&&(v.thicknessMap.value=M.thicknessMap,t(M.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=M.attenuationDistance,v.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(v.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(v.anisotropyMap.value=M.anisotropyMap,t(M.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=M.specularIntensity,v.specularColor.value.copy(M.specularColor),M.specularColorMap&&(v.specularColorMap.value=M.specularColorMap,t(M.specularColorMap,v.specularColorMapTransform)),M.specularIntensityMap&&(v.specularIntensityMap.value=M.specularIntensityMap,t(M.specularIntensityMap,v.specularIntensityMapTransform))}(v,M,S)):M.isMeshMatcapMaterial?(r(v,M),function _(v,M){M.matcap&&(v.matcap.value=M.matcap)}(v,M)):M.isMeshDepthMaterial?r(v,M):M.isMeshDistanceMaterial?(r(v,M),function b(v,M){const E=e.get(M).light;v.referencePosition.value.setFromMatrixPosition(E.matrixWorld),v.nearDistance.value=E.shadow.camera.near,v.farDistance.value=E.shadow.camera.far}(v,M)):M.isMeshNormalMaterial?r(v,M):M.isLineBasicMaterial?(function o(v,M){v.diffuse.value.copy(M.color),v.opacity.value=M.opacity,M.map&&(v.map.value=M.map,t(M.map,v.mapTransform))}(v,M),M.isLineDashedMaterial&&function a(v,M){v.dashSize.value=M.dashSize,v.totalSize.value=M.dashSize+M.gapSize,v.scale.value=M.scale}(v,M)):M.isPointsMaterial?function c(v,M,E,T){v.diffuse.value.copy(M.color),v.opacity.value=M.opacity,v.size.value=M.size*E,v.scale.value=.5*T,M.map&&(v.map.value=M.map,t(M.map,v.uvTransform)),M.alphaMap&&(v.alphaMap.value=M.alphaMap,t(M.alphaMap,v.alphaMapTransform)),M.alphaTest>0&&(v.alphaTest.value=M.alphaTest)}(v,M,E,T):M.isSpriteMaterial?function l(v,M){v.diffuse.value.copy(M.color),v.opacity.value=M.opacity,v.rotation.value=M.rotation,M.map&&(v.map.value=M.map,t(M.map,v.mapTransform)),M.alphaMap&&(v.alphaMap.value=M.alphaMap,t(M.alphaMap,v.alphaMapTransform)),M.alphaTest>0&&(v.alphaTest.value=M.alphaTest)}(v,M):M.isShadowMaterial?(v.color.value.copy(M.color),v.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}}}function Uot(n,e,t,i){let s={},r={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function m(E,T,S,O){const F=E.value,N=T+"_"+S;if(void 0===O[N])return O[N]="number"==typeof F||"boolean"==typeof F?F:F.clone(),!0;{const z=O[N];if("number"==typeof F||"boolean"==typeof F){if(z!==F)return O[N]=F,!0}else if(!1===z.equals(F))return z.copy(F),!0}return!1}function b(E){const T={boundary:0,storage:0};return"number"==typeof E||"boolean"==typeof E?(T.boundary=4,T.storage=4):E.isVector2?(T.boundary=8,T.storage=8):E.isVector3||E.isColor?(T.boundary=16,T.storage=12):E.isVector4?(T.boundary=16,T.storage=16):E.isMatrix3?(T.boundary=48,T.storage=48):E.isMatrix4?(T.boundary=64,T.storage=64):E.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",E),T}function v(E){const T=E.target;T.removeEventListener("dispose",v);const S=o.indexOf(T.__bindingPointIndex);o.splice(S,1),n.deleteBuffer(s[T.id]),delete s[T.id],delete r[T.id]}return{bind:function c(E,T){i.uniformBlockBinding(E,T.program)},update:function l(E,T){let S=s[E.id];void 0===S&&(function _(E){const T=E.uniforms;let S=0;for(let N=0,z=T.length;N<z;N++){const L=Array.isArray(T[N])?T[N]:[T[N]];for(let I=0,k=L.length;I<k;I++){const G=L[I],U=Array.isArray(G.value)?G.value:[G.value];for(let me=0,ze=U.length;me<ze;me++){const Xe=b(U[me]),we=S%16,vt=we%Xe.boundary,Nt=we+vt;S+=vt,0!==Nt&&16-Nt<Xe.storage&&(S+=16-Nt),G.__data=new Float32Array(Xe.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=S,S+=Xe.storage}}}const F=S%16;F>0&&(S+=16-F),E.__size=S,E.__cache={}}(E),S=function u(E){const T=function d(){for(let E=0;E<a;E++)if(-1===o.indexOf(E))return o.push(E),E;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();E.__bindingPointIndex=T;const S=n.createBuffer(),O=E.__size,F=E.usage;return n.bindBuffer(n.UNIFORM_BUFFER,S),n.bufferData(n.UNIFORM_BUFFER,O,F),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,T,S),S}(E),s[E.id]=S,E.addEventListener("dispose",v)),i.updateUBOMapping(E,T.program);const F=e.render.frame;r[E.id]!==F&&(function h(E){const S=E.uniforms,O=E.__cache;n.bindBuffer(n.UNIFORM_BUFFER,s[E.id]);for(let F=0,N=S.length;F<N;F++){const z=Array.isArray(S[F])?S[F]:[S[F]];for(let L=0,I=z.length;L<I;L++){const k=z[L];if(!0===m(k,F,L,O)){const G=k.__offset,U=Array.isArray(k.value)?k.value:[k.value];let me=0;for(let ze=0;ze<U.length;ze++){const _e=U[ze],Xe=b(_e);"number"==typeof _e||"boolean"==typeof _e?(k.__data[0]=_e,n.bufferSubData(n.UNIFORM_BUFFER,G+me,k.__data)):_e.isMatrix3?(k.__data[0]=_e.elements[0],k.__data[1]=_e.elements[1],k.__data[2]=_e.elements[2],k.__data[3]=0,k.__data[4]=_e.elements[3],k.__data[5]=_e.elements[4],k.__data[6]=_e.elements[5],k.__data[7]=0,k.__data[8]=_e.elements[6],k.__data[9]=_e.elements[7],k.__data[10]=_e.elements[8],k.__data[11]=0):(_e.toArray(k.__data,me),me+=Xe.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,G,k.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(E),r[E.id]=F)},dispose:function M(){for(const E in s)n.deleteBuffer(s[E]);o=[],s={},r={}}}}class Bot{constructor(e={}){const{canvas:t=ynt(),context:i=null,depth:s=!0,stencil:r=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:l=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:h=!1}=e;let m;if(this.isWebGLRenderer=!0,null!==i){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=i.getContextAttributes().alpha}else m=o;const _=new Uint32Array(4),b=new Int32Array(4);let v=null,M=null;const E=[],T=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=L4,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const S=this;let O=!1;this._outputColorSpace=S2;let F=0,N=0,z=null,L=-1,I=null;const k=new ai,G=new ai;let U=null;const me=new jt(0);let ze=0,_e=t.width,Xe=t.height,we=1,vt=null,Nt=null;const Xt=new ai(0,0,_e,Xe),Ln=new ai(0,0,_e,Xe);let _n=!1;const De=new np;let at=!1,Jt=!1;const Et=new Gn,Yt=new Gn,Yn=new K,sn=new ai,D1={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let z1=!1;function e1(){return null===z?we:1}let ft,Tt,qe,tn,ht,qt,Qn,X,B,fe,Pe,je,xe,yn,Ot,vn,En,ot,an,qn,Fn,Vt,o1,te,q=i;function wt($,re){return t.getContext($,re)}try{const $={alpha:!0,depth:s,stencil:r,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r178"),t.addEventListener("webglcontextlost",rn,!1),t.addEventListener("webglcontextrestored",yt,!1),t.addEventListener("webglcontextcreationerror",Qe,!1),null===q){const re="webgl2";if(q=wt(re,$),null===q)throw wt(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}function $t(){ft=new Z2t(q),ft.init(),Vt=new Not(q,ft),Tt=new G2t(q,ft,e,Vt),qe=new zot(q,ft),Tt.reverseDepthBuffer&&h&&qe.buffers.depth.setReversed(!0),tn=new ert(q),ht=new yot,qt=new Pot(q,ft,qe,ht,Tt,Vt,tn),Qn=new W2t(S),X=new Y2t(S),B=new Uit(q),o1=new H2t(q,B),fe=new Q2t(q,B,tn,o1),Pe=new nrt(q,fe,B,tn),an=new trt(q,Tt,qt),vn=new $2t(ht),je=new _ot(S,Qn,X,ft,Tt,o1,vn),xe=new Vot(S,ht),yn=new Mot,Ot=new Tot(ft),ot=new B2t(S,Qn,X,qe,Pe,m,c),En=new Lot(S,Pe,Tt),te=new Uot(q,tn,Tt,qe),qn=new j2t(q,ft,tn),Fn=new J2t(q,ft,tn),tn.programs=je.programs,S.capabilities=Tt,S.extensions=ft,S.properties=ht,S.renderLists=yn,S.shadowMap=En,S.state=qe,S.info=tn}$t();const mt=new kot(S,q);function rn($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function yt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const $=tn.autoReset,re=En.enabled,Me=En.autoUpdate,Ce=En.needsUpdate,ae=En.type;$t(),tn.autoReset=$,En.enabled=re,En.autoUpdate=Me,En.needsUpdate=Ce,En.type=ae}function Qe($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function on($){const re=$.target;re.removeEventListener("dispose",on),function a1($){(function vi($){const re=ht.get($).programs;void 0!==re&&(re.forEach(function(Me){je.releaseProgram(Me)}),$.isShaderMaterial&&je.releaseShaderCache($))})($),ht.remove($)}(re)}function ci($,re,Me){!0===$.transparent&&2===$.side&&!1===$.forceSinglePass?($.side=1,$.needsUpdate=!0,W7($,re,Me),$.side=0,$.needsUpdate=!0,W7($,re,Me),$.side=2):W7($,re,Me)}this.xr=mt,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const $=ft.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=ft.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return we},this.setPixelRatio=function($){void 0!==$&&(we=$,this.setSize(_e,Xe,!1))},this.getSize=function($){return $.set(_e,Xe)},this.setSize=function($,re,Me=!0){mt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(_e=$,Xe=re,t.width=Math.floor($*we),t.height=Math.floor(re*we),!0===Me&&(t.style.width=$+"px",t.style.height=re+"px"),this.setViewport(0,0,$,re))},this.getDrawingBufferSize=function($){return $.set(_e*we,Xe*we).floor()},this.setDrawingBufferSize=function($,re,Me){_e=$,Xe=re,we=Me,t.width=Math.floor($*Me),t.height=Math.floor(re*Me),this.setViewport(0,0,$,re)},this.getCurrentViewport=function($){return $.copy(k)},this.getViewport=function($){return $.copy(Xt)},this.setViewport=function($,re,Me,Ce){$.isVector4?Xt.set($.x,$.y,$.z,$.w):Xt.set($,re,Me,Ce),qe.viewport(k.copy(Xt).multiplyScalar(we).round())},this.getScissor=function($){return $.copy(Ln)},this.setScissor=function($,re,Me,Ce){$.isVector4?Ln.set($.x,$.y,$.z,$.w):Ln.set($,re,Me,Ce),qe.scissor(G.copy(Ln).multiplyScalar(we).round())},this.getScissorTest=function(){return _n},this.setScissorTest=function($){qe.setScissorTest(_n=$)},this.setOpaqueSort=function($){vt=$},this.setTransparentSort=function($){Nt=$},this.getClearColor=function($){return $.copy(ot.getClearColor())},this.setClearColor=function(){ot.setClearColor(...arguments)},this.getClearAlpha=function(){return ot.getClearAlpha()},this.setClearAlpha=function(){ot.setClearAlpha(...arguments)},this.clear=function($=!0,re=!0,Me=!0){let Ce=0;if($){let ae=!1;if(null!==z){const Mt=z.texture.format;ae=Mt===iL||Mt===nL||Mt===Iv}if(ae){const Mt=z.texture.type,kt=Mt===Zc||Mt===z4||Mt===O9||Mt===F9||Mt===JA||Mt===eL,cn=ot.getClearColor(),en=ot.getClearAlpha(),$n=cn.r,r1=cn.g,Dn=cn.b;kt?(_[0]=$n,_[1]=r1,_[2]=Dn,_[3]=en,q.clearBufferuiv(q.COLOR,0,_)):(b[0]=$n,b[1]=r1,b[2]=Dn,b[3]=en,q.clearBufferiv(q.COLOR,0,b))}else Ce|=q.COLOR_BUFFER_BIT}re&&(Ce|=q.DEPTH_BUFFER_BIT),Me&&(Ce|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(Ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",rn,!1),t.removeEventListener("webglcontextrestored",yt,!1),t.removeEventListener("webglcontextcreationerror",Qe,!1),ot.dispose(),yn.dispose(),Ot.dispose(),ht.dispose(),Qn.dispose(),X.dispose(),Pe.dispose(),o1.dispose(),te.dispose(),je.dispose(),mt.dispose(),mt.removeEventListener("sessionstart",R2),mt.removeEventListener("sessionend",Am),ia.stop()},this.renderBufferDirect=function($,re,Me,Ce,ae,Mt){null===re&&(re=D1);const kt=ae.isMesh&&ae.matrixWorld.determinant()<0,cn=function Im($,re,Me,Ce,ae){!0!==re.isScene&&(re=D1),qt.resetTextureUnits();const Mt=re.fog,cn=null===z?S.outputColorSpace:!0===z.isXRRenderTarget?z.texture.colorSpace:Br,en=(Ce.isMeshStandardMaterial?X:Qn).get(Ce.envMap||(Ce.isMeshStandardMaterial?re.environment:null)),$n=!0===Ce.vertexColors&&!!Me.attributes.color&&4===Me.attributes.color.itemSize,r1=!!Me.attributes.tangent&&(!!Ce.normalMap||Ce.anisotropy>0),Dn=!!Me.morphAttributes.position,R1=!!Me.morphAttributes.normal,ni=!!Me.morphAttributes.color;let ss=L4;Ce.toneMapped&&(null===z||!0===z.isXRRenderTarget)&&(ss=S.toneMapping);const li=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,Mi=void 0!==li?li.length:0,Vn=ht.get(Ce),rs=M.state.lights;!0!==at||!0!==Jt&&$===I||vn.setState(Ce,$,$===I&&Ce.id===L);let ei=!1;Ce.version===Vn.__version?(Vn.needsLights&&Vn.lightsStateVersion!==rs.state.version||Vn.outputColorSpace!==cn||ae.isBatchedMesh&&!1===Vn.batching||!ae.isBatchedMesh&&!0===Vn.batching||ae.isBatchedMesh&&!0===Vn.batchingColor&&null===ae.colorTexture||ae.isBatchedMesh&&!1===Vn.batchingColor&&null!==ae.colorTexture||ae.isInstancedMesh&&!1===Vn.instancing||!ae.isInstancedMesh&&!0===Vn.instancing||ae.isSkinnedMesh&&!1===Vn.skinning||!ae.isSkinnedMesh&&!0===Vn.skinning||ae.isInstancedMesh&&!0===Vn.instancingColor&&null===ae.instanceColor||ae.isInstancedMesh&&!1===Vn.instancingColor&&null!==ae.instanceColor||ae.isInstancedMesh&&!0===Vn.instancingMorph&&null===ae.morphTexture||ae.isInstancedMesh&&!1===Vn.instancingMorph&&null!==ae.morphTexture||Vn.envMap!==en||!0===Ce.fog&&Vn.fog!==Mt||void 0!==Vn.numClippingPlanes&&(Vn.numClippingPlanes!==vn.numPlanes||Vn.numIntersection!==vn.numIntersection)||Vn.vertexAlphas!==$n||Vn.vertexTangents!==r1||Vn.morphTargets!==Dn||Vn.morphNormals!==R1||Vn.morphColors!==ni||Vn.toneMapping!==ss||Vn.morphTargetsCount!==Mi)&&(ei=!0):(ei=!0,Vn.__version=Ce.version);let Cr=Vn.currentProgram;!0===ei&&(Cr=W7(Ce,re,ae));let R0=!1,Zr=!1,sa=!1;const ti=Cr.getUniforms(),Z2=Vn.uniforms;if(qe.useProgram(Cr.program)&&(R0=!0,Zr=!0,sa=!0),Ce.id!==L&&(L=Ce.id,Zr=!0),R0||I!==$){qe.buffers.depth.getReversed()?(Et.copy($.projectionMatrix),function Mnt(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(Et),function Cnt(n){const e=n.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(Et),ti.setValue(q,"projectionMatrix",Et)):ti.setValue(q,"projectionMatrix",$.projectionMatrix),ti.setValue(q,"viewMatrix",$.matrixWorldInverse);const A1=ti.map.cameraPosition;void 0!==A1&&A1.setValue(q,Yn.setFromMatrixPosition($.matrixWorld)),Tt.logarithmicDepthBuffer&&ti.setValue(q,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial)&&ti.setValue(q,"isOrthographic",!0===$.isOrthographicCamera),I!==$&&(I=$,Zr=!0,sa=!0)}if(ae.isSkinnedMesh){ti.setOptional(q,ae,"bindMatrix"),ti.setOptional(q,ae,"bindMatrixInverse");const O2=ae.skeleton;O2&&(null===O2.boneTexture&&O2.computeBoneTexture(),ti.setValue(q,"boneTexture",O2.boneTexture,qt))}ae.isBatchedMesh&&(ti.setOptional(q,ae,"batchingTexture"),ti.setValue(q,"batchingTexture",ae._matricesTexture,qt),ti.setOptional(q,ae,"batchingIdTexture"),ti.setValue(q,"batchingIdTexture",ae._indirectTexture,qt),ti.setOptional(q,ae,"batchingColorTexture"),null!==ae._colorsTexture&&ti.setValue(q,"batchingColorTexture",ae._colorsTexture,qt));const Q2=Me.morphAttributes;if((void 0!==Q2.position||void 0!==Q2.normal||void 0!==Q2.color)&&an.update(ae,Me,Cr),(Zr||Vn.receiveShadow!==ae.receiveShadow)&&(Vn.receiveShadow=ae.receiveShadow,ti.setValue(q,"receiveShadow",ae.receiveShadow)),Ce.isMeshGouraudMaterial&&null!==Ce.envMap&&(Z2.envMap.value=en,Z2.flipEnvMap.value=en.isCubeTexture&&!1===en.isRenderTargetTexture?-1:1),Ce.isMeshStandardMaterial&&null===Ce.envMap&&null!==re.environment&&(Z2.envMapIntensity.value=re.environmentIntensity),Zr&&(ti.setValue(q,"toneMappingExposure",S.toneMappingExposure),Vn.needsLights&&function q7($,re){$.ambientLightColor.needsUpdate=re,$.lightProbe.needsUpdate=re,$.directionalLights.needsUpdate=re,$.directionalLightShadows.needsUpdate=re,$.pointLights.needsUpdate=re,$.pointLightShadows.needsUpdate=re,$.spotLights.needsUpdate=re,$.spotLightShadows.needsUpdate=re,$.rectAreaLights.needsUpdate=re,$.hemisphereLights.needsUpdate=re}(Z2,sa),Mt&&!0===Ce.fog&&xe.refreshFogUniforms(Z2,Mt),xe.refreshMaterialUniforms(Z2,Ce,we,Xe,M.state.transmissionRenderTarget[$.id]),GM.upload(q,K8(Vn),Z2,qt)),Ce.isShaderMaterial&&!0===Ce.uniformsNeedUpdate&&(GM.upload(q,K8(Vn),Z2,qt),Ce.uniformsNeedUpdate=!1),Ce.isSpriteMaterial&&ti.setValue(q,"center",ae.center),ti.setValue(q,"modelViewMatrix",ae.modelViewMatrix),ti.setValue(q,"normalMatrix",ae.normalMatrix),ti.setValue(q,"modelMatrix",ae.matrixWorld),Ce.isShaderMaterial||Ce.isRawShaderMaterial){const O2=Ce.uniformsGroups;for(let A1=0,yl=O2.length;A1<yl;A1++){const ra=O2[A1];te.update(ra,Cr),te.bind(ra,Cr)}}return Cr}($,re,Me,Ce,ae);qe.setMaterial(Ce,kt);let en=Me.index,$n=1;if(!0===Ce.wireframe){if(en=fe.getWireframeAttribute(Me),void 0===en)return;$n=2}const r1=Me.drawRange,Dn=Me.attributes.position;let R1=r1.start*$n,ni=(r1.start+r1.count)*$n;null!==Mt&&(R1=Math.max(R1,Mt.start*$n),ni=Math.min(ni,(Mt.start+Mt.count)*$n)),null!==en?(R1=Math.max(R1,0),ni=Math.min(ni,en.count)):null!=Dn&&(R1=Math.max(R1,0),ni=Math.min(ni,Dn.count));const ss=ni-R1;if(ss<0||ss===1/0)return;o1.setup(ae,Ce,cn,Me,en);let li,Mi=qn;if(null!==en&&(li=B.get(en),Mi=Fn,Mi.setIndex(li)),ae.isMesh)!0===Ce.wireframe?(qe.setLineWidth(Ce.wireframeLinewidth*e1()),Mi.setMode(q.LINES)):Mi.setMode(q.TRIANGLES);else if(ae.isLine){let Vn=Ce.linewidth;void 0===Vn&&(Vn=1),qe.setLineWidth(Vn*e1()),Mi.setMode(ae.isLineSegments?q.LINES:ae.isLineLoop?q.LINE_LOOP:q.LINE_STRIP)}else ae.isPoints?Mi.setMode(q.POINTS):ae.isSprite&&Mi.setMode(q.TRIANGLES);if(ae.isBatchedMesh)if(null!==ae._multiDrawInstances)sd("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Mi.renderMultiDrawInstances(ae._multiDrawStarts,ae._multiDrawCounts,ae._multiDrawCount,ae._multiDrawInstances);else if(ft.get("WEBGL_multi_draw"))Mi.renderMultiDraw(ae._multiDrawStarts,ae._multiDrawCounts,ae._multiDrawCount);else{const Vn=ae._multiDrawStarts,rs=ae._multiDrawCounts,ei=ae._multiDrawCount,Cr=en?B.get(en).bytesPerElement:1,R0=ht.get(Ce).currentProgram.getUniforms();for(let Zr=0;Zr<ei;Zr++)R0.setValue(q,"_gl_DrawID",Zr),Mi.render(Vn[Zr]/Cr,rs[Zr])}else if(ae.isInstancedMesh)Mi.renderInstances(R1,ss,ae.count);else if(Me.isInstancedBufferGeometry){const rs=Math.min(Me.instanceCount,void 0!==Me._maxInstanceCount?Me._maxInstanceCount:1/0);Mi.renderInstances(R1,ss,rs)}else Mi.render(R1,ss)},this.compile=function($,re,Me=null){null===Me&&(Me=$),M=Ot.get(Me),M.init(re),T.push(M),Me.traverseVisible(function(ae){ae.isLight&&ae.layers.test(re.layers)&&(M.pushLight(ae),ae.castShadow&&M.pushShadow(ae))}),$!==Me&&$.traverseVisible(function(ae){ae.isLight&&ae.layers.test(re.layers)&&(M.pushLight(ae),ae.castShadow&&M.pushShadow(ae))}),M.setupLights();const Ce=new Set;return $.traverse(function(ae){if(!(ae.isMesh||ae.isPoints||ae.isLine||ae.isSprite))return;const Mt=ae.material;if(Mt)if(Array.isArray(Mt))for(let kt=0;kt<Mt.length;kt++){const cn=Mt[kt];ci(cn,Me,ae),Ce.add(cn)}else ci(Mt,Me,ae),Ce.add(Mt)}),M=T.pop(),Ce},this.compileAsync=function($,re,Me=null){const Ce=this.compile($,re,Me);return new Promise(ae=>{function Mt(){Ce.forEach(function(kt){ht.get(kt).currentProgram.isReady()&&Ce.delete(kt)}),0!==Ce.size?setTimeout(Mt,10):ae($)}null!==ft.get("KHR_parallel_shader_compile")?Mt():setTimeout(Mt,10)})};let Y2=null;function R2(){ia.stop()}function Am(){ia.start()}const ia=new e1e;function D0($,re,Me,Ce){if(!1===$.visible)return;if($.layers.test(re.layers))if($.isGroup)Me=$.renderOrder;else if($.isLOD)!0===$.autoUpdate&&$.update(re);else if($.isLight)M.pushLight($),$.castShadow&&M.pushShadow($);else if($.isSprite){if(!$.frustumCulled||De.intersectsSprite($)){Ce&&sn.setFromMatrixPosition($.matrixWorld).applyMatrix4(Yt);const kt=Pe.update($),cn=$.material;cn.visible&&v.push($,kt,cn,Me,sn.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&(!$.frustumCulled||De.intersectsObject($))){const kt=Pe.update($),cn=$.material;if(Ce&&(void 0!==$.boundingSphere?(null===$.boundingSphere&&$.computeBoundingSphere(),sn.copy($.boundingSphere.center)):(null===kt.boundingSphere&&kt.computeBoundingSphere(),sn.copy(kt.boundingSphere.center)),sn.applyMatrix4($.matrixWorld).applyMatrix4(Yt)),Array.isArray(cn)){const en=kt.groups;for(let $n=0,r1=en.length;$n<r1;$n++){const Dn=en[$n],R1=cn[Dn.materialIndex];R1&&R1.visible&&v.push($,kt,R1,Me,sn.z,Dn)}}else cn.visible&&v.push($,kt,cn,Me,sn.z,null)}const Mt=$.children;for(let kt=0,cn=Mt.length;kt<cn;kt++)D0(Mt[kt],re,Me,Ce)}function Lb($,re,Me,Ce){const ae=$.opaque,Mt=$.transmissive,kt=$.transparent;M.setupLightsView(Me),!0===at&&vn.setGlobalState(S.clippingPlanes,Me),Ce&&qe.viewport(k.copy(Ce)),ae.length>0&&gc(ae,re,Me),Mt.length>0&&gc(Mt,re,Me),kt.length>0&&gc(kt,re,Me),qe.buffers.depth.setTest(!0),qe.buffers.depth.setMask(!0),qe.buffers.color.setMask(!0),qe.setPolygonOffset(!1)}function Ib($,re,Me,Ce){if(null!==(!0===Me.isScene?Me.overrideMaterial:null))return;void 0===M.state.transmissionRenderTarget[Ce.id]&&(M.state.transmissionRenderTarget[Ce.id]=new a0(1,1,{generateMipmaps:!0,type:ft.has("EXT_color_buffer_half_float")||ft.has("EXT_color_buffer_float")?k9:Zc,minFilter:cc,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Y1.workingColorSpace}));const Mt=M.state.transmissionRenderTarget[Ce.id],kt=Ce.viewport||k;Mt.setSize(kt.z*S.transmissionResolutionScale,kt.w*S.transmissionResolutionScale);const cn=S.getRenderTarget(),en=S.getActiveCubeFace(),$n=S.getActiveMipmapLevel();S.setRenderTarget(Mt),S.getClearColor(me),ze=S.getClearAlpha(),ze<1&&S.setClearColor(16777215,.5),S.clear(),z1&&ot.render(Me);const r1=S.toneMapping;S.toneMapping=L4;const Dn=Ce.viewport;if(void 0!==Ce.viewport&&(Ce.viewport=void 0),M.setupLightsView(Ce),!0===at&&vn.setGlobalState(S.clippingPlanes,Ce),gc($,Me,Ce),qt.updateMultisampleRenderTarget(Mt),qt.updateRenderTargetMipmap(Mt),!1===ft.has("WEBGL_multisampled_render_to_texture")){let R1=!1;for(let ni=0,ss=re.length;ni<ss;ni++){const li=re[ni],Mi=li.object,Vn=li.geometry,rs=li.material,ei=li.group;if(2===rs.side&&Mi.layers.test(Ce.layers)){const Cr=rs.side;rs.side=1,rs.needsUpdate=!0,zb(Mi,Me,Ce,Vn,rs,ei),rs.side=Cr,rs.needsUpdate=!0,R1=!0}}!0===R1&&(qt.updateMultisampleRenderTarget(Mt),qt.updateRenderTargetMipmap(Mt))}S.setRenderTarget(cn,en,$n),S.setClearColor(me,ze),void 0!==Dn&&(Ce.viewport=Dn),S.toneMapping=r1}function gc($,re,Me){const Ce=!0===re.isScene?re.overrideMaterial:null;for(let ae=0,Mt=$.length;ae<Mt;ae++){const kt=$[ae],cn=kt.object,en=kt.geometry,$n=kt.group;let r1=kt.material;!0===r1.allowOverride&&null!==Ce&&(r1=Ce),cn.layers.test(Me.layers)&&zb(cn,re,Me,en,r1,$n)}}function zb($,re,Me,Ce,ae,Mt){$.onBeforeRender(S,re,Me,Ce,ae,Mt),$.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),ae.onBeforeRender(S,re,Me,Ce,$,Mt),!0===ae.transparent&&2===ae.side&&!1===ae.forceSinglePass?(ae.side=1,ae.needsUpdate=!0,S.renderBufferDirect(Me,re,Ce,ae,$,Mt),ae.side=0,ae.needsUpdate=!0,S.renderBufferDirect(Me,re,Ce,ae,$,Mt),ae.side=2):S.renderBufferDirect(Me,re,Ce,ae,$,Mt),$.onAfterRender(S,re,Me,Ce,ae,Mt)}function W7($,re,Me){!0!==re.isScene&&(re=D1);const Ce=ht.get($),ae=M.state.lights,kt=ae.state.version,cn=je.getParameters($,ae.state,M.state.shadowsArray,re,Me),en=je.getProgramCacheKey(cn);let $n=Ce.programs;Ce.environment=$.isMeshStandardMaterial?re.environment:null,Ce.fog=re.fog,Ce.envMap=($.isMeshStandardMaterial?X:Qn).get($.envMap||Ce.environment),Ce.envMapRotation=null!==Ce.environment&&null===$.envMap?re.environmentRotation:$.envMapRotation,void 0===$n&&($.addEventListener("dispose",on),$n=new Map,Ce.programs=$n);let r1=$n.get(en);if(void 0!==r1){if(Ce.currentProgram===r1&&Ce.lightsStateVersion===kt)return Lm($,cn),r1}else cn.uniforms=je.getUniforms($),$.onBeforeCompile(cn,S),r1=je.acquireProgram(cn,en),$n.set(en,r1),Ce.uniforms=cn.uniforms;const Dn=Ce.uniforms;return(!$.isShaderMaterial&&!$.isRawShaderMaterial||!0===$.clipping)&&(Dn.clippingPlanes=vn.uniform),Lm($,cn),Ce.needsLights=function _3($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&!0===$.lights}($),Ce.lightsStateVersion=kt,Ce.needsLights&&(Dn.ambientLightColor.value=ae.state.ambient,Dn.lightProbe.value=ae.state.probe,Dn.directionalLights.value=ae.state.directional,Dn.directionalLightShadows.value=ae.state.directionalShadow,Dn.spotLights.value=ae.state.spot,Dn.spotLightShadows.value=ae.state.spotShadow,Dn.rectAreaLights.value=ae.state.rectArea,Dn.ltc_1.value=ae.state.rectAreaLTC1,Dn.ltc_2.value=ae.state.rectAreaLTC2,Dn.pointLights.value=ae.state.point,Dn.pointLightShadows.value=ae.state.pointShadow,Dn.hemisphereLights.value=ae.state.hemi,Dn.directionalShadowMap.value=ae.state.directionalShadowMap,Dn.directionalShadowMatrix.value=ae.state.directionalShadowMatrix,Dn.spotShadowMap.value=ae.state.spotShadowMap,Dn.spotLightMatrix.value=ae.state.spotLightMatrix,Dn.spotLightMap.value=ae.state.spotLightMap,Dn.pointShadowMap.value=ae.state.pointShadowMap,Dn.pointShadowMatrix.value=ae.state.pointShadowMatrix),Ce.currentProgram=r1,Ce.uniformsList=null,r1}function K8($){if(null===$.uniformsList){const re=$.currentProgram.getUniforms();$.uniformsList=GM.seqWithValue(re.seq,$.uniforms)}return $.uniformsList}function Lm($,re){const Me=ht.get($);Me.outputColorSpace=re.outputColorSpace,Me.batching=re.batching,Me.batchingColor=re.batchingColor,Me.instancing=re.instancing,Me.instancingColor=re.instancingColor,Me.instancingMorph=re.instancingMorph,Me.skinning=re.skinning,Me.morphTargets=re.morphTargets,Me.morphNormals=re.morphNormals,Me.morphColors=re.morphColors,Me.morphTargetsCount=re.morphTargetsCount,Me.numClippingPlanes=re.numClippingPlanes,Me.numIntersection=re.numClipIntersection,Me.vertexAlphas=re.vertexAlphas,Me.vertexTangents=re.vertexTangents,Me.toneMapping=re.toneMapping}ia.setAnimationLoop(function Oa($){Y2&&Y2($)}),typeof self<"u"&&ia.setContext(self),this.setAnimationLoop=function($){Y2=$,mt.setAnimationLoop($),null===$?ia.stop():ia.start()},mt.addEventListener("sessionstart",R2),mt.addEventListener("sessionend",Am),this.render=function($,re){if(void 0!==re&&!0!==re.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===O)return;if(!0===$.matrixWorldAutoUpdate&&$.updateMatrixWorld(),null===re.parent&&!0===re.matrixWorldAutoUpdate&&re.updateMatrixWorld(),!0===mt.enabled&&!0===mt.isPresenting&&(!0===mt.cameraAutoUpdate&&mt.updateCamera(re),re=mt.getCamera()),!0===$.isScene&&$.onBeforeRender(S,$,re,z),M=Ot.get($,T.length),M.init(re),T.push(M),Yt.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),De.setFromProjectionMatrix(Yt),Jt=this.localClippingEnabled,at=vn.init(this.clippingPlanes,Jt),v=yn.get($,E.length),v.init(),E.push(v),!0===mt.enabled&&!0===mt.isPresenting){const Mt=S.xr.getDepthSensingMesh();null!==Mt&&D0(Mt,re,-1/0,S.sortObjects)}D0($,re,0,S.sortObjects),v.finish(),!0===S.sortObjects&&v.sort(vt,Nt),z1=!1===mt.enabled||!1===mt.isPresenting||!1===mt.hasDepthSensing(),z1&&ot.addToRenderList(v,$),this.info.render.frame++,!0===at&&vn.beginShadows(),En.render(M.state.shadowsArray,$,re),!0===at&&vn.endShadows(),!0===this.info.autoReset&&this.info.reset();const Ce=v.opaque,ae=v.transmissive;if(M.setupLights(),re.isArrayCamera){const Mt=re.cameras;if(ae.length>0)for(let kt=0,cn=Mt.length;kt<cn;kt++)Ib(Ce,ae,$,Mt[kt]);z1&&ot.render($);for(let kt=0,cn=Mt.length;kt<cn;kt++){const en=Mt[kt];Lb(v,$,en,en.viewport)}}else ae.length>0&&Ib(Ce,ae,$,re),z1&&ot.render($),Lb(v,$,re);null!==z&&0===N&&(qt.updateMultisampleRenderTarget(z),qt.updateRenderTargetMipmap(z)),!0===$.isScene&&$.onAfterRender(S,$,re),o1.resetDefaultState(),L=-1,I=null,T.pop(),T.length>0?(M=T[T.length-1],!0===at&&vn.setGlobalState(S.clippingPlanes,M.state.camera)):M=null,E.pop(),v=E.length>0?E[E.length-1]:null},this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function($,re,Me){const Ce=ht.get($);Ce.__autoAllocateDepthBuffer=!1===$.resolveDepthBuffer,!1===Ce.__autoAllocateDepthBuffer&&(Ce.__useRenderToTexture=!1),ht.get($.texture).__webglTexture=re,ht.get($.depthTexture).__webglTexture=Ce.__autoAllocateDepthBuffer?void 0:Me,Ce.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function($,re){const Me=ht.get($);Me.__webglFramebuffer=re,Me.__useDefaultFramebuffer=void 0===re};const Pb=q.createFramebuffer();this.setRenderTarget=function($,re=0,Me=0){z=$,F=re,N=Me;let Ce=!0,ae=null,Mt=!1,kt=!1;if($){const en=ht.get($);if(void 0!==en.__useDefaultFramebuffer)qe.bindFramebuffer(q.FRAMEBUFFER,null),Ce=!1;else if(void 0===en.__webglFramebuffer)qt.setupRenderTarget($);else if(en.__hasExternalTextures)qt.rebindTextures($,ht.get($.texture).__webglTexture,ht.get($.depthTexture).__webglTexture);else if($.depthBuffer){const Dn=$.depthTexture;if(en.__boundDepthTexture!==Dn){if(null!==Dn&&ht.has(Dn)&&($.width!==Dn.image.width||$.height!==Dn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");qt.setupDepthRenderbuffer($)}}const $n=$.texture;($n.isData3DTexture||$n.isDataArrayTexture||$n.isCompressedArrayTexture)&&(kt=!0);const r1=ht.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(ae=Array.isArray(r1[re])?r1[re][Me]:r1[re],Mt=!0):ae=$.samples>0&&!1===qt.useMultisampledRTT($)?ht.get($).__webglMultisampledFramebuffer:Array.isArray(r1)?r1[Me]:r1,k.copy($.viewport),G.copy($.scissor),U=$.scissorTest}else k.copy(Xt).multiplyScalar(we).floor(),G.copy(Ln).multiplyScalar(we).floor(),U=_n;if(0!==Me&&(ae=Pb),qe.bindFramebuffer(q.FRAMEBUFFER,ae)&&Ce&&qe.drawBuffers($,ae),qe.viewport(k),qe.scissor(G),qe.setScissorTest(U),Mt){const en=ht.get($.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+re,en.__webglTexture,Me)}else if(kt){const en=ht.get($.texture);q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,en.__webglTexture,Me,re)}else if(null!==$&&0!==Me){const en=ht.get($.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,en.__webglTexture,Me)}L=-1},this.readRenderTargetPixels=function($,re,Me,Ce,ae,Mt,kt,cn=0){if(!$||!$.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let en=ht.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&void 0!==kt&&(en=en[kt]),en){qe.bindFramebuffer(q.FRAMEBUFFER,en);try{const $n=$.textures[cn],r1=$n.format,Dn=$n.type;if(!Tt.textureFormatReadable(r1))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Tt.textureTypeReadable(Dn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");re>=0&&re<=$.width-Ce&&Me>=0&&Me<=$.height-ae&&($.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+cn),q.readPixels(re,Me,Ce,ae,Vt.convert(r1),Vt.convert(Dn),Mt))}finally{const $n=null!==z?ht.get(z).__webglFramebuffer:null;qe.bindFramebuffer(q.FRAMEBUFFER,$n)}}},this.readRenderTargetPixelsAsync=function(){var $=(0,Ne.A)(function*(re,Me,Ce,ae,Mt,kt,cn,en=0){if(!re||!re.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let $n=ht.get(re).__webglFramebuffer;if(re.isWebGLCubeRenderTarget&&void 0!==cn&&($n=$n[cn]),$n){if(Me>=0&&Me<=re.width-ae&&Ce>=0&&Ce<=re.height-Mt){qe.bindFramebuffer(q.FRAMEBUFFER,$n);const r1=re.textures[en],Dn=r1.format,R1=r1.type;if(!Tt.textureFormatReadable(Dn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Tt.textureTypeReadable(R1))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const ni=q.createBuffer();q.bindBuffer(q.PIXEL_PACK_BUFFER,ni),q.bufferData(q.PIXEL_PACK_BUFFER,kt.byteLength,q.STREAM_READ),re.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+en),q.readPixels(Me,Ce,ae,Mt,Vt.convert(Dn),Vt.convert(R1),0);const ss=null!==z?ht.get(z).__webglFramebuffer:null;qe.bindFramebuffer(q.FRAMEBUFFER,ss);const li=q.fenceSync(q.SYNC_GPU_COMMANDS_COMPLETE,0);return q.flush(),yield function vnt(n,e,t){return new Promise(function(i,s){setTimeout(function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}},t)})}(q,li,4),q.bindBuffer(q.PIXEL_PACK_BUFFER,ni),q.getBufferSubData(q.PIXEL_PACK_BUFFER,0,kt),q.deleteBuffer(ni),q.deleteSync(li),kt}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(re,Me,Ce,ae,Mt,kt,cn){return $.apply(this,arguments)}}(),this.copyFramebufferToTexture=function($,re=null,Me=0){const Ce=Math.pow(2,-Me),ae=Math.floor($.image.width*Ce),Mt=Math.floor($.image.height*Ce),kt=null!==re?re.x:0,cn=null!==re?re.y:0;qt.setTexture2D($,0),q.copyTexSubImage2D(q.TEXTURE_2D,Me,0,0,kt,cn,ae,Mt),qe.unbindTexture()};const Nb=q.createFramebuffer(),zm=q.createFramebuffer();this.copyTextureToTexture=function($,re,Me=null,Ce=null,ae=0,Mt=null){let kt,cn,en,$n,r1,Dn,R1,ni,ss;null===Mt&&(0!==ae?(sd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Mt=ae,ae=0):Mt=0);const li=$.isCompressedTexture?$.mipmaps[Mt]:$.image;if(null!==Me)kt=Me.max.x-Me.min.x,cn=Me.max.y-Me.min.y,en=Me.isBox3?Me.max.z-Me.min.z:1,$n=Me.min.x,r1=Me.min.y,Dn=Me.isBox3?Me.min.z:0;else{const Q2=Math.pow(2,-ae);kt=Math.floor(li.width*Q2),cn=Math.floor(li.height*Q2),en=$.isDataArrayTexture?li.depth:$.isData3DTexture?Math.floor(li.depth*Q2):1,$n=0,r1=0,Dn=0}null!==Ce?(R1=Ce.x,ni=Ce.y,ss=Ce.z):(R1=0,ni=0,ss=0);const Mi=Vt.convert(re.format),Vn=Vt.convert(re.type);let rs;re.isData3DTexture?(qt.setTexture3D(re,0),rs=q.TEXTURE_3D):re.isDataArrayTexture||re.isCompressedArrayTexture?(qt.setTexture2DArray(re,0),rs=q.TEXTURE_2D_ARRAY):(qt.setTexture2D(re,0),rs=q.TEXTURE_2D),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,re.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,re.unpackAlignment);const ei=q.getParameter(q.UNPACK_ROW_LENGTH),Cr=q.getParameter(q.UNPACK_IMAGE_HEIGHT),R0=q.getParameter(q.UNPACK_SKIP_PIXELS),Zr=q.getParameter(q.UNPACK_SKIP_ROWS),sa=q.getParameter(q.UNPACK_SKIP_IMAGES);q.pixelStorei(q.UNPACK_ROW_LENGTH,li.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,li.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,$n),q.pixelStorei(q.UNPACK_SKIP_ROWS,r1),q.pixelStorei(q.UNPACK_SKIP_IMAGES,Dn);const ti=$.isDataArrayTexture||$.isData3DTexture,Z2=re.isDataArrayTexture||re.isData3DTexture;if($.isDepthTexture){const Q2=ht.get($),O2=ht.get(re),A1=ht.get(Q2.__renderTarget),yl=ht.get(O2.__renderTarget);qe.bindFramebuffer(q.READ_FRAMEBUFFER,A1.__webglFramebuffer),qe.bindFramebuffer(q.DRAW_FRAMEBUFFER,yl.__webglFramebuffer);for(let ra=0;ra<en;ra++)ti&&(q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,ht.get($).__webglTexture,ae,Dn+ra),q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,ht.get(re).__webglTexture,Mt,ss+ra)),q.blitFramebuffer($n,r1,kt,cn,R1,ni,kt,cn,q.DEPTH_BUFFER_BIT,q.NEAREST);qe.bindFramebuffer(q.READ_FRAMEBUFFER,null),qe.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else if(0!==ae||$.isRenderTargetTexture||ht.has($)){const Q2=ht.get($),O2=ht.get(re);qe.bindFramebuffer(q.READ_FRAMEBUFFER,Nb),qe.bindFramebuffer(q.DRAW_FRAMEBUFFER,zm);for(let A1=0;A1<en;A1++)ti?q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Q2.__webglTexture,ae,Dn+A1):q.framebufferTexture2D(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Q2.__webglTexture,ae),Z2?q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,O2.__webglTexture,Mt,ss+A1):q.framebufferTexture2D(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,O2.__webglTexture,Mt),0!==ae?q.blitFramebuffer($n,r1,kt,cn,R1,ni,kt,cn,q.COLOR_BUFFER_BIT,q.NEAREST):Z2?q.copyTexSubImage3D(rs,Mt,R1,ni,ss+A1,$n,r1,kt,cn):q.copyTexSubImage2D(rs,Mt,R1,ni,$n,r1,kt,cn);qe.bindFramebuffer(q.READ_FRAMEBUFFER,null),qe.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else Z2?$.isDataTexture||$.isData3DTexture?q.texSubImage3D(rs,Mt,R1,ni,ss,kt,cn,en,Mi,Vn,li.data):re.isCompressedArrayTexture?q.compressedTexSubImage3D(rs,Mt,R1,ni,ss,kt,cn,en,Mi,li.data):q.texSubImage3D(rs,Mt,R1,ni,ss,kt,cn,en,Mi,Vn,li):$.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,Mt,R1,ni,kt,cn,Mi,Vn,li.data):$.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,Mt,R1,ni,li.width,li.height,Mi,li.data):q.texSubImage2D(q.TEXTURE_2D,Mt,R1,ni,kt,cn,Mi,Vn,li);q.pixelStorei(q.UNPACK_ROW_LENGTH,ei),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Cr),q.pixelStorei(q.UNPACK_SKIP_PIXELS,R0),q.pixelStorei(q.UNPACK_SKIP_ROWS,Zr),q.pixelStorei(q.UNPACK_SKIP_IMAGES,sa),0===Mt&&re.generateMipmaps&&q.generateMipmap(rs),qe.unbindTexture()},this.copyTextureToTexture3D=function($,re,Me=null,Ce=null,ae=0){return sd('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture($,re,Me,Ce,ae)},this.initRenderTarget=function($){void 0===ht.get($).__webglFramebuffer&&qt.setupRenderTarget($)},this.initTexture=function($){$.isCubeTexture?qt.setTextureCube($,0):$.isData3DTexture?qt.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?qt.setTexture2DArray($,0):qt.setTexture2D($,0),qe.unbindTexture()},this.resetState=function(){F=0,N=0,z=null,qe.reset(),o1.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return lc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Y1._getDrawingBufferColorSpace(e),t.unpackColorSpace=Y1._getUnpackColorSpace()}}function I1e(n,e){if(0===e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(2===e||1===e){let t=n.getIndex();if(null===t){const o=[],a=n.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n;for(let c=0;c<a.count;c++)o.push(c);n.setIndex(o),t=n.getIndex()}const i=t.count-2,s=[];if(2===e)for(let o=1;o<=i;o++)s.push(t.getX(0)),s.push(t.getX(o)),s.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2==0?(s.push(t.getX(o)),s.push(t.getX(o+1)),s.push(t.getX(o+2))):(s.push(t.getX(o+2)),s.push(t.getX(o+1)),s.push(t.getX(o)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(s),r.clearGroups(),r}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}class Hot extends Yo{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new qot(t)}),this.register(function(t){return new Kot(t)}),this.register(function(t){return new iat(t)}),this.register(function(t){return new sat(t)}),this.register(function(t){return new rat(t)}),this.register(function(t){return new Yot(t)}),this.register(function(t){return new Zot(t)}),this.register(function(t){return new Qot(t)}),this.register(function(t){return new Jot(t)}),this.register(function(t){return new Wot(t)}),this.register(function(t){return new eat(t)}),this.register(function(t){return new Xot(t)}),this.register(function(t){return new nat(t)}),this.register(function(t){return new tat(t)}),this.register(function(t){return new Got(t)}),this.register(function(t){return new oat(t)}),this.register(function(t){return new aat(t)})}load(e,t,i,s){const r=this;let o;if(""!==this.resourcePath)o=this.resourcePath;else if(""!==this.path){const l=Z6.extractUrlBase(e);o=Z6.resolveURL(l,this.path)}else o=Z6.extractUrlBase(e);this.manager.itemStart(e);const a=function(l){s?s(l):console.error(l),r.manager.itemError(e),r.manager.itemEnd(e)},c=new s3(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(l){try{r.parse(l,o,function(u){t(u),r.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,s){let r;const o={},a={},c=new TextDecoder;if("string"==typeof e)r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===z1e){try{o[F1.KHR_BINARY_GLTF]=new cat(e)}catch(d){return void(s&&s(d))}r=JSON.parse(o[F1.KHR_BINARY_GLTF].content)}else r=JSON.parse(c.decode(e));else r=e;if(void 0===r.asset||r.asset.version[0]<2)return void(s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new Cat(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(r.extensionsUsed)for(let u=0;u<r.extensionsUsed.length;++u){const d=r.extensionsUsed[u],h=r.extensionsRequired||[];switch(d){case F1.KHR_MATERIALS_UNLIT:o[d]=new $ot;break;case F1.KHR_DRACO_MESH_COMPRESSION:o[d]=new lat(r,this.dracoLoader);break;case F1.KHR_TEXTURE_TRANSFORM:o[d]=new uat;break;case F1.KHR_MESH_QUANTIZATION:o[d]=new dat;break;default:h.indexOf(d)>=0&&void 0===a[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,s)}parseAsync(e,t){const i=this;return new Promise(function(s,r){i.parse(e,t,s,r)})}}function jot(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const F1={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Got{constructor(e){this.parser=e,this.name=F1.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,s=t.length;i<s;i++){const r=t[i];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let s=t.cache.get(i);if(s)return s;const r=t.json,c=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let l;const u=new jt(16777215);void 0!==c.color&&u.setRGB(c.color[0],c.color[1],c.color[2],Br);const d=void 0!==c.range?c.range:0;switch(c.type){case"directional":l=new $I(u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new Pne(u),l.distance=d;break;case"spot":l=new Ine(u),l.distance=d,c.spot=c.spot||{},c.spot.innerConeAngle=void 0!==c.spot.innerConeAngle?c.spot.innerConeAngle:0,c.spot.outerConeAngle=void 0!==c.spot.outerConeAngle?c.spot.outerConeAngle:Math.PI/4,l.angle=c.spot.outerConeAngle,l.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return l.position.set(0,0,0),y0(l,c),void 0!==c.intensity&&(l.intensity=c.intensity),l.name=t.createUniqueName(c.name||"light_"+e),s=Promise.resolve(l),t.cache.add(i,s),s}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,r=i.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then(function(c){return i._getNodeRef(t.cache,a,c)})}}class $ot{constructor(){this.name=F1.KHR_MATERIALS_UNLIT}getMaterialType(){return Sa}extendParams(e,t,i){const s=[];e.color=new jt(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Br),e.opacity=o[3]}void 0!==r.baseColorTexture&&s.push(i.assignTexture(e,"map",r.baseColorTexture,S2))}return Promise.all(s)}}class Wot{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class qot{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&r.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&r.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(r.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new it(a,a)}return Promise.all(r)}}class Kot{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return t.dispersion=void 0!==r.dispersion?r.dispersion:0,Promise.resolve()}}class Xot{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return void 0!==o.iridescenceFactor&&(t.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&r.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(t.iridescenceIOR=o.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&r.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class Yot{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new jt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=s.extensions[this.name];if(void 0!==o.sheenColorFactor){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Br)}return void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&r.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,S2)),void 0!==o.sheenRoughnessTexture&&r.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class Zot{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&r.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class Qot{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&r.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=(new jt).setRGB(a[0],a[1],a[2],Br),Promise.all(r)}}class Jot{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class eat{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&r.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=(new jt).setRGB(a[0],a[1],a[2],Br),void 0!==o.specularColorTexture&&r.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,S2)),Promise.all(r)}}class tat{constructor(e){this.parser=e,this.name=F1.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return t.bumpScale=void 0!==o.bumpFactor?o.bumpFactor:1,void 0!==o.bumpTexture&&r.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(r)}}class nat{constructor(e){this.parser=e,this.name=F1.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return i.extensions&&i.extensions[this.name]?hc:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return void 0!==o.anisotropyStrength&&(t.anisotropy=o.anisotropyStrength),void 0!==o.anisotropyRotation&&(t.anisotropyRotation=o.anisotropyRotation),void 0!==o.anisotropyTexture&&r.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class iat{constructor(e){this.parser=e,this.name=F1.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,o)}}class sat{constructor(e){this.parser=e,this.name=F1.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],a=s.images[o.source];let c=i.textureLoader;if(a.uri){const l=i.options.manager.getHandler(a.uri);null!==l&&(c=l)}return i.loadTextureImage(e,o.source,c)}}class rat{constructor(e){this.parser=e,this.name=F1.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],a=s.images[o.source];let c=i.textureLoader;if(a.uri){const l=i.options.manager.getHandler(a.uri);null!==l&&(c=l)}return i.loadTextureImage(e,o.source,c)}}class oat{constructor(e){this.name=F1.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(a){const u=s.count,d=s.byteStride,h=new Uint8Array(a,s.byteOffset||0,s.byteLength||0);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,h,s.mode,s.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,h,s.mode,s.filter),m})})}return null}}class aat{constructor(e){this.name=F1.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;const s=t.meshes[i.mesh];for(const l of s.primitives)if(l.mode!==La.TRIANGLES&&l.mode!==La.TRIANGLE_STRIP&&l.mode!==La.TRIANGLE_FAN&&void 0!==l.mode)return null;const o=i.extensions[this.name].attributes,a=[],c={};for(const l in o)a.push(this.parser.getDependency("accessor",o[l]).then(u=>(c[l]=u,c[l])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(l=>{const u=l.pop(),d=u.isGroup?u.children:[u],h=l[0].count,m=[];for(const _ of d){const b=new Gn,v=new K,M=new jr,E=new K(1,1,1),T=new Kte(_.geometry,_.material,h);for(let S=0;S<h;S++)c.TRANSLATION&&v.fromBufferAttribute(c.TRANSLATION,S),c.ROTATION&&M.fromBufferAttribute(c.ROTATION,S),c.SCALE&&E.fromBufferAttribute(c.SCALE,S),T.setMatrixAt(S,b.compose(v,M,E));for(const S in c)if("_COLOR_0"===S){const O=c[S];T.instanceColor=new Ed(O.array,O.itemSize,O.normalized)}else"TRANSLATION"!==S&&"ROTATION"!==S&&"SCALE"!==S&&_.geometry.setAttribute(S,c[S]);Fi.prototype.copy.call(T,_),this.parser.assignFinalMaterial(T),m.push(T)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const z1e="glTF";class cat{constructor(e){this.name=F1.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==z1e)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-12,r=new DataView(e,12);let o=0;for(;o<s;){const a=r.getUint32(o,!0);o+=4;const c=r.getUint32(o,!0);if(o+=4,1313821514===c){const l=new Uint8Array(e,12+o,a);this.content=i.decode(l)}else if(5130562===c){const l=12+o;this.body=e.slice(l,l+a)}o+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class lat{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=F1.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},c={},l={};for(const u in o){const d=dz[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=dz[u]||u.toLowerCase();if(void 0!==o[u]){const h=i.accessors[e.attributes[u]];l[d]=kd[h.componentType].name,c[d]=!0===h.normalized}}return t.getDependency("bufferView",r).then(function(u){return new Promise(function(d,h){s.decodeDracoFile(u,function(m){for(const _ in m.attributes){const v=c[_];void 0!==v&&(m.attributes[_].normalized=v)}d(m)},a,l,Br,h)})})}}class uat{constructor(){this.name=F1.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class dat{constructor(){this.name=F1.KHR_MESH_QUANTIZATION}}class N1e extends fp{constructor(e,t,i,s){super(e,t,i,s)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let o=0;o!==s;o++)t[o]=i[r+o];return t}interpolate_(e,t,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=2*a,l=3*a,u=s-t,d=(i-t)/u,h=d*d,m=h*d,_=e*l,b=_-l,v=-2*m+3*h,M=m-h,E=1-v,T=M-h+d;for(let S=0;S!==a;S++)r[S]=E*o[b+S+a]+T*(o[b+S+c]*u)+v*o[_+S+a]+M*(o[_+S]*u);return r}}const fat=new jr;class hat extends N1e{interpolate_(e,t,i,s){const r=super.interpolate_(e,t,i,s);return fat.fromArray(r).normalize().toArray(r),r}}const La={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},kd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},D1e={9728:T2,9729:Us,9984:1004,9985:1007,9986:Zu,9987:cc},R1e={33071:Ta,33648:1002,10497:R6},uz={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},dz={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},H4={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},pat={CUBICSPLINE:void 0,LINEAR:H9,STEP:B9};function c8(n,e,t){for(const i in t.extensions)void 0===n[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function y0(n,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function _at(n,e){if(n.updateMorphTargets(),void 0!==e.weights)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,s=t.length;i<s;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function yat(n){let e;const t=n.extensions&&n.extensions[F1.KHR_DRACO_MESH_COMPRESSION];if(e=t?"draco:"+t.bufferView+":"+t.indices+":"+hz(t.attributes):n.indices+":"+hz(n.attributes)+":"+n.mode,void 0!==n.targets)for(let i=0,s=n.targets.length;i<s;i++)e+=":"+hz(n.targets[i]);return e}function hz(n){let e="";const t=Object.keys(n).sort();for(let i=0,s=t.length;i<s;i++)e+=t[i]+":"+n[t[i]]+";";return e}function pz(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Mat=new Gn;class Cat{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new jot,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=-1,r=!1,o=-1;if(typeof navigator<"u"){const a=navigator.userAgent;i=!0===/^((?!chrome|android).)*safari/i.test(a);const c=a.match(/Version\/(\d+)/);s=i&&c?parseInt(c[1],10):-1,r=a.indexOf("Firefox")>-1,o=r?a.match(/Firefox\/([0-9]+)\./)[1]:-1}this.textureLoader=typeof createImageBitmap>"u"||i&&s<17||r&&o<98?new oit(this.options.manager):new _it(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new s3(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:i,userData:{}};return c8(r,a,s),y0(a,s),Promise.all(i._invokeAll(function(c){return c.afterRoot&&c.afterRoot(a)})).then(function(){for(const c of a.scenes)c.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=t.length;s<r;s++){const o=t[s].joints;for(let a=0,c=o.length;a<c;a++)e[o[a]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const o=e[s];void 0!==o.mesh&&(this._addNodeRef(this.meshCache,o.mesh),void 0!==o.skin&&(i[o.mesh].isSkinnedMesh=!0)),void 0!==o.camera&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const s=i.clone(),r=(o,a)=>{const c=this.associations.get(o);null!=c&&this.associations.set(a,c);for(const[l,u]of o.children.entries())r(u,a.children[l])};return r(i,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const s=e(t[i]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let s=0;s<t.length;s++){const r=e(t[s]);r&&i.push(r)}return i}getDependency(e,t){const i=e+":"+t;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e)}this.cache.add(i,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(r,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[F1.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,o){i.load(Z6.resolveURL(t.uri,s.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteOffset||0;return i.slice(r,r+(t.byteLength||0))})}loadAccessor(e){const t=this,i=this.json,s=this.json.accessors[e];if(void 0===s.bufferView&&void 0===s.sparse){const o=uz[s.type],c=!0===s.normalized,l=new(0,kd[s.componentType])(s.count*o);return Promise.resolve(new yi(l,o,c))}const r=[];return r.push(void 0!==s.bufferView?this.getDependency("bufferView",s.bufferView):null),void 0!==s.sparse&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(o){const a=o[0],c=uz[s.type],l=kd[s.componentType],u=l.BYTES_PER_ELEMENT,h=s.byteOffset||0,m=void 0!==s.bufferView?i.bufferViews[s.bufferView].byteStride:void 0,_=!0===s.normalized;let b,v;if(m&&m!==u*c){const M=Math.floor(h/m),E="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+M+":"+s.count;let T=t.cache.get(E);T||(b=new l(a,M*m,s.count*m/u),T=new iM(b,m/u),t.cache.add(E,T)),v=new H6(T,c,h%m/u,_)}else b=null===a?new l(s.count*c):new l(a,h,s.count*c),v=new yi(b,c,_);if(void 0!==s.sparse){const S=s.sparse.values.byteOffset||0,O=new(0,kd[s.sparse.indices.componentType])(o[1],s.sparse.indices.byteOffset||0,s.sparse.count*uz.SCALAR),F=new l(o[2],S,s.sparse.count*c);null!==a&&(v=new yi(v.array.slice(),v.itemSize,v.normalized)),v.normalized=!1;for(let N=0,z=O.length;N<z;N++){const L=O[N];if(v.setX(L,F[N*c]),c>=2&&v.setY(L,F[N*c+1]),c>=3&&v.setZ(L,F[N*c+2]),c>=4&&v.setW(L,F[N*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}v.normalized=_}return v})}loadTexture(e){const t=this.json,r=t.textures[e].source,o=t.images[r];let a=this.textureLoader;if(o.uri){const c=this.options.manager.getHandler(o.uri);null!==c&&(a=c)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,t,i){const s=this,r=this.json,o=r.textures[e],a=r.images[t],c=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[c])return this.textureCache[c];const l=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",""===u.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(u.name=a.uri);const h=(r.samplers||{})[o.sampler]||{};return u.magFilter=D1e[h.magFilter]||Us,u.minFilter=D1e[h.minFilter]||cc,u.wrapS=R1e[h.wrapS]||R6,u.wrapT=R1e[h.wrapT]||R6,u.generateMipmaps=!u.isCompressedTexture&&u.minFilter!==T2&&u.minFilter!==Us,s.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[c]=l,l}loadImageSource(e,t){const s=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(d=>d.clone());const o=s.images[e],a=self.URL||self.webkitURL;let c=o.uri||"",l=!1;if(void 0!==o.bufferView)c=this.getDependency("bufferView",o.bufferView).then(function(d){l=!0;const h=new Blob([d],{type:o.mimeType});return c=a.createObjectURL(h),c});else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(c).then(function(d){return new Promise(function(h,m){let _=h;!0===t.isImageBitmapLoader&&(_=function(b){const v=new hr(b);v.needsUpdate=!0,h(v)}),t.load(Z6.resolveURL(d,r.path),_,void 0,m)})}).then(function(d){return!0===l&&a.revokeObjectURL(c),y0(d,o),d.userData.mimeType=o.mimeType||function vat(n){return n.search(/\.jpe?g($|\?)/i)>0||0===n.search(/^data\:image\/jpeg/)?"image/jpeg":n.search(/\.webp($|\?)/i)>0||0===n.search(/^data\:image\/webp/)?"image/webp":n.search(/\.ktx2($|\?)/i)>0||0===n.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"}(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),d});return this.sourceCache[e]=u,u}assignTexture(e,t,i,s){const r=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((o=o.clone()).channel=i.texCoord),r.extensions[F1.KHR_TEXTURE_TRANSFORM]){const a=void 0!==i.extensions?i.extensions[F1.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const c=r.associations.get(o);o=r.extensions[F1.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,c)}}return void 0!==s&&(o.colorSpace=s),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const s=void 0===t.attributes.tangent,r=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let c=this.cache.get(a);c||(c=new gI,A2.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,c.sizeAttenuation=!1,this.cache.add(a,c)),i=c}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let c=this.cache.get(a);c||(c=new Wr,A2.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,this.cache.add(a,c)),i=c}if(s||r||o){let a="ClonedMaterial:"+i.uuid+":";s&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let c=this.cache.get(a);c||(c=i.clone(),r&&(c.vertexColors=!0),o&&(c.flatShading=!0),s&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(a,c),this.associations.set(c,this.associations.get(i))),i=c}e.material=i}getMaterialType(){return zM}loadMaterial(e){const t=this,s=this.extensions,r=this.json.materials[e];let o;const a={},l=[];if((r.extensions||{})[F1.KHR_MATERIALS_UNLIT]){const d=s[F1.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),l.push(d.extendParams(a,r,t))}else{const d=r.pbrMetallicRoughness||{};if(a.color=new jt(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const h=d.baseColorFactor;a.color.setRGB(h[0],h[1],h[2],Br),a.opacity=h[3]}void 0!==d.baseColorTexture&&l.push(t.assignTexture(a,"map",d.baseColorTexture,S2)),a.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,a.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(l.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),l.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}!0===r.doubleSided&&(a.side=2);const u=r.alphaMode||"OPAQUE";if("BLEND"===u?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===u&&(a.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&o!==Sa&&(l.push(t.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new it(1,1),void 0!==r.normalTexture.scale)){const d=r.normalTexture.scale;a.normalScale.set(d,d)}if(void 0!==r.occlusionTexture&&o!==Sa&&(l.push(t.assignTexture(a,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(a.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&o!==Sa){const d=r.emissiveFactor;a.emissive=(new jt).setRGB(d[0],d[1],d[2],Br)}return void 0!==r.emissiveTexture&&o!==Sa&&l.push(t.assignTexture(a,"emissiveMap",r.emissiveTexture,S2)),Promise.all(l).then(function(){const d=new o(a);return r.name&&(d.name=r.name),y0(d,r),t.associations.set(d,{materials:e}),r.extensions&&c8(s,d,r),d})}createUniqueName(e){const t=Xi.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,s=this.primitiveCache;function r(a){return i[F1.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(c){return O1e(c,a,t)})}const o=[];for(let a=0,c=e.length;a<c;a++){const l=e[a],u=yat(l),d=s[u];if(d)o.push(d.promise);else{let h;h=l.extensions&&l.extensions[F1.KHR_DRACO_MESH_COMPRESSION]?r(l):O1e(new b1,l,t),s[u]={primitive:l,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,s=this.extensions,r=this.json.meshes[e],o=r.primitives,a=[];for(let c=0,l=o.length;c<l;c++){const u=void 0===o[c].material?(void 0===(n=this.cache).DefaultMaterial&&(n.DefaultMaterial=new zM({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),n.DefaultMaterial):this.getDependency("material",o[c].material);a.push(u)}var n;return a.push(t.loadGeometries(o)),Promise.all(a).then(function(c){const l=c.slice(0,c.length-1),u=c[c.length-1],d=[];for(let m=0,_=u.length;m<_;m++){const b=u[m],v=o[m];let M;const E=l[m];if(v.mode===La.TRIANGLES||v.mode===La.TRIANGLE_STRIP||v.mode===La.TRIANGLE_FAN||void 0===v.mode)M=!0===r.isSkinnedMesh?new Gte(b,E):new e2(b,E),!0===M.isSkinnedMesh&&M.normalizeSkinWeights(),v.mode===La.TRIANGLE_STRIP?M.geometry=I1e(M.geometry,1):v.mode===La.TRIANGLE_FAN&&(M.geometry=I1e(M.geometry,2));else if(v.mode===La.LINES)M=new t3(b,E);else if(v.mode===La.LINE_STRIP)M=new U4(b,E);else if(v.mode===La.LINE_LOOP)M=new tne(b,E);else{if(v.mode!==La.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);M=new ine(b,E)}Object.keys(M.geometry.morphAttributes).length>0&&_at(M,r),M.name=t.createUniqueName(r.name||"mesh_"+e),y0(M,r),v.extensions&&c8(s,M,v),t.assignFinalMaterial(M),d.push(M)}for(let m=0,_=d.length;m<_;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(1===d.length)return r.extensions&&c8(s,d[0],r),d[0];const h=new V4;r.extensions&&c8(s,h,r),t.associations.set(h,{meshes:e});for(let m=0,_=d.length;m<_;m++)h.add(d[m]);return h})}loadCamera(e){let t;const i=this.json.cameras[e],s=i[i.type];if(s)return"perspective"===i.type?t=new I2(nd.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===i.type&&(t=new NM(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),y0(t,i),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],i=[];for(let s=0,r=t.joints.length;s<r;s++)i.push(this._loadNodeShallow(t.joints[s]));return i.push(void 0!==t.inverseBindMatrices?this.getDependency("accessor",t.inverseBindMatrices):null),Promise.all(i).then(function(s){const r=s.pop(),o=s,a=[],c=[];for(let l=0,u=o.length;l<u;l++){const d=o[l];if(d){a.push(d);const h=new Gn;null!==r&&h.fromArray(r.array,16*l),c.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[l])}return new lM(a,c)})}loadAnimation(e){const i=this,s=this.json.animations[e],r=s.name?s.name:"animation_"+e,o=[],a=[],c=[],l=[],u=[];for(let d=0,h=s.channels.length;d<h;d++){const m=s.channels[d],_=s.samplers[m.sampler],b=m.target,M=void 0!==s.parameters?s.parameters[_.input]:_.input,E=void 0!==s.parameters?s.parameters[_.output]:_.output;void 0!==b.node&&(o.push(this.getDependency("node",b.node)),a.push(this.getDependency("accessor",M)),c.push(this.getDependency("accessor",E)),l.push(_),u.push(b))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(c),Promise.all(l),Promise.all(u)]).then(function(d){const h=d[0],m=d[1],_=d[2],b=d[3],v=d[4],M=[];for(let E=0,T=h.length;E<T;E++){const S=h[E],O=m[E],F=_[E],N=b[E],z=v[E];if(void 0===S)continue;S.updateMatrix&&S.updateMatrix();const L=i._createAnimationTracks(S,O,F,N,z);if(L)for(let I=0;I<L.length;I++)M.push(L[I])}return new hp(r,void 0,M)})}createNodeMesh(e){const i=this,s=this.json.nodes[e];return void 0===s.mesh?null:i.getDependency("mesh",s.mesh).then(function(r){const o=i._getNodeRef(i.meshCache,s.mesh,r);return void 0!==s.weights&&o.traverse(function(a){if(a.isMesh)for(let c=0,l=s.weights.length;c<l;c++)a.morphTargetInfluences[c]=s.weights[c]}),o})}loadNode(e){const i=this,s=this.json.nodes[e],r=i._loadNodeShallow(e),o=[],a=s.children||[];for(let l=0,u=a.length;l<u;l++)o.push(i.getDependency("node",a[l]));const c=void 0===s.skin?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(o),c]).then(function(l){const u=l[0],d=l[1],h=l[2];null!==h&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(h,Mat)});for(let m=0,_=d.length;m<_;m++)u.add(d[m]);return u})}_loadNodeShallow(e){const i=this.extensions,s=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const r=this.json.nodes[e],o=r.name?s.createUniqueName(r.name):"",a=[],c=s._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return c&&a.push(c),void 0!==r.camera&&a.push(s.getDependency("camera",r.camera).then(function(l){return s._getNodeRef(s.cameraCache,r.camera,l)})),s._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){a.push(l)}),this.nodeCache[e]=Promise.all(a).then(function(l){let u;if(u=!0===r.isBone?new uI:l.length>1?new V4:1===l.length?l[0]:new Fi,u!==l[0])for(let d=0,h=l.length;d<h;d++)u.add(l[d]);if(r.name&&(u.userData.name=r.name,u.name=o),y0(u,r),r.extensions&&c8(i,u,r),void 0!==r.matrix){const d=new Gn;d.fromArray(r.matrix),u.applyMatrix4(d)}else void 0!==r.translation&&u.position.fromArray(r.translation),void 0!==r.rotation&&u.quaternion.fromArray(r.rotation),void 0!==r.scale&&u.scale.fromArray(r.scale);if(s.associations.has(u)){if(void 0!==r.mesh&&s.meshCache.refs[r.mesh]>1){const d=s.associations.get(u);s.associations.set(u,{...d})}}else s.associations.set(u,{});return s.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],s=this,r=new V4;i.name&&(r.name=s.createUniqueName(i.name)),y0(r,i),i.extensions&&c8(t,r,i);const o=i.nodes||[],a=[];for(let c=0,l=o.length;c<l;c++)a.push(s.getDependency("node",o[c]));return Promise.all(a).then(function(c){for(let u=0,d=c.length;u<d;u++)r.add(c[u]);return s.associations=(u=>{const d=new Map;for(const[h,m]of s.associations)(h instanceof A2||h instanceof hr)&&d.set(h,m);return u.traverse(h=>{const m=s.associations.get(h);null!=m&&d.set(h,m)}),d})(r),r})}_createAnimationTracks(e,t,i,s,r){const o=[],a=e.name?e.name:e.uuid,c=[];let l;switch(H4[r.path]===H4.weights?e.traverse(function(h){h.morphTargetInfluences&&c.push(h.name?h.name:h.uuid)}):c.push(a),H4[r.path]){case H4.weights:l=Ld;break;case H4.rotation:l=Id;break;case H4.translation:case H4.scale:l=Pd;break;default:l=1===i.itemSize?Ld:Pd}const u=void 0!==s.interpolation?pat[s.interpolation]:H9,d=this._getArrayFromAccessor(i);for(let h=0,m=c.length;h<m;h++){const _=new l(c[h]+"."+H4[r.path],t.array,d,u);"CUBICSPLINE"===s.interpolation&&this._createCubicSplineTrackInterpolant(_),o.push(_)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=pz(t.constructor),s=new Float32Array(t.length);for(let r=0,o=t.length;r<o;r++)s[r]=t[r]*i;t=s}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){return new(this instanceof Id?hat:N1e)(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function O1e(n,e,t){const i=e.attributes,s=[];function r(o,a){return t.getDependency("accessor",o).then(function(c){n.setAttribute(a,c)})}for(const o in i){const a=dz[o]||o.toLowerCase();a in n.attributes||s.push(r(i[o],a))}if(void 0!==e.indices&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});s.push(o)}return Y1.workingColorSpace!==Br&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Y1.workingColorSpace}" not supported.`),y0(n,e),function bat(n,e,t){const i=e.attributes,s=new pr;if(void 0===i.POSITION)return;{const a=t.json.accessors[i.POSITION],c=a.min,l=a.max;if(void 0===c||void 0===l)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(s.set(new K(c[0],c[1],c[2]),new K(l[0],l[1],l[2])),a.normalized){const u=pz(kd[a.componentType]);s.min.multiplyScalar(u),s.max.multiplyScalar(u)}}const r=e.targets;if(void 0!==r){const a=new K,c=new K;for(let l=0,u=r.length;l<u;l++){const d=r[l];if(void 0!==d.POSITION){const h=t.json.accessors[d.POSITION],m=h.min,_=h.max;if(void 0!==m&&void 0!==_){if(c.setX(Math.max(Math.abs(m[0]),Math.abs(_[0]))),c.setY(Math.max(Math.abs(m[1]),Math.abs(_[1]))),c.setZ(Math.max(Math.abs(m[2]),Math.abs(_[2]))),h.normalized){const b=pz(kd[h.componentType]);c.multiplyScalar(b)}a.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(a)}n.boundingBox=s;const o=new $2;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=o}(n,e,t),Promise.all(s).then(function(){return void 0!==e.targets?function gat(n,e,t){let i=!1,s=!1,r=!1;for(let l=0,u=e.length;l<u;l++){const d=e[l];if(void 0!==d.POSITION&&(i=!0),void 0!==d.NORMAL&&(s=!0),void 0!==d.COLOR_0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(n);const o=[],a=[],c=[];for(let l=0,u=e.length;l<u;l++){const d=e[l];if(i){const h=void 0!==d.POSITION?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(h)}if(s){const h=void 0!==d.NORMAL?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(h)}if(r){const h=void 0!==d.COLOR_0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;c.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(c)]).then(function(l){const d=l[1],h=l[2];return i&&(n.morphAttributes.position=l[0]),s&&(n.morphAttributes.normal=d),r&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}(n,e.targets,t):n})}let k1e=(()=>{class n{darkModeSubject=new bt(!1);darkMode$=this.darkModeSubject.asObservable();setDarkMode(t){this.darkModeSubject.next(t)}getCurrentMode(){return this.darkModeSubject.getValue()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const xat=["canvas"];let Eat=(()=>{class n{themeService;visible=!0;canvasRef;scene;camera;renderer;gltfLoader=new Hot;model=null;headBone=null;leftArmBone=null;rightArmBone=null;lightModel=null;darkModel=null;clock=new Vne;mouse=new it;blinkTimer=0;blinkDuration=.5;blinkCooldown=.1+.1*Math.random();shouldRender=!0;isDarkMode=!1;themeSub;constructor(t){this.themeService=t}ngOnInit(){this.themeSub=this.themeService.darkMode$.subscribe(t=>{const i=this.isDarkMode!==t;this.isDarkMode=t,i&&this.swapModel()})}ngAfterViewInit(){this.initScene(),this.preloadModels(),this.animate()}ngOnChanges(t){t.visible&&(this.shouldRender=this.visible)}ngOnDestroy(){this.themeSub?.unsubscribe(),window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("mousemove",this.onMouseMove)}initScene(){const t=this.canvasRef.nativeElement;this.scene=new Nte,this.scene.background=null,this.camera=new I2(45,.8,.1,1e3),this.camera.position.set(0,1.3,1.3),this.renderer=new Bot({canvas:t,antialias:!0,alpha:!0}),this.renderer.setSize(320,400),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(0,0);const r=new Nne(16777215,1.2);this.scene.add(r);const o=new $I(16777215,1);o.position.set(0,2,4),this.scene.add(o),window.addEventListener("resize",this.onWindowResize),window.addEventListener("mousemove",this.onMouseMove)}preloadModels(){this.gltfLoader.load("assets/images/avatar.glb",t=>{this.lightModel=t.scene,this.isDarkMode||this.swapModel()}),this.gltfLoader.load("assets/images/avatar-dark.glb",t=>{this.darkModel=t.scene,this.isDarkMode&&this.swapModel()})}swapModel(){const t=this.isDarkMode?this.darkModel:this.lightModel;t&&(this.model&&this.scene.remove(this.model),this.model=t,this.scene.add(this.model),this.model.scale.set(1.8,1.8,1.8),this.model.position.set(0,-1.5,0),this.model.rotation.set(0,0,0),this.headBone=this.model.getObjectByName("Head")||null,this.leftArmBone=this.model.getObjectByName("LeftArm")||null,this.rightArmBone=this.model.getObjectByName("RightArm")||null,this.camera.lookAt(0,1.5,0))}onWindowResize=()=>{this.camera.aspect=.8,this.camera.updateProjectionMatrix(),this.renderer.setSize(320,400)};onMouseMove=t=>{this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1};animate=()=>{if(requestAnimationFrame(this.animate),!this.shouldRender)return;if(this.headBone){const i=nd.degToRad(15),s=nd.degToRad(30);this.headBone.rotation.y=this.mouse.x*s,this.headBone.rotation.x=-this.mouse.y*i}this.leftArmBone&&(this.leftArmBone.rotation.x=nd.degToRad(75)),this.rightArmBone&&(this.rightArmBone.rotation.x=nd.degToRad(75));const t=this.clock.getDelta();this.blinkTimer+=t,this.model&&this.model.traverse(i=>{if(i.morphTargetInfluences&&i.morphTargetDictionary){const r=i.morphTargetDictionary,o=i.morphTargetInfluences,a=r.eyeBlinkLeft,c=r.eyeBlinkRight;if(void 0!==a&&void 0!==c)if(this.blinkTimer>=this.blinkCooldown){const l=1-Math.abs(this.blinkTimer-this.blinkCooldown-this.blinkDuration/2)/(this.blinkDuration/2),u=nd.clamp(l,0,1);o[a]=u,o[c]=u,this.blinkTimer>=this.blinkCooldown+this.blinkDuration&&(this.blinkTimer=0,this.blinkCooldown=3+3*Math.random())}else o[a]=0,o[c]=0}}),this.renderer.render(this.scene,this.camera)};static \u0275fac=function(i){return new(i||n)(Nn(k1e))};static \u0275cmp=c2({type:n,selectors:[["app-avatar"]],viewQuery:function(i,s){if(1&i&&function oB(n,e,t){KF(n,e,t)}(xat,7),2&i){let r;(function Rw(n){const e=Le(),t=g1(),i=wx();Og(i+1);const s=rw(t,i);if(n.dirty&&function bx(n){return!(4&~n[Sn])}(e)===!(2&~s.metadata.flags)){if(null===s.matches)n.reset([]);else{const r=ZF(e,i);n.reset(r,TO),n.notifyOnChanges()}return!0}return!1})(r=Ow())&&(s.canvasRef=r.first)}},inputs:{visible:"visible"},features:[Nr],decls:2,vars:0,consts:[["canvas",""]],template:function(i,s){1&i&&oi(0,"canvas",null,0)},styles:["canvas[_ngcontent-%COMP%]{width:530px!important;height:600px!important;height:auto;display:block;outline:none}@media (max-width: 1200px){canvas[_ngcontent-%COMP%]{width:500px!important;height:570px!important}}@media (max-width: 800px){canvas[_ngcontent-%COMP%]{width:330px!important;height:400px!important}}"]})}return n})(),wat=(()=>{class n{faLinkedin=rA;faGithub=gv;faBehance=oA;faFigma=x9;faDownload=sv;faCircle=nX;faX=GQ;darkMode=!1;isHomeSectionVisible=!1;visibilityTimeout;ngAfterViewInit(){cJe.init(),window.addEventListener("scroll",this.onScroll.bind(this)),this.onScroll(),this.darkMode="true"===this.getCookie("darkMode")}onScroll(){const t=document.getElementById("home");if(!t)return;const i=t.getBoundingClientRect(),s=i.top<window.innerHeight&&i.bottom>0;clearTimeout(this.visibilityTimeout),s?this.visibilityTimeout=setTimeout(()=>{this.isHomeSectionVisible=!0},500):this.isHomeSectionVisible=!1}getCookie(t){const i=t+"=",s=document.cookie.split(";");for(let r=0;r<s.length;r++){let o=s[r];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(i))return o.substring(i.length,o.length)}return""}downloadCv(){(0,lJe.saveAs)("https://www.dropbox.com/scl/fi/ezifaj3lnbsdgfkc3sln0/curriculo-gustavo.pdf?rlkey=zlc9wljs98sbwxqj895gyf79a&st=kysvkdyb&dl=1","_blank")}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-home"]],decls:26,vars:6,consts:[["id","home",1,"d-flex","align-items-center","justify-content-center","background-white"],[1,"container","container-about","d-flex","align-items-center","justify-content-between"],["data-aos","zoom-in-right",1,"text-area"],[1,"text-home","tag"],[1,"d-flex","icon",3,"icon"],[1,"description-home"],[1,"socials"],["link","https://www.linkedin.com/in/gustavo-henrique-885918199/",3,"icon"],["link","https://github.com/gustavo-henrique1",3,"icon"],["link","https://www.behance.net/gustavohenrique63",3,"icon"],[3,"icon"],["type","button",1,"button-cv",3,"click"],[1,"text-cv"],[1,"material-symbols-rounded","icon-mode","icon-cv"],["data-aos","zoom-in-left",1,"image-area","d-flex","align-items-center","justify-content-center"],[1,"container-avatar"],[3,"visible"]],template:function(i,s){1&i&&(Ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"p",3),oi(4,"fa-icon",4),Ge(5," Ol\xe1, eu sou Gustavo! "),He(),Ye(6,"h1"),Ge(7," Front-end Developer "),oi(8,"br"),Ge(9," e UI/UX Designer "),He(),Ye(10,"h5",5),Ge(11," Crio interfaces funcionais com foco em usabilidade e performance. Design e front-end com prop\xf3sito. "),He(),Ye(12,"nav")(13,"ul",6),oi(14,"app-social-card",7)(15,"app-social-card",8)(16,"app-social-card",9)(17,"app-social-card",10),Ye(18,"button",11),W3("click",function(){return s.downloadCv()}),Ye(19,"span",12),Ge(20,"Curr\xedculo"),He(),Ye(21,"span",13),Ge(22," download "),He()()()()(),Ye(23,"div",14)(24,"div",15),oi(25,"app-avatar",16),He()()()()),2&i&&(v1(4),N1("icon",s.faCircle),v1(10),N1("icon",s.faLinkedin),v1(),N1("icon",s.faGithub),v1(),N1("icon",s.faBehance),v1(),N1("icon",s.faFigma),v1(8),N1("visible",s.isHomeSectionVisible))},dependencies:[Tv,Gee,Eat],styles:['[data-aos][data-aos][data-aos-duration="50"][_ngcontent-%COMP%], body[data-aos-duration="50"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:50ms}[data-aos][data-aos][data-aos-delay="50"][_ngcontent-%COMP%], body[data-aos-delay="50"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="50"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="50"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:50ms}[data-aos][data-aos][data-aos-duration="100"][_ngcontent-%COMP%], body[data-aos-duration="100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.1s}[data-aos][data-aos][data-aos-delay="100"][_ngcontent-%COMP%], body[data-aos-delay="100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="100"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="100"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.1s}[data-aos][data-aos][data-aos-duration="150"][_ngcontent-%COMP%], body[data-aos-duration="150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.15s}[data-aos][data-aos][data-aos-delay="150"][_ngcontent-%COMP%], body[data-aos-delay="150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="150"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="150"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.15s}[data-aos][data-aos][data-aos-duration="200"][_ngcontent-%COMP%], body[data-aos-duration="200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.2s}[data-aos][data-aos][data-aos-delay="200"][_ngcontent-%COMP%], body[data-aos-delay="200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="200"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="200"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.2s}[data-aos][data-aos][data-aos-duration="250"][_ngcontent-%COMP%], body[data-aos-duration="250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.25s}[data-aos][data-aos][data-aos-delay="250"][_ngcontent-%COMP%], body[data-aos-delay="250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="250"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="250"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.25s}[data-aos][data-aos][data-aos-duration="300"][_ngcontent-%COMP%], body[data-aos-duration="300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.3s}[data-aos][data-aos][data-aos-delay="300"][_ngcontent-%COMP%], body[data-aos-delay="300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="300"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="300"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.3s}[data-aos][data-aos][data-aos-duration="350"][_ngcontent-%COMP%], body[data-aos-duration="350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.35s}[data-aos][data-aos][data-aos-delay="350"][_ngcontent-%COMP%], body[data-aos-delay="350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="350"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="350"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.35s}[data-aos][data-aos][data-aos-duration="400"][_ngcontent-%COMP%], body[data-aos-duration="400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.4s}[data-aos][data-aos][data-aos-delay="400"][_ngcontent-%COMP%], body[data-aos-delay="400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="400"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="400"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.4s}[data-aos][data-aos][data-aos-duration="450"][_ngcontent-%COMP%], body[data-aos-duration="450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.45s}[data-aos][data-aos][data-aos-delay="450"][_ngcontent-%COMP%], body[data-aos-delay="450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="450"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="450"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.45s}[data-aos][data-aos][data-aos-duration="500"][_ngcontent-%COMP%], body[data-aos-duration="500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.5s}[data-aos][data-aos][data-aos-delay="500"][_ngcontent-%COMP%], body[data-aos-delay="500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="500"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="500"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.5s}[data-aos][data-aos][data-aos-duration="550"][_ngcontent-%COMP%], body[data-aos-duration="550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.55s}[data-aos][data-aos][data-aos-delay="550"][_ngcontent-%COMP%], body[data-aos-delay="550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="550"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="550"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.55s}[data-aos][data-aos][data-aos-duration="600"][_ngcontent-%COMP%], body[data-aos-duration="600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.6s}[data-aos][data-aos][data-aos-delay="600"][_ngcontent-%COMP%], body[data-aos-delay="600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="600"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="600"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.6s}[data-aos][data-aos][data-aos-duration="650"][_ngcontent-%COMP%], body[data-aos-duration="650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.65s}[data-aos][data-aos][data-aos-delay="650"][_ngcontent-%COMP%], body[data-aos-delay="650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="650"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="650"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.65s}[data-aos][data-aos][data-aos-duration="700"][_ngcontent-%COMP%], body[data-aos-duration="700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.7s}[data-aos][data-aos][data-aos-delay="700"][_ngcontent-%COMP%], body[data-aos-delay="700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="700"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="700"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.7s}[data-aos][data-aos][data-aos-duration="750"][_ngcontent-%COMP%], body[data-aos-duration="750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.75s}[data-aos][data-aos][data-aos-delay="750"][_ngcontent-%COMP%], body[data-aos-delay="750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="750"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="750"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.75s}[data-aos][data-aos][data-aos-duration="800"][_ngcontent-%COMP%], body[data-aos-duration="800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.8s}[data-aos][data-aos][data-aos-delay="800"][_ngcontent-%COMP%], body[data-aos-delay="800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="800"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="800"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.8s}[data-aos][data-aos][data-aos-duration="850"][_ngcontent-%COMP%], body[data-aos-duration="850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.85s}[data-aos][data-aos][data-aos-delay="850"][_ngcontent-%COMP%], body[data-aos-delay="850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="850"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="850"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.85s}[data-aos][data-aos][data-aos-duration="900"][_ngcontent-%COMP%], body[data-aos-duration="900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.9s}[data-aos][data-aos][data-aos-delay="900"][_ngcontent-%COMP%], body[data-aos-delay="900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="900"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="900"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.9s}[data-aos][data-aos][data-aos-duration="950"][_ngcontent-%COMP%], body[data-aos-duration="950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:.95s}[data-aos][data-aos][data-aos-delay="950"][_ngcontent-%COMP%], body[data-aos-delay="950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="950"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="950"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:.95s}[data-aos][data-aos][data-aos-duration="1000"][_ngcontent-%COMP%], body[data-aos-duration="1000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1s}[data-aos][data-aos][data-aos-delay="1000"][_ngcontent-%COMP%], body[data-aos-delay="1000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1000"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1000"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1s}[data-aos][data-aos][data-aos-duration="1050"][_ngcontent-%COMP%], body[data-aos-duration="1050"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.05s}[data-aos][data-aos][data-aos-delay="1050"][_ngcontent-%COMP%], body[data-aos-delay="1050"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1050"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1050"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.05s}[data-aos][data-aos][data-aos-duration="1100"][_ngcontent-%COMP%], body[data-aos-duration="1100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.1s}[data-aos][data-aos][data-aos-delay="1100"][_ngcontent-%COMP%], body[data-aos-delay="1100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1100"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1100"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.1s}[data-aos][data-aos][data-aos-duration="1150"][_ngcontent-%COMP%], body[data-aos-duration="1150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.15s}[data-aos][data-aos][data-aos-delay="1150"][_ngcontent-%COMP%], body[data-aos-delay="1150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1150"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1150"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.15s}[data-aos][data-aos][data-aos-duration="1200"][_ngcontent-%COMP%], body[data-aos-duration="1200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.2s}[data-aos][data-aos][data-aos-delay="1200"][_ngcontent-%COMP%], body[data-aos-delay="1200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1200"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1200"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.2s}[data-aos][data-aos][data-aos-duration="1250"][_ngcontent-%COMP%], body[data-aos-duration="1250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.25s}[data-aos][data-aos][data-aos-delay="1250"][_ngcontent-%COMP%], body[data-aos-delay="1250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1250"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1250"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.25s}[data-aos][data-aos][data-aos-duration="1300"][_ngcontent-%COMP%], body[data-aos-duration="1300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.3s}[data-aos][data-aos][data-aos-delay="1300"][_ngcontent-%COMP%], body[data-aos-delay="1300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1300"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1300"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.3s}[data-aos][data-aos][data-aos-duration="1350"][_ngcontent-%COMP%], body[data-aos-duration="1350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.35s}[data-aos][data-aos][data-aos-delay="1350"][_ngcontent-%COMP%], body[data-aos-delay="1350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1350"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1350"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.35s}[data-aos][data-aos][data-aos-duration="1400"][_ngcontent-%COMP%], body[data-aos-duration="1400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.4s}[data-aos][data-aos][data-aos-delay="1400"][_ngcontent-%COMP%], body[data-aos-delay="1400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1400"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1400"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.4s}[data-aos][data-aos][data-aos-duration="1450"][_ngcontent-%COMP%], body[data-aos-duration="1450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.45s}[data-aos][data-aos][data-aos-delay="1450"][_ngcontent-%COMP%], body[data-aos-delay="1450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1450"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1450"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.45s}[data-aos][data-aos][data-aos-duration="1500"][_ngcontent-%COMP%], body[data-aos-duration="1500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.5s}[data-aos][data-aos][data-aos-delay="1500"][_ngcontent-%COMP%], body[data-aos-delay="1500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1500"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1500"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.5s}[data-aos][data-aos][data-aos-duration="1550"][_ngcontent-%COMP%], body[data-aos-duration="1550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.55s}[data-aos][data-aos][data-aos-delay="1550"][_ngcontent-%COMP%], body[data-aos-delay="1550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1550"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1550"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.55s}[data-aos][data-aos][data-aos-duration="1600"][_ngcontent-%COMP%], body[data-aos-duration="1600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.6s}[data-aos][data-aos][data-aos-delay="1600"][_ngcontent-%COMP%], body[data-aos-delay="1600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1600"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1600"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.6s}[data-aos][data-aos][data-aos-duration="1650"][_ngcontent-%COMP%], body[data-aos-duration="1650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.65s}[data-aos][data-aos][data-aos-delay="1650"][_ngcontent-%COMP%], body[data-aos-delay="1650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1650"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1650"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.65s}[data-aos][data-aos][data-aos-duration="1700"][_ngcontent-%COMP%], body[data-aos-duration="1700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.7s}[data-aos][data-aos][data-aos-delay="1700"][_ngcontent-%COMP%], body[data-aos-delay="1700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1700"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1700"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.7s}[data-aos][data-aos][data-aos-duration="1750"][_ngcontent-%COMP%], body[data-aos-duration="1750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.75s}[data-aos][data-aos][data-aos-delay="1750"][_ngcontent-%COMP%], body[data-aos-delay="1750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1750"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1750"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.75s}[data-aos][data-aos][data-aos-duration="1800"][_ngcontent-%COMP%], body[data-aos-duration="1800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.8s}[data-aos][data-aos][data-aos-delay="1800"][_ngcontent-%COMP%], body[data-aos-delay="1800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1800"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1800"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.8s}[data-aos][data-aos][data-aos-duration="1850"][_ngcontent-%COMP%], body[data-aos-duration="1850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.85s}[data-aos][data-aos][data-aos-delay="1850"][_ngcontent-%COMP%], body[data-aos-delay="1850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1850"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1850"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.85s}[data-aos][data-aos][data-aos-duration="1900"][_ngcontent-%COMP%], body[data-aos-duration="1900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.9s}[data-aos][data-aos][data-aos-delay="1900"][_ngcontent-%COMP%], body[data-aos-delay="1900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1900"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1900"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.9s}[data-aos][data-aos][data-aos-duration="1950"][_ngcontent-%COMP%], body[data-aos-duration="1950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:1.95s}[data-aos][data-aos][data-aos-delay="1950"][_ngcontent-%COMP%], body[data-aos-delay="1950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1950"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="1950"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:1.95s}[data-aos][data-aos][data-aos-duration="2000"][_ngcontent-%COMP%], body[data-aos-duration="2000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2s}[data-aos][data-aos][data-aos-delay="2000"][_ngcontent-%COMP%], body[data-aos-delay="2000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2000"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2000"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2s}[data-aos][data-aos][data-aos-duration="2050"][_ngcontent-%COMP%], body[data-aos-duration="2050"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.05s}[data-aos][data-aos][data-aos-delay="2050"][_ngcontent-%COMP%], body[data-aos-delay="2050"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2050"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2050"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.05s}[data-aos][data-aos][data-aos-duration="2100"][_ngcontent-%COMP%], body[data-aos-duration="2100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.1s}[data-aos][data-aos][data-aos-delay="2100"][_ngcontent-%COMP%], body[data-aos-delay="2100"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2100"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2100"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.1s}[data-aos][data-aos][data-aos-duration="2150"][_ngcontent-%COMP%], body[data-aos-duration="2150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.15s}[data-aos][data-aos][data-aos-delay="2150"][_ngcontent-%COMP%], body[data-aos-delay="2150"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2150"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2150"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.15s}[data-aos][data-aos][data-aos-duration="2200"][_ngcontent-%COMP%], body[data-aos-duration="2200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.2s}[data-aos][data-aos][data-aos-delay="2200"][_ngcontent-%COMP%], body[data-aos-delay="2200"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2200"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2200"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.2s}[data-aos][data-aos][data-aos-duration="2250"][_ngcontent-%COMP%], body[data-aos-duration="2250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.25s}[data-aos][data-aos][data-aos-delay="2250"][_ngcontent-%COMP%], body[data-aos-delay="2250"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2250"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2250"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.25s}[data-aos][data-aos][data-aos-duration="2300"][_ngcontent-%COMP%], body[data-aos-duration="2300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.3s}[data-aos][data-aos][data-aos-delay="2300"][_ngcontent-%COMP%], body[data-aos-delay="2300"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2300"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2300"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.3s}[data-aos][data-aos][data-aos-duration="2350"][_ngcontent-%COMP%], body[data-aos-duration="2350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.35s}[data-aos][data-aos][data-aos-delay="2350"][_ngcontent-%COMP%], body[data-aos-delay="2350"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2350"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2350"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.35s}[data-aos][data-aos][data-aos-duration="2400"][_ngcontent-%COMP%], body[data-aos-duration="2400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.4s}[data-aos][data-aos][data-aos-delay="2400"][_ngcontent-%COMP%], body[data-aos-delay="2400"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2400"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2400"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.4s}[data-aos][data-aos][data-aos-duration="2450"][_ngcontent-%COMP%], body[data-aos-duration="2450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.45s}[data-aos][data-aos][data-aos-delay="2450"][_ngcontent-%COMP%], body[data-aos-delay="2450"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2450"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2450"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.45s}[data-aos][data-aos][data-aos-duration="2500"][_ngcontent-%COMP%], body[data-aos-duration="2500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.5s}[data-aos][data-aos][data-aos-delay="2500"][_ngcontent-%COMP%], body[data-aos-delay="2500"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2500"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2500"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.5s}[data-aos][data-aos][data-aos-duration="2550"][_ngcontent-%COMP%], body[data-aos-duration="2550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.55s}[data-aos][data-aos][data-aos-delay="2550"][_ngcontent-%COMP%], body[data-aos-delay="2550"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2550"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2550"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.55s}[data-aos][data-aos][data-aos-duration="2600"][_ngcontent-%COMP%], body[data-aos-duration="2600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.6s}[data-aos][data-aos][data-aos-delay="2600"][_ngcontent-%COMP%], body[data-aos-delay="2600"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2600"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2600"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.6s}[data-aos][data-aos][data-aos-duration="2650"][_ngcontent-%COMP%], body[data-aos-duration="2650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.65s}[data-aos][data-aos][data-aos-delay="2650"][_ngcontent-%COMP%], body[data-aos-delay="2650"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2650"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2650"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.65s}[data-aos][data-aos][data-aos-duration="2700"][_ngcontent-%COMP%], body[data-aos-duration="2700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.7s}[data-aos][data-aos][data-aos-delay="2700"][_ngcontent-%COMP%], body[data-aos-delay="2700"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2700"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2700"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.7s}[data-aos][data-aos][data-aos-duration="2750"][_ngcontent-%COMP%], body[data-aos-duration="2750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.75s}[data-aos][data-aos][data-aos-delay="2750"][_ngcontent-%COMP%], body[data-aos-delay="2750"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2750"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2750"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.75s}[data-aos][data-aos][data-aos-duration="2800"][_ngcontent-%COMP%], body[data-aos-duration="2800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.8s}[data-aos][data-aos][data-aos-delay="2800"][_ngcontent-%COMP%], body[data-aos-delay="2800"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2800"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2800"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.8s}[data-aos][data-aos][data-aos-duration="2850"][_ngcontent-%COMP%], body[data-aos-duration="2850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.85s}[data-aos][data-aos][data-aos-delay="2850"][_ngcontent-%COMP%], body[data-aos-delay="2850"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2850"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2850"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.85s}[data-aos][data-aos][data-aos-duration="2900"][_ngcontent-%COMP%], body[data-aos-duration="2900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.9s}[data-aos][data-aos][data-aos-delay="2900"][_ngcontent-%COMP%], body[data-aos-delay="2900"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2900"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2900"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.9s}[data-aos][data-aos][data-aos-duration="2950"][_ngcontent-%COMP%], body[data-aos-duration="2950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:2.95s}[data-aos][data-aos][data-aos-delay="2950"][_ngcontent-%COMP%], body[data-aos-delay="2950"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2950"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="2950"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:2.95s}[data-aos][data-aos][data-aos-duration="3000"][_ngcontent-%COMP%], body[data-aos-duration="3000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-duration:3s}[data-aos][data-aos][data-aos-delay="3000"][_ngcontent-%COMP%], body[data-aos-delay="3000"][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-delay:0}[data-aos][data-aos][data-aos-delay="3000"].aos-animate[_ngcontent-%COMP%], body[data-aos-delay="3000"][_ngcontent-%COMP%]   [data-aos].aos-animate[_ngcontent-%COMP%]{transition-delay:3s}[data-aos][data-aos][data-aos-easing=linear][_ngcontent-%COMP%], body[data-aos-easing=linear][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.25,.25,.75,.75)}[data-aos][data-aos][data-aos-easing=ease][_ngcontent-%COMP%], body[data-aos-easing=ease][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:ease}[data-aos][data-aos][data-aos-easing=ease-in][_ngcontent-%COMP%], body[data-aos-easing=ease-in][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:ease-in}[data-aos][data-aos][data-aos-easing=ease-out][_ngcontent-%COMP%], body[data-aos-easing=ease-out][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:ease-out}[data-aos][data-aos][data-aos-easing=ease-in-out][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:ease-in-out}[data-aos][data-aos][data-aos-easing=ease-in-back][_ngcontent-%COMP%], body[data-aos-easing=ease-in-back][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.6,-.28,.735,.045)}[data-aos][data-aos][data-aos-easing=ease-out-back][_ngcontent-%COMP%], body[data-aos-easing=ease-out-back][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}[data-aos][data-aos][data-aos-easing=ease-in-out-back][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-back][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.68,-.55,.265,1.55)}[data-aos][data-aos][data-aos-easing=ease-in-sine][_ngcontent-%COMP%], body[data-aos-easing=ease-in-sine][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.47,0,.745,.715)}[data-aos][data-aos][data-aos-easing=ease-out-sine][_ngcontent-%COMP%], body[data-aos-easing=ease-out-sine][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.39,.575,.565,1)}[data-aos][data-aos][data-aos-easing=ease-in-out-sine][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-sine][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.445,.05,.55,.95)}[data-aos][data-aos][data-aos-easing=ease-in-quad][_ngcontent-%COMP%], body[data-aos-easing=ease-in-quad][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quad][_ngcontent-%COMP%], body[data-aos-easing=ease-out-quad][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quad][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-quad][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-cubic][_ngcontent-%COMP%], body[data-aos-easing=ease-in-cubic][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-cubic][_ngcontent-%COMP%], body[data-aos-easing=ease-out-cubic][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-cubic][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-cubic][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-quart][_ngcontent-%COMP%], body[data-aos-easing=ease-in-quart][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quart][_ngcontent-%COMP%], body[data-aos-easing=ease-out-quart][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quart][_ngcontent-%COMP%], body[data-aos-easing=ease-in-out-quart][_ngcontent-%COMP%]   [data-aos][_ngcontent-%COMP%]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos^=fade][data-aos^=fade][_ngcontent-%COMP%]{opacity:0;transition-property:opacity,transform}[data-aos^=fade][data-aos^=fade].aos-animate[_ngcontent-%COMP%]{opacity:1;transform:translateZ(0)}[data-aos=fade-up][_ngcontent-%COMP%]{transform:translate3d(0,100px,0)}[data-aos=fade-down][_ngcontent-%COMP%]{transform:translate3d(0,-100px,0)}[data-aos=fade-right][_ngcontent-%COMP%]{transform:translate3d(-100px,0,0)}[data-aos=fade-left][_ngcontent-%COMP%]{transform:translate3d(100px,0,0)}[data-aos=fade-up-right][_ngcontent-%COMP%]{transform:translate3d(-100px,100px,0)}[data-aos=fade-up-left][_ngcontent-%COMP%]{transform:translate3d(100px,100px,0)}[data-aos=fade-down-right][_ngcontent-%COMP%]{transform:translate3d(-100px,-100px,0)}[data-aos=fade-down-left][_ngcontent-%COMP%]{transform:translate3d(100px,-100px,0)}[data-aos^=zoom][data-aos^=zoom][_ngcontent-%COMP%]{opacity:0;transition-property:opacity,transform}[data-aos^=zoom][data-aos^=zoom].aos-animate[_ngcontent-%COMP%]{opacity:1;transform:translateZ(0) scale(1)}[data-aos=zoom-in][_ngcontent-%COMP%]{transform:scale(.6)}[data-aos=zoom-in-up][_ngcontent-%COMP%]{transform:translate3d(0,100px,0) scale(.6)}[data-aos=zoom-in-down][_ngcontent-%COMP%]{transform:translate3d(0,-100px,0) scale(.6)}[data-aos=zoom-in-right][_ngcontent-%COMP%]{transform:translate3d(-100px,0,0) scale(.6)}[data-aos=zoom-in-left][_ngcontent-%COMP%]{transform:translate3d(100px,0,0) scale(.6)}[data-aos=zoom-out][_ngcontent-%COMP%]{transform:scale(1.2)}[data-aos=zoom-out-up][_ngcontent-%COMP%]{transform:translate3d(0,100px,0) scale(1.2)}[data-aos=zoom-out-down][_ngcontent-%COMP%]{transform:translate3d(0,-100px,0) scale(1.2)}[data-aos=zoom-out-right][_ngcontent-%COMP%]{transform:translate3d(-100px,0,0) scale(1.2)}[data-aos=zoom-out-left][_ngcontent-%COMP%]{transform:translate3d(100px,0,0) scale(1.2)}[data-aos^=slide][data-aos^=slide][_ngcontent-%COMP%]{transition-property:transform}[data-aos^=slide][data-aos^=slide].aos-animate[_ngcontent-%COMP%]{transform:translateZ(0)}[data-aos=slide-up][_ngcontent-%COMP%]{transform:translate3d(0,100%,0)}[data-aos=slide-down][_ngcontent-%COMP%]{transform:translate3d(0,-100%,0)}[data-aos=slide-right][_ngcontent-%COMP%]{transform:translate3d(-100%,0,0)}[data-aos=slide-left][_ngcontent-%COMP%]{transform:translate3d(100%,0,0)}[data-aos^=flip][data-aos^=flip][_ngcontent-%COMP%]{backface-visibility:hidden;transition-property:transform}[data-aos=flip-left][_ngcontent-%COMP%]{transform:perspective(2500px) rotateY(-100deg)}[data-aos=flip-left].aos-animate[_ngcontent-%COMP%]{transform:perspective(2500px) rotateY(0)}[data-aos=flip-right][_ngcontent-%COMP%]{transform:perspective(2500px) rotateY(100deg)}[data-aos=flip-right].aos-animate[_ngcontent-%COMP%]{transform:perspective(2500px) rotateY(0)}[data-aos=flip-up][_ngcontent-%COMP%]{transform:perspective(2500px) rotateX(-100deg)}[data-aos=flip-up].aos-animate[_ngcontent-%COMP%]{transform:perspective(2500px) rotateX(0)}[data-aos=flip-down][_ngcontent-%COMP%]{transform:perspective(2500px) rotateX(100deg)}[data-aos=flip-down].aos-animate[_ngcontent-%COMP%]{transform:perspective(2500px) rotateX(0)}#home[_ngcontent-%COMP%]{min-height:100vh!important;height:auto!important}.text-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}h5[_ngcontent-%COMP%]{margin:40px 0!important;color:var(--text-color)}.text-home[_ngcontent-%COMP%]{color:var(--title-color);font-weight:500;display:flex;gap:10px;align-items:center;justify-content:center;font-size:16px;margin:0!important}.text-home[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:.7rem!important;color:#00c951}h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--title-color)}.description-home[_ngcontent-%COMP%]{max-width:420px;font-size:18px;font-weight:400;margin:0!important}.emoji-text[_ngcontent-%COMP%]{width:24px;margin-left:5px!important}.tag[_ngcontent-%COMP%]{background:var(--background-gray-color)}.icon-image-home[_ngcontent-%COMP%]{font-size:30rem}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap;padding:0;margin:0}.button-cv[_ngcontent-%COMP%]{height:52px;background-color:var(--background-white-color);border:1px solid var(--border-color);border-radius:6px;box-sizing:border-box;padding:16px!important;cursor:pointer;transition:.5s;text-decoration:none;position:relative;display:flex;align-items:center;justify-content:center;gap:15px;color:var(--title-color)}.button-cv[_ngcontent-%COMP%]:before{opacity:0;border-radius:6px!important;content:"";position:absolute;top:0;left:0;width:0;height:100%;z-index:-1;background-color:var(--title-color);border:1px solid var(--title-color);transition:.5s}.button-cv[_ngcontent-%COMP%]:hover:before{width:100%;opacity:1;z-index:1}.icon-cv[_ngcontent-%COMP%]{color:var(--title-color);font-size:18px;z-index:2;transition:.5s}.button-cv[_ngcontent-%COMP%]:hover   .icon-cv[_ngcontent-%COMP%], .button-cv[_ngcontent-%COMP%]:hover   .text-cv[_ngcontent-%COMP%]{color:var(--hover-text-button)!important;z-index:2}.image-area[_ngcontent-%COMP%]{width:50%}.container-avatar[_ngcontent-%COMP%]{width:530px;height:50vh;position:relative;background:var(--background-gray-color);display:flex;align-items:center;justify-content:center;border-radius:5px}.container-avatar[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{position:absolute;bottom:0!important;left:0}@media (max-width: 1200px){.container[_ngcontent-%COMP%]{align-items:flex-start!important;margin-top:30px!important}.background-image[_ngcontent-%COMP%]{display:flex;align-items:flex-start!important}.container-avatar[_ngcontent-%COMP%]{width:100%;background:var(--background-white-color)}.text-cv[_ngcontent-%COMP%]{display:none}}@media (max-width: 800px){.container-about[_ngcontent-%COMP%]{gap:20px}.image-area[_ngcontent-%COMP%]{width:100%;align-items:center;justify-content:center}}']})}return n})();var go=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(go||{});function Tat(n,e){return{type:go.Trigger,name:n,definitions:e,options:{}}}function Sat(n,e=null){return{type:go.Animate,styles:e,timings:n}}function F1e(n){return{type:go.Style,styles:n,offset:null}}function Aat(n,e,t=null){return{type:go.Transition,expr:n,animation:e,options:t}}const Nat=(n,e,t)=>({backgroundColor:n,animationDelay:e,animationDuration:t});function Dat(n,e){if(1&n&&(Ye(0,"div",3),oi(1,"div",4),Ge(2),He()),2&n){const t=e.$implicit,i=e.index;N1("ngStyle",DB(2,Nat,t.color,200*i+"ms",6+i+"s")),v1(2),_6(" ",t.name," ")}}let Rat=(()=>{class n{skills=[{name:"UX DESIGN",color:"#fca652"},{name:"BRANDING",color:"#58b4f0"},{name:"WEB DESIGN",color:"#34d399"},{name:"FRAMER",color:"#a78bfa"},{name:"STRATEGY",color:"#f87171"},{name:"USER RESEARCH",color:"#ec4899"}];constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-about-skills"]],decls:5,vars:1,consts:[[1,"skills-section"],[1,"skills-floating-grid"],["class","floating-skill",3,"ngStyle",4,"ngFor","ngForOf"],[1,"floating-skill",3,"ngStyle"],[1,"pointer"]],template:function(i,s){1&i&&(Ye(0,"div",0)(1,"h2"),Ge(2,"Skills"),He(),Ye(3,"div",1),$3(4,Dat,3,6,"div",2),He()()),2&i&&(v1(4),N1("ngForOf",s.skills))},dependencies:[Au,ST],styles:[".skills-section[_ngcontent-%COMP%]{padding:2rem;background-color:#111;color:#fff;border-radius:1rem;font-family:Inter,sans-serif;overflow:hidden}.skills-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}.skills-floating-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;position:relative}.floating-skill[_ngcontent-%COMP%]{padding:.7rem 1.4rem;border-radius:.8rem;color:#fff;font-weight:700;font-size:.875rem;position:relative;animation-name:_ngcontent-%COMP%_floatSkill;animation-timing-function:ease-in-out;animation-iteration-count:infinite;opacity:0;animation-fill-mode:forwards;animation-delay:0ms}.pointer[_ngcontent-%COMP%]{width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid white;position:absolute;top:-6px;left:10px;transform:rotate(-20deg);opacity:.8}@keyframes _ngcontent-%COMP%_floatSkill{0%{transform:translate(0);opacity:0}10%{opacity:1}25%{transform:translate(10px,-6px)}50%{transform:translate(-10px,6px)}75%{transform:translate(6px,-4px)}to{transform:translate(0)}}"],data:{animation:[Tat("fadeInUp",[Aat("hidden => visible",[F1e({opacity:0,transform:"translateY(20px)"}),Sat("600ms ease-out",F1e({opacity:1,transform:"translateY(0)"}))])])]}})}return n})(),Oat=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-about"]],decls:33,vars:0,consts:[["id","about",1,"d-flex","align-items-center","justify-content-center"],[1,"container","container-about","d-flex","align-items-center","justify-content-between"],["data-aos","zoom-in-right",1,"text-area"],[1,"header-section"],[1,"tag","background-gray"],[1,"p-top"],[1,"material-symbols-rounded","emoji-p"],[1,"image-area"]],template:function(i,s){1&i&&(Ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6"),Ge(6,"SOBRE"),He()(),Ye(7,"h2"),Ge(8,"Desenvolvedor "),Ye(9,"span"),Ge(10,"front-end"),He()(),Ye(11,"h5"),Ge(12,"Residente de S\xe3o Paulo - Brasil"),He()(),Ye(13,"p",5),Ge(14," Focado no desenvolvimento de novas features juntamente com integra\xe7\xe3o de API's REST, atendendo as regras de neg\xf3cio e contexto das tarefas realizadas. Desenvolvo interfaces modernas e de alta qualidade, concentrado em performance, anima\xe7\xf5es, e responsividade. Busco sempre aplicar as melhores pr\xe1ticas de desenvolvimento para garantir escalabilidade e facilidade de manuten\xe7\xe3o do c\xf3digo. Trabalho com uma abordagem colaborativa, focando na entrega cont\xednua de valor ao usu\xe1rio final. "),He(),Ye(15,"p")(16,"span",6),Ge(17," developer_mode "),He(),Ge(18," Desenvolvimento web Angular desde 2020. "),He(),Ye(19,"p")(20,"span",6),Ge(21," school "),He(),Ge(22," Graduado em an\xe1lise e desenvolvimento de sistemas. "),He(),Ye(23,"p")(24,"span",6),Ge(25," code_blocks "),He(),Ge(26," Interesse em desenvolvimento front-end. "),He(),Ye(27,"p")(28,"span",6),Ge(29," rocket_launch "),He(),Ge(30," Buscando uma oportunidade para atuar. "),He()(),Ye(31,"div",7),oi(32,"app-about-skills"),He()()())},dependencies:[Rat],styles:[".about[_ngcontent-%COMP%]{min-height:auto!important;height:auto!important}.container-about[_ngcontent-%COMP%]{align-items:flex-start!important}.container-about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.p-top[_ngcontent-%COMP%]{margin:0 0 28px}p[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px;color:var(--text-color)}.line-and-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px}.line-and-title[_ngcontent-%COMP%]   .line-title[_ngcontent-%COMP%]{width:60px}.text-area[_ngcontent-%COMP%]{width:50%}.image-area[_ngcontent-%COMP%]{width:46%;height:max-content;display:flex;justify-content:center;align-items:center;box-sizing:border-box}.image-area[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:500;color:var(--title-color);font-size:18px}.card-skill-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:25px;overflow-y:hidden;padding-right:40px;position:relative;z-index:1}.arrow-bottom[_ngcontent-%COMP%]{width:100%;height:80px;position:fixed;bottom:0;left:0;background:linear-gradient(180deg,#fff0 10%,#fff 65%);display:flex;align-items:flex-end;justify-content:center;transition:opacity .3s ease-in-out}.card-skill-area[_ngcontent-%COMP%]:hover{overflow-y:scroll}.card-skill-area[_ngcontent-%COMP%]:hover   .arrow-bottom[_ngcontent-%COMP%]{opacity:0}.card-skill-area[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px!important}.card-skill-area[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--text-color)}.card-skill-area[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--background-white-color)}.card-skill[_ngcontent-%COMP%]{min-width:100%;box-sizing:border-box;display:flex;flex-direction:column;gap:12px}.card-skill[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;color:var(--title-color);font-weight:500;margin:0;display:flex;align-items:center;justify-content:flex-start;gap:8px}.emoji-p[_ngcontent-%COMP%]{color:var(--title-color)}.card-skill[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:18px}.card-skill[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:var(--title-color);margin:0;line-height:1.4rem}@media (max-width: 1200px){.text-area[_ngcontent-%COMP%]{width:100%;border:0}.image-area[_ngcontent-%COMP%]{width:50%!important}.container-about[_ngcontent-%COMP%]{gap:30px}}@media (max-width: 800px){.container-about[_ngcontent-%COMP%]{gap:20px}}@media (max-width: 600px){.image-area[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})(),kat=(()=>{class n{optionOne={id:0,text:"Experi\xeancia",icon:"frame_source"};options=[{id:1,text:"Superior",icon:"school"},{id:2,text:"T\xe9cnico",icon:"book_5"},{id:3,text:"Certifica\xe7\xf5es",icon:"bookmarks"}];activeIndex=0;experiencesArea=document.getElementsByClassName("box-experience");experiences=[{imageUrl:"assets/images/alpe-logo.png",title:"Desenvolvedor Front-end Jr",subtitle:"ALPE",timing:"Set 2021 - Nov 2023 (2 Anos)",local:"S\xe3o Paulo - SP - Brasil",text:"Comecei a implementar fluxos mais complexos e completos nos\n            projetos, e ent\xe3o passei a me envolver mais nas regras de neg\xf3cios\n            tomando conta do portal da empresa junto ao site institucional para\n            implementar novas funcionalidades e trabalhando em manuten\xe7\xf5es para\n            manter o funcionamento correto, recebi mais responsabilidades como\n            por exemplo, auxiliar no desenvolvimento t\xe9cnico e profissionaal de\n            novos estagi\xe1rios."},{imageUrl:"assets/images/alpe-logo.png",title:"Estagi\xe1rio UI/UX",subtitle:"ALPE",timing:"Set 2020 - Set 2021 (1 Ano)",local:"S\xe3o Paulo - SP - Brasil",text:"Meu primeiro contato com um produto no mundo corporativo, em um\n              time que apoiava todas squads na idea\xe7\xe3o de novos projetos, minha\n              primeira tarefa foi ligar para os clientes aplicando uma\n              entrevista para analisar e mapear suas dores, criando algo que de\n              fato supria suas necessidades. Ainda como estagi\xe1rio, tive contato\n              tamb\xe9m com o desenvolvimento web Angular nos projetos que\n              posteriormente seriam minha responsabilidade."}];superior=[{imageUrl:"assets/images/sptech-logo.png",title:"An\xe1lise e desenvolvimento de sistemas",subtitle:"SPTECH - Gradua\xe7\xe3o",timing:"Jan 2020 - Dez 2021 (2 Anos)",local:"S\xe3o Paulo - SP - Brasil",text:"Durante o curso de An\xe1lise e Desenvolvimento de Sistemas na S\xe3o\n            Paulo Tech School, pude adquirir uma base s\xf3lida em programa\xe7\xe3o, a\n            metodologia pr\xe1tica foi essencial para o desenvolvimento das minhas\n            habilidades, com foco em resolu\xe7\xe3o de problemas reais. Tive a\n            oportunidade de trabalhar com diversas tecnologias e frameworks\n            atuais, como Angular, o que me preparou para o mercado,e a intera\xe7\xe3o\n            professores qualificados me proporcionou um ambiente colaborativo e\n            desafiador."},{imageUrl:"assets/images/sptech-logo.png",title:"Lideran\xe7a e Gest\xe3o em tecnologia",subtitle:"SPTECH - P\xf3s-Gradua\xe7\xe3o",timing:"Out 2022 - Nov 2023 (1 Ano)",local:"S\xe3o Paulo - SP - Brasil",text:"A p\xf3s-gradua\xe7\xe3o em Lideran\xe7a e Gest\xe3o em Tecnologia na S\xe3o Paulo\n            Tech School foi transformadora. Aprendi a gerenciar equipes e\n            projetos tecnol\xf3gicos com efic\xe1cia, al\xe9m de desenvolver habilidades\n            de comunica\xe7\xe3o e tomada de decis\xe3o. O curso me proporcionou insights\n            sobre estrat\xe9gias de lideran\xe7a e como aplicar metodologias \xe1geis no\n            dia a dia. A troca de experi\xeancias com profissionais do mercado foi\n            enriquecedora e me preparou para desafios em cargos de lideran\xe7a na\n            \xe1rea de TI."}];tecnic=[{imageUrl:"assets/images/logo-etec.png",title:"Desenvolvimento de Sistemas",subtitle:"ETEC de Guaianazes - T\xe9cnico",timing:"Out 2018 - Dez 2019 (1 ano e 6 meses)",local:"S\xe3o Paulo - SP - Brasil",text:"O curso t\xe9cnico de Desenvolvimento de Sistemas na ETEC de Guaianazes\n            me proporcionou uma base s\xf3lida em programa\xe7\xe3o. Durante o curso, aprendi diversas\n            linguagens e conceitos fundamentais, o que facilitou meu entendimento de algoritmos\n            e desenvolvimento de software. As atividades pr\xe1ticas foram essenciais para aplicar\n            os conhecimentos e desenvolver habilidades t\xe9cnicas. O suporte dos professores\n            e o ambiente de aprendizado colaborativo ajudaram a aprimorar minhas capacidades."},{imageUrl:"assets/images/logo-etec.png",title:"Inform\xe1tica",subtitle:"ETEC de Guaianazes - T\xe9cnico",timing:"Out 2016 - Dez 2017 (1 ano e 6 meses)",local:"S\xe3o Paulo - SP - Brasil",text:"Cursar o t\xe9cnico em Inform\xe1tica na ETEC de Guaianazes foi uma viv\xeancia muito positiva. \n            O curso abrangeu desde fundamentos de redes e hardware at\xe9 introdu\xe7\xf5es \xe0 programa\xe7\xe3o, o que\n            me deu uma vis\xe3o ampla da \xe1rea de TI. A pr\xe1tica constante e os projetos desenvolvidos\n            ao longo das aulas foram essenciais para o aprendizado. O suporte dos professores,\n            sempre dispostos a ajudar, tornou o processo ainda mais enriquecedor."}];certifications=[{imageUrl:"assets/images/logo-udemy.png",title:"Aprendendo Redux utilizano NGRX com Angular 13+",subtitle:"Instrutor: Fredddy Cristian Maldonado Parra",timing:"Certificado de conclus\xe3o",local:"2024 - 4 horas totais",text:"Implementa\xe7\xe3o de gerenciamento de estado em projetos Angular utilizando a biblioteca NGRX, \n            focado em conceitos como actions, reducers, effects e selectors."},{imageUrl:"assets/images/cellep-logo.webp",title:"Encoding Essential Skills UI/UX",subtitle:"Diretora: Patr\xedcia McKay Aronis",timing:"Certificado de conclus\xe3o",local:"2019 - 32 horas totais",text:"A certifica\xe7\xe3o b\xe1sica de UI/UX de 32 horas na Esta\xe7\xe3o Hack foi uma experi\xeancia transformadora. \n            O curso abordou desde os princ\xedpios fundamentais de design at\xe9 as melhores pr\xe1ticas para criar interfaces\n            intuitivas e agrad\xe1veis. Com atividades pr\xe1ticas, pude aplicar conceitos de usabilidade e design centrado\n            no usu\xe1rio em projetos reais. A intera\xe7\xe3o com colegas e instrutores foi enriquecedora, proporcionando\n            feedback constante e novas perspectivas."},{imageUrl:"assets/images/madcode-logo.png",title:"App Development Kotlin",subtitle:"Diretora: Patr\xedcia McKay Aronis",timing:"Certificado de conclus\xe3o",local:"2019 - 32 horas totais",text:"O curso proporcionou uma imers\xe3o pr\xe1tica e te\xf3rica na linguagem, com foco em desenvolver\n            habilidades desde o b\xe1sico at\xe9 a cria\xe7\xe3o de pequenas aplica\xe7\xf5es. A did\xe1tica clara e os exerc\xedcios\n            desafiadores foram fundamentais para consolidar o conhecimento. Al\xe9m disso, o ambiente colaborativo\n            da Esta\xe7\xe3o Hack incentivou a troca de experi\xeancias e o aprendizado em grupo. Foi uma excelente oportunidade\n            para fortalecer a base em Kotlin e abrir portas para projetos futuros."}];arrowVisible=!0;faChevronDown=uZ;ngOnInit(){this.showContent(0)}showContent(t){this.activeIndex=t,Array.from(this.experiencesArea).forEach((i,s)=>{t==s?i.classList.add("show-experience"):i.classList.remove("show-experience")})}onScroll(t){this.arrowVisible=0===t.target.scrollTop}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-experience"]],decls:131,vars:0,consts:[["id","experience",1,"d-flex","align-items-center","justify-content-center"],[1,"container","d-flex","justify-content-start","align-items-start","flex-column"],["data-aos","fade-in","data-aos-duration","1400",1,"header-section"],[1,"tag","background-gray"],["data-aos","fade-in","data-aos-duration","1400",1,"container-experience"],[1,"column"],[1,"column-experience"],[1,"line-area"],[1,"line"],[1,"material-symbols-rounded"],[1,"experience-area"],["data-aos","zoom-in-down",1,"card-experience"],[1,"header-experience"],[1,"title-card"],[1,"content-experience"],[1,"material-symbols-rounded","emoji-p"],["data-aos","zoom-in-down",1,"column-experience"],[1,"card-experience"]],template:function(i,s){1&i&&(Ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),Ge(5,"EXPERI\xcaNCIA"),He()(),Ye(6,"h2"),Ge(7,"Trajet\xf3ria "),Ye(8,"span"),Ge(9,"Profissional"),He()(),Ye(10,"h5"),Ge(11,"Como adquiri minhas habilidades e conhecimentos"),He()(),Ye(12,"div",4)(13,"div",5)(14,"h6"),Ge(15,"Experi\xeancia"),He(),Ye(16,"div",6)(17,"div",7),oi(18,"div",8),Ye(19,"span",9),Ge(20," circle "),He(),Ye(21,"span",9),Ge(22," circle "),He()(),Ye(23,"div",10)(24,"div",11)(25,"div",12)(26,"div",13)(27,"span"),Ge(28,"Desenvolvedor"),He(),Ge(29," Front-end Jr "),He(),Ge(30," ALPE \u2022 2021 - 2023 "),He(),Ye(31,"div",14)(32,"p")(33,"span",15),Ge(34," data_object "),He(),Ge(35," Desenvolvimento com Angular e Typescript. "),He(),Ye(36,"p")(37,"span",15),Ge(38," api "),He(),Ge(39," Integra\xe7\xe3o com API REST. "),He(),Ye(40,"p")(41,"span",15),Ge(42," bug_report "),He(),Ge(43," Corre\xe7\xf5es de bugs funcionais. "),He(),Ye(44,"p")(45,"span",15),Ge(46," add_box "),He(),Ge(47," Desenvolvimento de novas features. "),He()()(),Ye(48,"div",11)(49,"div",12)(50,"div",13)(51,"span"),Ge(52,"Estagi\xe1rio"),He(),Ge(53," Design UI/UX "),He(),Ge(54," ALPE \u2022 2020 - 2021 "),He(),Ye(55,"div",14)(56,"p")(57,"span",15),Ge(58," assignment "),He(),Ge(59," Entrevista com os clientes. "),He(),Ye(60,"p")(61,"span",15),Ge(62," brightness_alert "),He(),Ge(63," Mapeamento de dores e necessidades. "),He(),Ye(64,"p")(65,"span",15),Ge(66," bar_chart "),He(),Ge(67," Entendimento de mercado. "),He(),Ye(68,"p")(69,"span",15),Ge(70," computer_arrow_up "),He(),Ge(71," Prototipa\xe7\xe3o e valida\xe7\xe3o de id\xe9ias. "),He()()()()()(),Ye(72,"div",5)(73,"h6"),Ge(74,"Educa\xe7\xe3o"),He(),Ye(75,"div",16)(76,"div",7),oi(77,"div",8),Ye(78,"span",9),Ge(79," circle "),He(),Ye(80,"span",9),Ge(81," circle "),He()(),Ye(82,"div",10)(83,"div",17)(84,"div",12)(85,"div",13)(86,"span"),Ge(87,"Lideran\xe7a e Gest\xe3o"),He(),Ge(88," em Tecnologia "),He(),Ge(89," P\xf3s-gradua\xe7\xe3o "),He(),Ye(90,"div",14)(91,"p")(92,"span",15),Ge(93," emoji_objects "),He(),Ge(94," Inova\xe7\xe3o alinhada a tecnologia. "),He(),Ye(95,"p")(96,"span",15),Ge(97," Cognition "),He(),Ge(98," Planejamento estrat\xe9gico de neg\xf3cio. "),He(),Ye(99,"p")(100,"span",15),Ge(101," avg_time "),He(),Ge(102," Governan\xe7a de TI e gest\xe3o de riscos. "),He(),Ye(103,"p")(104,"span",15),Ge(105," next_week "),He(),Ge(106," Gest\xe3o de projetos \xe1geis. "),He()()(),Ye(107,"div",11)(108,"div",12)(109,"div",13)(110,"span"),Ge(111,"An\xe1lise e Desenvolvimento"),He(),Ge(112," de Sistemas "),He(),Ge(113," Gradua\xe7\xe3o "),He(),Ye(114,"div",14)(115,"p")(116,"span",15),Ge(117," flowchart "),He(),Ge(118," Fundamentos e l\xf3gica de programa\xe7\xe3o. "),He(),Ye(119,"p")(120,"span",15),Ge(121," dataset "),He(),Ge(122," Modelagem e an\xe1lise de sistemas. "),He(),Ye(123,"p")(124,"span",15),Ge(125," manage_search "),He(),Ge(126," Direcionamentos sobre UI/UX. "),He(),Ye(127,"p")(128,"span",15),Ge(129," smart_toy "),He(),Ge(130," An\xe1lise e utoma\xe7\xe3o de processos. "),He()()()()()()()()())},styles:[".container-experience{width:100%;min-height:549px;height:auto;display:flex;align-items:center;justify-content:center;gap:80px}.container-experience .column{width:50%;height:auto;display:flex;flex-direction:column;gap:20px}.container-experience .column .column-experience{width:100%;height:auto;display:flex;gap:20px}.container-experience .column .column-experience .line-area{width:25px;position:relative;display:flex;align-items:center;justify-content:center}.container-experience .column .column-experience .line-area span{color:var(--title-color);position:absolute;top:0;left:0;background:var(--background-white-color)}.container-experience .column .column-experience .line-area span:nth-of-type(2){top:calc(50% + 20px);left:0}.container-experience .column .column-experience .line-area .line{position:absolute;top:0;bottom:0;width:1px;background:var(--border-color)}.container-experience .column .column-experience .experience-area{width:100%;height:auto;display:flex;flex-direction:column;gap:40px}.container-experience .column .column-experience .experience-area .card-experience{width:100%;height:237px;border:1px solid var(--border-color);border-radius:6px;box-sizing:border-box;padding:20px;display:flex;flex-direction:column;justify-content:space-between}.container-experience .column .column-experience .experience-area .card-experience .header-experience{width:100%;display:flex;justify-content:space-between;color:var(--text-color);font-size:14px;align-items:center}.container-experience .column .column-experience .experience-area .card-experience .header-experience .title-card{font-weight:600;font-size:15px}.container-experience .column .column-experience .experience-area .card-experience .header-experience .title-card span{color:var(--title-color)}.container-experience .column .column-experience .experience-area .card-experience .content-experience{display:flex;flex-direction:column;gap:12px}.container-experience .column .column-experience .experience-area .card-experience .content-experience p{font-size:14px;display:flex;align-items:center;justify-content:flex-start;gap:10px;color:var(--text-color);margin:0!important}.container-experience .column .column-experience .experience-area .card-experience .content-experience p span{color:var(--title-color);font-size:18px}@media (max-width: 1200px){.container-experience{flex-direction:column!important;justify-content:flex-start;align-items:flex-start}.container-experience .column{width:100%}}@media (max-width: 780px){.card-experience{height:max-content!important;gap:20px}.card-experience .header-experience{flex-direction:column;align-items:flex-start!important;justify-content:flex-start!important;gap:10px}}@media (max-width: 600px){.container-experience .column{height:max-content!important}.content-experience p{font-size:11px!important}.content-experience p span{font-size:10px!important}}\n"],encapsulation:2})}return n})();function Fat(n,e){1&n&&oi(0,"img",21)}function Vat(n,e){1&n&&oi(0,"img",22)}let Uat=(()=>{class n{faLinkedin=rA;faGithub=gv;faBehance=oA;faFigma=x9;isDarkMode=!1;ngOnInit(){this.checkDarkMode(),new MutationObserver(()=>this.checkDarkMode()).observe(document.body,{attributes:!0,attributeFilter:["class"]})}checkDarkMode(){this.isDarkMode=document.body.classList.contains("dark-mode")}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-footer"]],decls:45,vars:6,consts:[["id","footer",1,"d-flex","align-items-center","justify-content-center","background-white"],[1,"container","d-flex","justify-content-start","align-items-start","flex-column"],[1,"content-footer"],["src","assets/images/logo-gustavo.png","style","width: 100px",4,"ngIf"],["src","assets/images/logo-gustavo-dark.png","style","width: 100px",4,"ngIf"],[1,"text-footer"],[1,"socials"],["link","https://www.linkedin.com/in/gustavo-henrique-885918199/",3,"icon"],["link","https://github.com/gustavo-henrique1",3,"icon"],["link","https://www.behance.net/gustavohenrique63",3,"icon"],[3,"icon"],[1,"itens-menu"],[1,"nav-item"],["href","#home",1,"nav-link"],["href","#about",1,"nav-link"],["href","#experience",1,"nav-link"],["href","#technologies",1,"nav-link"],["href","#portfolio",1,"nav-link"],[1,"fa-solid","fa-quote-left","quote"],[1,"copy"],[1,"container","d-flex","align-itens-center","justify-content-center"],["src","assets/images/logo-gustavo.png",2,"width","100px"],["src","assets/images/logo-gustavo-dark.png",2,"width","100px"]],template:function(i,s){1&i&&(Ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"div"),$3(4,Fat,1,0,"img",3)(5,Vat,1,0,"img",4),Ye(6,"p",5),Ge(7," Design e c\xf3digo com prop\xf3sito. "),oi(8,"br"),Ge(9," Projetado com paix\xe3o e desenvolvido "),oi(10,"br"),Ge(11," com aten\xe7\xe3o aos detalhes. "),He(),Ye(12,"nav")(13,"ul",6),oi(14,"app-social-card",7)(15,"app-social-card",8)(16,"app-social-card",9)(17,"app-social-card",10),He()()(),Ye(18,"div",11)(19,"ul")(20,"li",12)(21,"a",13),Ge(22,"Home"),He()(),Ye(23,"li",12)(24,"a",14),Ge(25,"Sobre"),He()(),Ye(26,"li",12)(27,"a",15),Ge(28,"Experi\xeancia"),He()(),Ye(29,"li",12)(30,"a",16),Ge(31,"Conhecimento"),He()(),Ye(32,"li",12)(33,"a",17),Ge(34,"Portf\xf3lio"),He()()()(),Ye(35,"div",11),oi(36,"i",18),Ye(37,"h5"),Ge(38,"A interface \xe9 a alma de uma aplica\xe7\xe3o."),He(),Ye(39,"p"),Ge(40,"Linus Torvalds."),He()()(),Ye(41,"div",19)(42,"div",20)(43,"p"),Ge(44,"\xa9 2025 copyright - Gustavo Henrique"),He()()()()()),2&i&&(v1(4),N1("ngIf",!s.isDarkMode),v1(),N1("ngIf",s.isDarkMode),v1(9),N1("icon",s.faLinkedin),v1(),N1("icon",s.faGithub),v1(),N1("icon",s.faBehance),v1(),N1("icon",s.faFigma))},dependencies:[ET,Gee],styles:["#footer[_ngcontent-%COMP%]{height:auto!important;min-height:unset!important;padding-bottom:40px!important;padding-top:70px!important}.content-footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;border-bottom:1px solid var(--border-color);border-top:1px solid var(--border-color);padding:50px 0}.container-menu[_ngcontent-%COMP%]{box-sizing:border-box;padding:60px 0}.copy[_ngcontent-%COMP%]{padding:40px 0 0}.copy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--title-color);margin:0!important}img[_ngcontent-%COMP%]{margin-bottom:15px}p[_ngcontent-%COMP%]{margin-bottom:24px}.quote[_ngcontent-%COMP%]{font-size:20px;color:var(--title-color);margin-bottom:2px}.itens-menu[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px!important;font-style:italic;margin:0}.itens-menu[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-color)}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:20px;padding:0}.itens-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px!important;list-style-type:none;color:var(--title-color)}.nav-item[_ngcontent-%COMP%], .text-footer[_ngcontent-%COMP%]{font-size:14px!important}@media (max-width: 1200px){.content-footer[_ngcontent-%COMP%]{flex-direction:column}.itens-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0!important;margin-top:35px}.container[_ngcontent-%COMP%]{margin-top:30px!important}.quote[_ngcontent-%COMP%]{margin-top:20px}.copy[_ngcontent-%COMP%]{padding-bottom:60px!important}}"]})}return n})();const Bat=()=>["fas","star"],Hat=(n,e)=>({"text-warning":n,"text-secondary":e});function jat(n,e){if(1&n&&oi(0,"fa-icon",7),2&n){const t=e.index,i=g6();N1("icon",function PB(n,e,t){const i=Or()+n,s=Le();return s[i]===l1?Vc(s,i,t?e.call(t):e()):function Ah(n,e){return n[e]}(s,i)}(2,Bat))("ngClass",NB(3,Hat,t<i.knowledgeLevel,t>=i.knowledgeLevel))}}let Gat=(()=>{class n{icon;title;description;knowledgeLevel=0;showStars=!1;stars=new Array(5);ngOnInit(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-technologie-card"]],inputs:{icon:"icon",title:"title",description:"description",knowledgeLevel:"knowledgeLevel"},decls:12,vars:4,consts:[[1,"card","d-flex","position-relative","star-card"],[1,"stars-container"],["class","icon-star",3,"icon","ngClass",4,"ngFor","ngForOf"],[1,"icon-border"],[1,"d-flex","icon",3,"icon"],[1,"description"],[1,"title"],[1,"icon-star",3,"icon","ngClass"]],template:function(i,s){1&i&&(Ye(0,"div",0)(1,"div",1),$3(2,jat,1,6,"fa-icon",2),He(),Ye(3,"div")(4,"div",3),oi(5,"fa-icon",4),He()(),Ye(6,"div",5)(7,"p")(8,"span",6),Ge(9),He()(),Ye(10,"p"),Ge(11),He()()()),2&i&&(v1(2),N1("ngForOf",s.stars),v1(3),N1("icon",s.icon),v1(4),_4(s.title),v1(2),_4(s.description))},dependencies:[xT,Au,Tv],styles:[".card[_ngcontent-%COMP%]{width:262.5px;background:var(--background-white-color);border:1px solid var(--border-color);box-sizing:border-box;padding:10px;gap:15px;justify-content:flex-start;flex-direction:row}.icon-border[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:45px;height:45px;border-radius:6px;background:var(--background-gray-color)}.icon[_ngcontent-%COMP%]{color:var(--title-color);font-size:1.2rem!important}.description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0px;justify-content:center}p[_ngcontent-%COMP%]{font-size:12px;color:var(--text-color);margin:0;height:max-content;line-height:1.3rem}p[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;color:var(--title-color)!important;font-weight:600}.star-card[_ngcontent-%COMP%]{position:relative}.star-card[_ngcontent-%COMP%]   .icon-star[_ngcontent-%COMP%]{font-size:10px!important}.star-card[_ngcontent-%COMP%]   .stars-container[_ngcontent-%COMP%]{opacity:0;position:absolute;top:14px;right:12px;display:flex;gap:3px}.star-card[_ngcontent-%COMP%]   .text-warning[_ngcontent-%COMP%]{color:gold}.star-card[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{color:#ccc}.card[_ngcontent-%COMP%]:hover{transition:.3s;border:1px solid var(--title-color)}.card[_ngcontent-%COMP%]:hover   .stars-container[_ngcontent-%COMP%]{transition:.4s;opacity:1}@media (max-width: 600px){.card[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();function $at(n,e){if(1&n&&oi(0,"app-technologie-card",6),2&n){const t=e.$implicit;N1("icon",t.icon)("title",t.title)("description",t.description)("knowledgeLevel",t.knowledgeLevel)}}let Wat=(()=>{class n{specializations=[{icon:gJ,title:"Angular",knowledgeLevel:4,description:"Framework"},{icon:FK,title:"TypeScript",knowledgeLevel:4,description:"Programa\xe7\xe3o"},{icon:cA,title:"React",knowledgeLevel:2,description:"Framework"},{icon:mv,title:"JavaScript",knowledgeLevel:4,description:"Programa\xe7\xe3o"},{icon:AJ,title:"SCSS",knowledgeLevel:4,description:"Programa\xe7\xe3o"},{icon:E9,title:"CSS",knowledgeLevel:4,description:"Programa\xe7\xe3o"},{icon:FJ,title:"Node.js",knowledgeLevel:2,description:"Runtime"},{icon:JS,title:"MySQL",knowledgeLevel:2,description:"Runtime"},{icon:MJ,title:"Bootstrap",knowledgeLevel:3,description:"Framework"},{icon:SJ,title:"Bitbucket",knowledgeLevel:3,description:"Versionamento"},{icon:gv,title:"GitHub",knowledgeLevel:3,description:"Versionamento"},{icon:oJ,title:"GitFlow",knowledgeLevel:3,description:"Diretriz"},{icon:RJ,title:"Jenkins",knowledgeLevel:3,description:"integra\xe7\xe3o"},{icon:P$,title:"Atomic Design",knowledgeLevel:2,description:"Metodologia"},{icon:_9,title:"Scrum",knowledgeLevel:3,description:"Metodologia"},{icon:x9,title:"Figma",knowledgeLevel:4,description:"Design"}];static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-technologies"]],decls:14,vars:1,consts:[["id","tecnologies",1,"d-flex","align-items-center","justify-content-center","background-white"],[1,"container","container-technologies","d-flex","justify-content-start","align-items-start","flex-column"],["data-aos","fade-in","data-aos-duration","1400",1,"header-section"],[1,"tag"],["data-aos","fade-up","data-aos-easing","ease-in-back",1,"card-area"],[3,"icon","title","description","knowledgeLevel",4,"ngFor","ngForOf"],[3,"icon","title","description","knowledgeLevel"]],template:function(i,s){1&i&&(Ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),Ge(5,"SKILLS"),He()(),Ye(6,"h2"),Ge(7,"Habilidades & "),Ye(8,"span"),Ge(9,"Recursos"),He()(),Ye(10,"h5"),Ge(11," Desenvolvo solu\xe7\xf5es inovadoras combinando frameworks e ferramentas de ponta. "),He()(),Ye(12,"div",4),$3(13,$at,1,4,"app-technologie-card",5),He()()()),2&i&&(v1(13),N1("ngForOf",s.specializations))},dependencies:[Au,Gat],styles:["#tecnologies[_ngcontent-%COMP%]{height:auto!important;min-height:100vh!important}.container-technologies[_ngcontent-%COMP%]{flex-direction:column}.card-area[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px}.header-section[_ngcontent-%COMP%]{width:100%}.header-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:fit-content}.tag[_ngcontent-%COMP%]{background:var(--background-gray-color)}@media (max-width: 620px){.card-area[_ngcontent-%COMP%]   app-technologie-card[_ngcontent-%COMP%]{width:100%!important}.card-area[_ngcontent-%COMP%]   app-technologie-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:max-content!important}}"]})}return n})();var qr="top",Zo="bottom",Qo="right",Kr="left",WM="auto",Fd=[qr,Zo,Qo,Kr],l8="start",Vd="end",V1e="clippingParents",mz="viewport",Ud="popper",U1e="reference",gz=Fd.reduce(function(n,e){return n.concat([e+"-"+l8,e+"-"+Vd])},[]),_z=[].concat(Fd,[WM]).reduce(function(n,e){return n.concat([e,e+"-"+l8,e+"-"+Vd])},[]),B1e="beforeRead",H1e="read",j1e="afterRead",G1e="beforeMain",$1e="main",W1e="afterMain",q1e="beforeWrite",K1e="write",X1e="afterWrite",Y1e=[B1e,H1e,j1e,G1e,$1e,W1e,q1e,K1e,X1e];function o3(n){return n?(n.nodeName||"").toLowerCase():null}function Jo(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function u8(n){return n instanceof Jo(n).Element||n instanceof Element}function Ia(n){return n instanceof Jo(n).HTMLElement||n instanceof HTMLElement}function yz(n){return!(typeof ShadowRoot>"u")&&(n instanceof Jo(n).ShadowRoot||n instanceof ShadowRoot)}const vz={name:"applyStyles",enabled:!0,phase:"write",fn:function qat(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},r=e.elements[t];!Ia(r)||!o3(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];!1===a?r.removeAttribute(o):r.setAttribute(o,!0===a?"":a)}))})},effect:function Kat(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],r=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(c,l){return c[l]="",c},{});!Ia(s)||!o3(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(c){s.removeAttribute(c)}))})}},requires:["computeStyles"]};function a3(n){return n.split("-")[0]}var d8=Math.max,qM=Math.min,Bd=Math.round;function Mz(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Z1e(){return!/^((?!chrome|android).)*safari/i.test(Mz())}function Hd(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=n.getBoundingClientRect(),s=1,r=1;e&&Ia(n)&&(s=n.offsetWidth>0&&Bd(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Bd(i.height)/n.offsetHeight||1);var a=(u8(n)?Jo(n):window).visualViewport,c=!Z1e()&&t,l=(i.left+(c&&a?a.offsetLeft:0))/s,u=(i.top+(c&&a?a.offsetTop:0))/r,d=i.width/s,h=i.height/r;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function Cz(n){var e=Hd(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Q1e(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&yz(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function v0(n){return Jo(n).getComputedStyle(n)}function Xat(n){return["table","td","th"].indexOf(o3(n))>=0}function j4(n){return((u8(n)?n.ownerDocument:n.document)||window.document).documentElement}function KM(n){return"html"===o3(n)?n:n.assignedSlot||n.parentNode||(yz(n)?n.host:null)||j4(n)}function J1e(n){return Ia(n)&&"fixed"!==v0(n).position?n.offsetParent:null}function _p(n){for(var e=Jo(n),t=J1e(n);t&&Xat(t)&&"static"===v0(t).position;)t=J1e(t);return t&&("html"===o3(t)||"body"===o3(t)&&"static"===v0(t).position)?e:t||function Yat(n){var e=/firefox/i.test(Mz());if(/Trident/i.test(Mz())&&Ia(n)&&"fixed"===v0(n).position)return null;var s=KM(n);for(yz(s)&&(s=s.host);Ia(s)&&["html","body"].indexOf(o3(s))<0;){var r=v0(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||e}function bz(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function yp(n,e,t){return d8(n,qM(e,t))}function tie(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function nie(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}const iie={name:"arrow",enabled:!0,phase:"main",fn:function Jat(n){var e,t=n.state,i=n.name,s=n.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,a=a3(t.placement),c=bz(a),u=[Kr,Qo].indexOf(a)>=0?"height":"width";if(r&&o){var d=function(e,t){return tie("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:nie(e,Fd))}(s.padding,t),h=Cz(r),m="y"===c?qr:Kr,_="y"===c?Zo:Qo,b=t.rects.reference[u]+t.rects.reference[c]-o[c]-t.rects.popper[u],v=o[c]-t.rects.reference[c],M=_p(r),E=M?"y"===c?M.clientHeight||0:M.clientWidth||0:0,F=E/2-h[u]/2+(b/2-v/2),N=yp(d[m],F,E-h[u]-d[_]);t.modifiersData[i]=((e={})[c]=N,e.centerOffset=N-F,e)}},effect:function ect(n){var e=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=e.elements.popper.querySelector(s))||Q1e(e.elements.popper,s)&&(e.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jd(n){return n.split("-")[1]}var tct={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sie(n){var e,t=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,c=n.gpuAcceleration,l=n.adaptive,u=n.roundOffsets,d=n.isFixed,h=o.x,m=void 0===h?0:h,_=o.y,b=void 0===_?0:_,v="function"==typeof u?u({x:m,y:b}):{x:m,y:b};m=v.x,b=v.y;var M=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),T=Kr,S=qr,O=window;if(l){var F=_p(t),N="clientHeight",z="clientWidth";F===Jo(t)&&"static"!==v0(F=j4(t)).position&&"absolute"===a&&(N="scrollHeight",z="scrollWidth"),(s===qr||(s===Kr||s===Qo)&&r===Vd)&&(S=Zo,b-=(d&&F===O&&O.visualViewport?O.visualViewport.height:F[N])-i.height,b*=c?1:-1),s!==Kr&&(s!==qr&&s!==Zo||r!==Vd)||(T=Qo,m-=(d&&F===O&&O.visualViewport?O.visualViewport.width:F[z])-i.width,m*=c?1:-1)}var U,k=Object.assign({position:a},l&&tct),G=!0===u?function nct(n,e){var i=n.y,s=e.devicePixelRatio||1;return{x:Bd(n.x*s)/s||0,y:Bd(i*s)/s||0}}({x:m,y:b},Jo(t)):{x:m,y:b};return m=G.x,b=G.y,Object.assign({},k,c?((U={})[S]=E?"0":"",U[T]=M?"0":"",U.transform=(O.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",U):((e={})[S]=E?b+"px":"",e[T]=M?m+"px":"",e.transform="",e))}const xz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ict(n){var e=n.state,t=n.options,i=t.gpuAcceleration,s=void 0===i||i,r=t.adaptive,o=void 0===r||r,a=t.roundOffsets,c=void 0===a||a,l={placement:a3(e.placement),variation:jd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,sie(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,sie(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var XM={passive:!0};const Ez={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function sct(n){var e=n.state,t=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,o=i.resize,a=void 0===o||o,c=Jo(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&l.forEach(function(u){u.addEventListener("scroll",t.update,XM)}),a&&c.addEventListener("resize",t.update,XM),function(){r&&l.forEach(function(u){u.removeEventListener("scroll",t.update,XM)}),a&&c.removeEventListener("resize",t.update,XM)}},data:{}};var rct={left:"right",right:"left",bottom:"top",top:"bottom"};function YM(n){return n.replace(/left|right|bottom|top/g,function(e){return rct[e]})}var oct={start:"end",end:"start"};function rie(n){return n.replace(/start|end/g,function(e){return oct[e]})}function wz(n){var e=Jo(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Tz(n){return Hd(j4(n)).left+wz(n).scrollLeft}function Sz(n){var e=v0(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function oie(n){return["html","body","#document"].indexOf(o3(n))>=0?n.ownerDocument.body:Ia(n)&&Sz(n)?n:oie(KM(n))}function vp(n,e){var t;void 0===e&&(e=[]);var i=oie(n),s=i===(null==(t=n.ownerDocument)?void 0:t.body),r=Jo(i),o=s?[r].concat(r.visualViewport||[],Sz(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(vp(KM(o)))}function Az(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function aie(n,e,t){return e===mz?Az(function act(n,e){var t=Jo(n),i=j4(n),s=t.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,c=0;if(s){r=s.width,o=s.height;var l=Z1e();(l||!l&&"fixed"===e)&&(a=s.offsetLeft,c=s.offsetTop)}return{width:r,height:o,x:a+Tz(n),y:c}}(n,t)):u8(e)?function lct(n,e){var t=Hd(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):Az(function cct(n){var e,t=j4(n),i=wz(n),s=null==(e=n.ownerDocument)?void 0:e.body,r=d8(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=d8(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Tz(n),c=-i.scrollTop;return"rtl"===v0(s||t).direction&&(a+=d8(t.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:c}}(j4(n)))}function cie(n){var c,e=n.reference,t=n.element,i=n.placement,s=i?a3(i):null,r=i?jd(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2;switch(s){case qr:c={x:o,y:e.y-t.height};break;case Zo:c={x:o,y:e.y+e.height};break;case Qo:c={x:e.x+e.width,y:a};break;case Kr:c={x:e.x-t.width,y:a};break;default:c={x:e.x,y:e.y}}var l=s?bz(s):null;if(null!=l){var u="y"===l?"height":"width";switch(r){case l8:c[l]=c[l]-(e[u]/2-t[u]/2);break;case Vd:c[l]=c[l]+(e[u]/2-t[u]/2)}}return c}function Gd(n,e){void 0===e&&(e={});var i=e.placement,s=void 0===i?n.placement:i,r=e.strategy,o=void 0===r?n.strategy:r,a=e.boundary,c=void 0===a?V1e:a,l=e.rootBoundary,u=void 0===l?mz:l,d=e.elementContext,h=void 0===d?Ud:d,m=e.altBoundary,_=void 0!==m&&m,b=e.padding,v=void 0===b?0:b,M=tie("number"!=typeof v?v:nie(v,Fd)),T=n.rects.popper,S=n.elements[_?h===Ud?U1e:Ud:h],O=function dct(n,e,t,i){var s="clippingParents"===e?function uct(n){var e=vp(KM(n)),i=["absolute","fixed"].indexOf(v0(n).position)>=0&&Ia(n)?_p(n):n;return u8(i)?e.filter(function(s){return u8(s)&&Q1e(s,i)&&"body"!==o3(s)}):[]}(n):[].concat(e),r=[].concat(s,[t]),a=r.reduce(function(c,l){var u=aie(n,l,i);return c.top=d8(u.top,c.top),c.right=qM(u.right,c.right),c.bottom=qM(u.bottom,c.bottom),c.left=d8(u.left,c.left),c},aie(n,r[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(u8(S)?S:S.contextElement||j4(n.elements.popper),c,u,o),F=Hd(n.elements.reference),N=cie({reference:F,element:T,strategy:"absolute",placement:s}),z=Az(Object.assign({},T,N)),L=h===Ud?z:F,I={top:O.top-L.top+M.top,bottom:L.bottom-O.bottom+M.bottom,left:O.left-L.left+M.left,right:L.right-O.right+M.right},k=n.modifiersData.offset;if(h===Ud&&k){var G=k[s];Object.keys(I).forEach(function(U){var me=[Qo,Zo].indexOf(U)>=0?1:-1,ze=[qr,Zo].indexOf(U)>=0?"y":"x";I[U]+=G[ze]*me})}return I}const lie={name:"flip",enabled:!0,phase:"main",fn:function pct(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var s=t.mainAxis,r=void 0===s||s,o=t.altAxis,a=void 0===o||o,c=t.fallbackPlacements,l=t.padding,u=t.boundary,d=t.rootBoundary,h=t.altBoundary,m=t.flipVariations,_=void 0===m||m,b=t.allowedAutoPlacements,v=e.options.placement,M=a3(v),T=c||(M!==v&&_?function hct(n){if(a3(n)===WM)return[];var e=YM(n);return[rie(n),e,rie(e)]}(v):[YM(v)]),S=[v].concat(T).reduce(function(De,at){return De.concat(a3(at)===WM?function fct(n,e){void 0===e&&(e={});var s=e.boundary,r=e.rootBoundary,o=e.padding,a=e.flipVariations,c=e.allowedAutoPlacements,l=void 0===c?_z:c,u=jd(e.placement),d=u?a?gz:gz.filter(function(_){return jd(_)===u}):Fd,h=d.filter(function(_){return l.indexOf(_)>=0});0===h.length&&(h=d);var m=h.reduce(function(_,b){return _[b]=Gd(n,{placement:b,boundary:s,rootBoundary:r,padding:o})[a3(b)],_},{});return Object.keys(m).sort(function(_,b){return m[_]-m[b]})}(e,{placement:at,boundary:u,rootBoundary:d,padding:l,flipVariations:_,allowedAutoPlacements:b}):at)},[]),O=e.rects.reference,F=e.rects.popper,N=new Map,z=!0,L=S[0],I=0;I<S.length;I++){var k=S[I],G=a3(k),U=jd(k)===l8,me=[qr,Zo].indexOf(G)>=0,ze=me?"width":"height",_e=Gd(e,{placement:k,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),Xe=me?U?Qo:Kr:U?Zo:qr;O[ze]>F[ze]&&(Xe=YM(Xe));var we=YM(Xe),vt=[];if(r&&vt.push(_e[G]<=0),a&&vt.push(_e[Xe]<=0,_e[we]<=0),vt.every(function(De){return De})){L=k,z=!1;break}N.set(k,vt)}if(z)for(var Xt=function(at){var Jt=S.find(function(Et){var Yt=N.get(Et);if(Yt)return Yt.slice(0,at).every(function(Yn){return Yn})});if(Jt)return L=Jt,"break"},Ln=_?3:1;Ln>0&&"break"!==Xt(Ln);Ln--);e.placement!==L&&(e.modifiersData[i]._skip=!0,e.placement=L,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function uie(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function die(n){return[qr,Qo,Zo,Kr].some(function(e){return n[e]>=0})}const fie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function mct(n){var e=n.state,t=n.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=Gd(e,{elementContext:"reference"}),a=Gd(e,{altBoundary:!0}),c=uie(o,i),l=uie(a,s,r),u=die(c),d=die(l);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},hie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function _ct(n){var e=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,o=_z.reduce(function(u,d){return u[d]=function gct(n,e,t){var i=a3(n),s=[Kr,qr].indexOf(i)>=0?-1:1,r="function"==typeof t?t(Object.assign({},e,{placement:n})):t,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[Kr,Qo].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}(d,e.rects,r),u},{}),a=o[e.placement],l=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=a.x,e.modifiersData.popperOffsets.y+=l),e.modifiersData[i]=o}},Lz={name:"popperOffsets",enabled:!0,phase:"read",fn:function yct(n){var e=n.state;e.modifiersData[n.name]=cie({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},pie={name:"preventOverflow",enabled:!0,phase:"main",fn:function Mct(n){var e=n.state,t=n.options,i=n.name,s=t.mainAxis,r=void 0===s||s,o=t.altAxis,a=void 0!==o&&o,h=t.tether,m=void 0===h||h,_=t.tetherOffset,b=void 0===_?0:_,v=Gd(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),M=a3(e.placement),E=jd(e.placement),T=!E,S=bz(M),O=function vct(n){return"x"===n?"y":"x"}(S),F=e.modifiersData.popperOffsets,N=e.rects.reference,z=e.rects.popper,L="function"==typeof b?b(Object.assign({},e.rects,{placement:e.placement})):b,I="number"==typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(F){if(r){var U,me="y"===S?qr:Kr,ze="y"===S?Zo:Qo,_e="y"===S?"height":"width",Xe=F[S],we=Xe+v[me],vt=Xe-v[ze],Nt=m?-z[_e]/2:0,Xt=E===l8?N[_e]:z[_e],Ln=E===l8?-z[_e]:-N[_e],_n=e.elements.arrow,De=m&&_n?Cz(_n):{width:0,height:0},at=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Jt=at[me],Et=at[ze],Yt=yp(0,N[_e],De[_e]),Yn=T?N[_e]/2-Nt-Yt-Jt-I.mainAxis:Xt-Yt-Jt-I.mainAxis,sn=T?-N[_e]/2+Nt+Yt+Et+I.mainAxis:Ln+Yt+Et+I.mainAxis,D1=e.elements.arrow&&_p(e.elements.arrow),z1=D1?"y"===S?D1.clientTop||0:D1.clientLeft||0:0,e1=null!=(U=k?.[S])?U:0,wt=Xe+sn-e1,ft=yp(m?qM(we,Xe+Yn-e1-z1):we,Xe,m?d8(vt,wt):vt);F[S]=ft,G[S]=ft-Xe}if(a){var Tt,ht=F[O],qt="y"===O?"height":"width",Qn=ht+v["x"===S?qr:Kr],X=ht-v["x"===S?Zo:Qo],B=-1!==[qr,Kr].indexOf(M),fe=null!=(Tt=k?.[O])?Tt:0,Pe=B?Qn:ht-N[qt]-z[qt]-fe+I.altAxis,je=B?ht+N[qt]+z[qt]-fe-I.altAxis:X,xe=m&&B?function Zat(n,e,t){var i=yp(n,e,t);return i>t?t:i}(Pe,ht,je):yp(m?Pe:Qn,ht,m?je:X);F[O]=xe,G[O]=xe-ht}e.modifiersData[i]=G}},requiresIfExists:["offset"]};function Ect(n,e,t){void 0===t&&(t=!1);var i=Ia(e),s=Ia(e)&&function xct(n){var e=n.getBoundingClientRect(),t=Bd(e.width)/n.offsetWidth||1,i=Bd(e.height)/n.offsetHeight||1;return 1!==t||1!==i}(e),r=j4(e),o=Hd(n,s,t),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!t)&&(("body"!==o3(e)||Sz(r))&&(a=function bct(n){return n!==Jo(n)&&Ia(n)?function Cct(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):wz(n)}(e)),Ia(e)?((c=Hd(e,!0)).x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=Tz(r))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function wct(n){var e=new Map,t=new Set,i=[];function s(r){t.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(a){if(!t.has(a)){var c=e.get(a);c&&s(c)}}),i.push(r)}return n.forEach(function(r){e.set(r.name,r)}),n.forEach(function(r){t.has(r.name)||s(r)}),i}function Sct(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var mie={placement:"bottom",modifiers:[],strategy:"absolute"};function gie(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function ZM(n){void 0===n&&(n={});var t=n.defaultModifiers,i=void 0===t?[]:t,s=n.defaultOptions,r=void 0===s?mie:s;return function(a,c,l){void 0===l&&(l=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},mie,r),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,m={state:u,setOptions:function(M){var E="function"==typeof M?M(u.options):M;b(),u.options=Object.assign({},r,u.options,E),u.scrollParents={reference:u8(a)?vp(a):a.contextElement?vp(a.contextElement):[],popper:vp(c)};var T=function Tct(n){var e=wct(n);return Y1e.reduce(function(t,i){return t.concat(e.filter(function(s){return s.phase===i}))},[])}(function Act(n){var e=n.reduce(function(t,i){var s=t[i.name];return t[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,u.options.modifiers)));return u.orderedModifiers=T.filter(function(S){return S.enabled}),function _(){u.orderedModifiers.forEach(function(v){var E=v.options,S=v.effect;if("function"==typeof S){var O=S({state:u,name:v.name,instance:m,options:void 0===E?{}:E});d.push(O||function(){})}})}(),m.update()},forceUpdate:function(){if(!h){var M=u.elements,E=M.reference,T=M.popper;if(gie(E,T)){u.rects={reference:Ect(E,_p(T),"fixed"===u.options.strategy),popper:Cz(T)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var S=0;S<u.orderedModifiers.length;S++)if(!0!==u.reset){var O=u.orderedModifiers[S],F=O.fn,N=O.options;"function"==typeof F&&(u=F({state:u,options:void 0===N?{}:N,name:O.name,instance:m})||u)}else u.reset=!1,S=-1}}},update:Sct(function(){return new Promise(function(v){m.forceUpdate(),v(u)})}),destroy:function(){b(),h=!0}};if(!gie(a,c))return m;function b(){d.forEach(function(v){return v()}),d=[]}return m.setOptions(l).then(function(v){!h&&l.onFirstUpdate&&l.onFirstUpdate(v)}),m}}var Lct=ZM(),Iz=ZM({defaultModifiers:[Ez,Lz,xz,vz,hie,lie,pie,iie,fie]}),Pct=ZM({defaultModifiers:[Ez,Lz,xz,vz]});const G4=new Map,zz={set(n,e,t){G4.has(n)||G4.set(n,new Map);const i=G4.get(n);i.has(e)||0===i.size?i.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,e)=>G4.has(n)&&G4.get(n).get(e)||null,remove(n,e){if(!G4.has(n))return;const t=G4.get(n);t.delete(e),0===t.size&&G4.delete(n)}},Pz="transitionend",_ie=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),yie=n=>{n.dispatchEvent(new Event(Pz))},M0=n=>!(!n||"object"!=typeof n)&&(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),$4=n=>M0(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(_ie(n)):null,$d=n=>{if(!M0(n)||0===n.getClientRects().length)return!1;const e="visible"===getComputedStyle(n).getPropertyValue("visibility"),t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const i=n.closest("summary");if(i&&i.parentNode!==t||null===i)return!1}return e},W4=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),vie=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?vie(n.parentNode):null},QM=()=>{},Mie=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Nz=[],za=()=>"rtl"===document.documentElement.dir,Pa=n=>{(n=>{"loading"===document.readyState?(Nz.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Nz)e()}),Nz.push(n)):n()})(()=>{const e=Mie();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},_o=(n,e=[],t=n)=>"function"==typeof n?n(...e):t,Cie=(n,e,t=!0)=>{if(!t)return void _o(n);const s=(n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),s=Number.parseFloat(t);return i||s?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let r=!1;const o=({target:a})=>{a===e&&(r=!0,e.removeEventListener(Pz,o),_o(n))};e.addEventListener(Pz,o),setTimeout(()=>{r||yie(e)},s)},Dz=(n,e,t,i)=>{const s=n.length;let r=n.indexOf(e);return-1===r?!t&&i?n[s-1]:n[0]:(r+=t?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},Vct=/[^.]*(?=\..*)\.|.*/,Uct=/\..*/,Bct=/::\d+$/,Rz={};let bie=1;const xie={mouseenter:"mouseover",mouseleave:"mouseout"},Hct=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Eie(n,e){return e&&`${e}::${bie++}`||n.uidEvent||bie++}function wie(n){const e=Eie(n);return n.uidEvent=e,Rz[e]=Rz[e]||{},Rz[e]}function Tie(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function Sie(n,e,t){const i="string"==typeof e,s=i?t:e||t;let r=Lie(n);return Hct.has(r)||(r=n),[i,s,r]}function Aie(n,e,t,i,s){if("string"!=typeof e||!n)return;let[r,o,a]=Sie(e,t,i);var _;e in xie&&(_=o,o=function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return _.call(this,b)});const c=wie(n),l=c[a]||(c[a]={}),u=Tie(l,o,r?t:null);if(u)return void(u.oneOff=u.oneOff&&s);const d=Eie(o,e.replace(Vct,"")),h=r?function Gct(n,e,t){return function i(s){const r=n.querySelectorAll(e);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return kz(s,{delegateTarget:o}),i.oneOff&&pt.off(n,s.type,e,t),t.apply(o,[s])}}(n,t,o):function jct(n,e){return function t(i){return kz(i,{delegateTarget:n}),t.oneOff&&pt.off(n,i.type,e),e.apply(n,[i])}}(n,o);h.delegationSelector=r?t:null,h.callable=o,h.oneOff=s,h.uidEvent=d,l[d]=h,n.addEventListener(a,h,r)}function Oz(n,e,t,i,s){const r=Tie(e[t],i,s);r&&(n.removeEventListener(t,r,!!s),delete e[t][r.uidEvent])}function $ct(n,e,t,i){const s=e[t]||{};for(const[r,o]of Object.entries(s))r.includes(i)&&Oz(n,e,t,o.callable,o.delegationSelector)}function Lie(n){return n=n.replace(Uct,""),xie[n]||n}const pt={on(n,e,t,i){Aie(n,e,t,i,!1)},one(n,e,t,i){Aie(n,e,t,i,!0)},off(n,e,t,i){if("string"!=typeof e||!n)return;const[s,r,o]=Sie(e,t,i),a=o!==e,c=wie(n),l=c[o]||{},u=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(l).length)return;Oz(n,c,o,r,s?t:null)}else{if(u)for(const d of Object.keys(c))$ct(n,c,d,e.slice(1));for(const[d,h]of Object.entries(l)){const m=d.replace(Bct,"");(!a||e.includes(m))&&Oz(n,c,o,h.callable,h.delegationSelector)}}},trigger(n,e,t){if("string"!=typeof e||!n)return null;const i=Mie();let o=null,a=!0,c=!0,l=!1;e!==Lie(e)&&i&&(o=i.Event(e,t),i(n).trigger(o),a=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),l=o.isDefaultPrevented());const u=kz(new Event(e,{bubbles:a,cancelable:!0}),t);return l&&u.preventDefault(),c&&n.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function kz(n,e={}){for(const[t,i]of Object.entries(e))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get:()=>i})}return n}function Iie(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Fz(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const C0={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Fz(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Fz(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=Iie(n.dataset[i])}return e},getDataAttribute:(n,e)=>Iie(n.getAttribute(`data-bs-${Fz(e)}`))};class Cp{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=M0(t)?C0.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...M0(t)?C0.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,s]of Object.entries(t)){const r=e[i],o=M0(r)?"element":null==(n=r)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${s}".`)}var n}}class mc extends Cp{constructor(e,t){super(),(e=$4(e))&&(this._element=e,this._config=this._getConfig(t),zz.set(this._element,this.constructor.DATA_KEY,this))}dispose(){zz.remove(this._element,this.constructor.DATA_KEY),pt.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){Cie(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return zz.get($4(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Vz=n=>{let e=n.getAttribute("data-bs-target");if(!e||"#"===e){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return e?e.split(",").map(t=>_ie(t)).join(","):null},Bn={find:(n,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,n)),findOne:(n,e=document.documentElement)=>Element.prototype.querySelector.call(e,n),children:(n,e)=>[].concat(...n.children).filter(t=>t.matches(e)),parents(n,e){const t=[];let i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!W4(t)&&$d(t))},getSelectorFromElement(n){const e=Vz(n);return e&&Bn.findOne(e)?e:null},getElementFromSelector(n){const e=Vz(n);return e?Bn.findOne(e):null},getMultipleElementsFromSelector(n){const e=Vz(n);return e?Bn.find(e):[]}},JM=(n,e="hide")=>{const i=n.NAME;pt.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),W4(this))return;const r=Bn.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[e]()})};class eC extends mc{static get NAME(){return"alert"}close(){if(pt.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),pt.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=eC.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}JM(eC,"close"),Pa(eC);const Pie='[data-bs-toggle="button"]';class tC extends mc{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=tC.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}pt.on(document,"click.bs.button.data-api",Pie,n=>{n.preventDefault();const e=n.target.closest(Pie);tC.getOrCreateInstance(e).toggle()}),Pa(tC);const Wd=".bs.swipe",s3t=`touchstart${Wd}`,r3t=`touchmove${Wd}`,o3t=`touchend${Wd}`,a3t=`pointerdown${Wd}`,c3t=`pointerup${Wd}`,h3t={endCallback:null,leftCallback:null,rightCallback:null},p3t={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class nC extends Cp{constructor(e,t){super(),this._element=e,e&&nC.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return h3t}static get DefaultType(){return p3t}static get NAME(){return"swipe"}dispose(){pt.off(this._element,Wd)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),_o(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&_o(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(pt.on(this._element,a3t,e=>this._start(e)),pt.on(this._element,c3t,e=>this._end(e)),this._element.classList.add("pointer-event")):(pt.on(this._element,s3t,e=>this._start(e)),pt.on(this._element,r3t,e=>this._move(e)),pt.on(this._element,o3t,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const q4=".bs.carousel",g3t="ArrowLeft",_3t="ArrowRight",bp="next",qd="prev",Kd="left",iC="right",v3t=`slide${q4}`,Uz=`slid${q4}`,M3t=`keydown${q4}`,C3t=`mouseenter${q4}`,b3t=`mouseleave${q4}`,x3t=`dragstart${q4}`,E3t=`load${q4}.data-api`,w3t=`click${q4}.data-api`,sC="active",Oie=".carousel-item",z3t=".active"+Oie,O3t={[g3t]:iC,[_3t]:Kd},k3t={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},F3t={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xp extends mc{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Bn.findOne(".carousel-indicators",this._element),this._addEventListeners(),"carousel"===this._config.ride&&this.cycle()}static get Default(){return k3t}static get DefaultType(){return F3t}static get NAME(){return"carousel"}next(){this._slide(bp)}nextWhenVisible(){!document.hidden&&$d(this._element)&&this.next()}prev(){this._slide(qd)}pause(){this._isSliding&&yie(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void pt.one(this._element,Uz,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void pt.one(this._element,Uz,()=>this.to(e));const i=this._getItemIndex(this._getActive());i!==e&&this._slide(e>i?bp:qd,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&pt.on(this._element,M3t,e=>this._keydown(e)),"hover"===this._config.pause&&(pt.on(this._element,C3t,()=>this.pause()),pt.on(this._element,b3t,()=>this._maybeEnableCycle())),this._config.touch&&nC.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Bn.find(".carousel-item img",this._element))pt.on(i,x3t,s=>s.preventDefault());this._swipeHelper=new nC(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Kd)),rightCallback:()=>this._slide(this._directionToOrder(iC)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=O3t[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Bn.findOne(".active",this._indicatorsElement);t.classList.remove(sC),t.removeAttribute("aria-current");const i=Bn.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(sC),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),s=e===bp,r=t||Dz(this._getItems(),i,s,this._config.wrap);if(r===i)return;const o=this._getItemIndex(r),a=m=>pt.trigger(this._element,m,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(a(v3t).defaultPrevented||!i||!r)return;const l=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const u=s?"carousel-item-start":"carousel-item-end",d=s?"carousel-item-next":"carousel-item-prev";r.classList.add(d),i.classList.add(u),r.classList.add(u),this._queueCallback(()=>{r.classList.remove(u,d),r.classList.add(sC),i.classList.remove(sC,d,u),this._isSliding=!1,a(Uz)},i,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Bn.findOne(z3t,this._element)}_getItems(){return Bn.find(Oie,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return za()?e===Kd?qd:bp:e===Kd?bp:qd}_orderToDirection(e){return za()?e===qd?Kd:iC:e===qd?iC:Kd}static jQueryInterface(e){return this.each(function(){const t=xp.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}pt.on(document,w3t,"[data-bs-slide], [data-bs-slide-to]",function(n){const e=Bn.getElementFromSelector(this);if(!e||!e.classList.contains("carousel"))return;n.preventDefault();const t=xp.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(t.to(i),void t._maybeEnableCycle()):"next"===C0.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),pt.on(window,E3t,()=>{const n=Bn.find('[data-bs-ride="carousel"]');for(const e of n)xp.getOrCreateInstance(e)}),Pa(xp);const Ep=".bs.collapse",B3t=`show${Ep}`,H3t=`shown${Ep}`,j3t=`hide${Ep}`,G3t=`hidden${Ep}`,$3t=`click${Ep}.data-api`,Bz="show",Xd="collapse",rC="collapsing",q3t=`:scope .${Xd} .${Xd}`,Hz='[data-bs-toggle="collapse"]',Q3t={parent:null,toggle:!0},J3t={parent:"(null|element)",toggle:"boolean"};class wp extends mc{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=Bn.find(Hz);for(const s of i){const r=Bn.getSelectorFromElement(s),o=Bn.find(r).filter(a=>a===this._element);null!==r&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Q3t}static get DefaultType(){return J3t}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(a=>a!==this._element).map(a=>wp.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||pt.trigger(this._element,B3t).defaultPrevented)return;for(const a of e)a.hide();const i=this._getDimension();this._element.classList.remove(Xd),this._element.classList.add(rC),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rC),this._element.classList.add(Xd,Bz),this._element.style[i]="",pt.trigger(this._element,H3t)},this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||pt.trigger(this._element,j3t).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(rC),this._element.classList.remove(Xd,Bz);for(const s of this._triggerArray){const r=Bn.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rC),this._element.classList.add(Xd),pt.trigger(this._element,G3t)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(Bz)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=$4(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Hz);for(const t of e){const i=Bn.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=Bn.find(q3t,this._config.parent);return Bn.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=wp.getOrCreateInstance(this,t);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}pt.on(document,$3t,Hz,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const e of Bn.getMultipleElementsFromSelector(this))wp.getOrCreateInstance(e,{toggle:!1}).toggle()}),Pa(wp);const f8=".bs.dropdown",jz=".data-api",t0t="ArrowUp",Vie="ArrowDown",i0t=`hide${f8}`,s0t=`hidden${f8}`,r0t=`show${f8}`,o0t=`shown${f8}`,Uie=`click${f8}${jz}`,Bie=`keydown${f8}${jz}`,a0t=`keyup${f8}${jz}`,Yd="show",h8='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',h0t=`${h8}.${Yd}`,oC=".dropdown-menu",_0t=za()?"top-end":"top-start",y0t=za()?"top-start":"top-end",v0t=za()?"bottom-end":"bottom-start",M0t=za()?"bottom-start":"bottom-end",C0t=za()?"left-start":"right-start",b0t=za()?"right-start":"left-start",w0t={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},T0t={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class c3 extends mc{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Bn.next(this._element,oC)[0]||Bn.prev(this._element,oC)[0]||Bn.findOne(oC,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return w0t}static get DefaultType(){return T0t}static get NAME(){return"dropdown"}toggle(){return this._isShown()?this.hide():this.show()}show(){if(W4(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!pt.trigger(this._element,r0t,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))pt.on(i,"mouseover",QM);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Yd),this._element.classList.add(Yd),pt.trigger(this._element,o0t,e)}}hide(){!W4(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!pt.trigger(this._element,i0t,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))pt.off(i,"mouseover",QM);this._popper&&this._popper.destroy(),this._menu.classList.remove(Yd),this._element.classList.remove(Yd),this._element.setAttribute("aria-expanded","false"),C0.removeDataAttribute(this._menu,"popper"),pt.trigger(this._element,s0t,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!M0(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${"dropdown".toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof H>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:M0(this._config.reference)?e=$4(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Iz(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Yd)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return C0t;if(e.classList.contains("dropstart"))return b0t;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?y0t:_0t:t?M0t:v0t}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(C0.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..._o(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const i=Bn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>$d(s));i.length&&Dz(i,t,e===Vie,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=c3.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Bn.find(h0t);for(const i of t){const s=c3.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=e.composedPath(),o=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!o||"outside"===s._config.autoClose&&o||s._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:s._element};"click"===e.type&&(a.clickEvent=e),s._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,s=[t0t,Vie].includes(e.key);if(!s&&!i||t&&!i)return;e.preventDefault();const r=this.matches(h8)?this:Bn.prev(this,h8)[0]||Bn.next(this,h8)[0]||Bn.findOne(h8,e.delegateTarget.parentNode),o=c3.getOrCreateInstance(r);if(s)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}pt.on(document,Bie,h8,c3.dataApiKeydownHandler),pt.on(document,Bie,oC,c3.dataApiKeydownHandler),pt.on(document,Uie,c3.clearMenus),pt.on(document,a0t,c3.clearMenus),pt.on(document,Uie,h8,function(n){n.preventDefault(),c3.getOrCreateInstance(this).toggle()}),Pa(c3);const Gie="mousedown.bs.backdrop",A0t={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},L0t={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class $ie extends Cp{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return A0t}static get DefaultType(){return L0t}static get NAME(){return"backdrop"}show(e){if(!this._config.isVisible)return void _o(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{_o(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),_o(e)})):_o(e)}dispose(){this._isAppended&&(pt.off(this._element,Gie),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=$4(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),pt.on(e,Gie,()=>{_o(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Cie(e,this._getElement(),this._config.isAnimated)}}const aC=".bs.focustrap",z0t=`focusin${aC}`,P0t=`keydown.tab${aC}`,R0t={autofocus:!0,trapElement:null},O0t={autofocus:"boolean",trapElement:"element"};class qie extends Cp{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return R0t}static get DefaultType(){return O0t}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),pt.off(document,aC),pt.on(document,z0t,e=>this._handleFocusin(e)),pt.on(document,P0t,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,pt.off(document,aC))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=Bn.focusableChildren(t);0===i.length?t.focus():"backward"===this._lastTabNavDirection?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?"backward":"forward")}}const Kie=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Xie=".sticky-top",cC="padding-right",Yie="margin-right";class Gz{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,cC,t=>t+e),this._setElementAttributes(Kie,cC,t=>t+e),this._setElementAttributes(Xie,Yie,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,cC),this._resetElementAttributes(Kie,cC),this._resetElementAttributes(Xie,Yie)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const s=this.getWidth();this._applyManipulationCallback(e,o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,t);const a=window.getComputedStyle(o).getPropertyValue(t);o.style.setProperty(t,`${i(Number.parseFloat(a))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&C0.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,s=>{const r=C0.getDataAttribute(s,t);null!==r?(C0.removeDataAttribute(s,t),s.style.setProperty(t,r)):s.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(M0(e))t(e);else for(const i of Bn.find(e,this._element))t(i)}}const Na=".bs.modal",U0t=`hide${Na}`,B0t=`hidePrevented${Na}`,Zie=`hidden${Na}`,Qie=`show${Na}`,H0t=`shown${Na}`,j0t=`resize${Na}`,G0t=`click.dismiss${Na}`,$0t=`mousedown.dismiss${Na}`,W0t=`keydown.dismiss${Na}`,q0t=`click${Na}.data-api`,Jie="modal-open",$z="modal-static",J0t={backdrop:!0,focus:!0,keyboard:!0},e4t={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class p8 extends mc{constructor(e,t){super(e,t),this._dialog=Bn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Gz,this._addEventListeners()}static get Default(){return J0t}static get DefaultType(){return e4t}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||pt.trigger(this._element,Qie,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Jie),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||pt.trigger(this._element,U0t).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){pt.off(window,Na),pt.off(this._dialog,Na),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new $ie({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new qie({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Bn.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,pt.trigger(this._element,H0t,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){pt.on(this._element,W0t,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),pt.on(window,j0t,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),pt.on(this._element,$0t,e=>{pt.one(this._element,G0t,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Jie),this._resetAdjustments(),this._scrollBar.reset(),pt.trigger(this._element,Zie)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(pt.trigger(this._element,B0t).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains($z)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add($z),this._queueCallback(()=>{this._element.classList.remove($z),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const s=za()?"paddingLeft":"paddingRight";this._element.style[s]=`${t}px`}if(!i&&e){const s=za()?"paddingRight":"paddingLeft";this._element.style[s]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=p8.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}pt.on(document,q0t,'[data-bs-toggle="modal"]',function(n){const e=Bn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),pt.one(e,Qie,s=>{s.defaultPrevented||pt.one(e,Zie,()=>{$d(this)&&this.focus()})});const t=Bn.findOne(".modal.show");t&&p8.getInstance(t).hide(),p8.getOrCreateInstance(e).toggle(this)}),JM(p8),Pa(p8);const b0=".bs.offcanvas",n4t=`load${b0}.data-api`,rse=".offcanvas.show",r4t=`show${b0}`,o4t=`shown${b0}`,a4t=`hide${b0}`,ose=`hidePrevented${b0}`,ase=`hidden${b0}`,c4t=`resize${b0}`,l4t=`click${b0}.data-api`,u4t=`keydown.dismiss${b0}`,f4t={backdrop:!0,keyboard:!0,scroll:!1},h4t={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class K4 extends mc{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return f4t}static get DefaultType(){return h4t}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||pt.trigger(this._element,r4t,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Gz).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("showing"),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove("showing"),pt.trigger(this._element,o4t,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!pt.trigger(this._element,a4t).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Gz).reset(),pt.trigger(this._element,ase)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=!!this._config.backdrop;return new $ie({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():pt.trigger(this._element,ose)}:null})}_initializeFocusTrap(){return new qie({trapElement:this._element})}_addEventListeners(){pt.on(this._element,u4t,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();pt.trigger(this._element,ose)}})}static jQueryInterface(e){return this.each(function(){const t=K4.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}pt.on(document,l4t,'[data-bs-toggle="offcanvas"]',function(n){const e=Bn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),W4(this))return;pt.one(e,ase,()=>{$d(this)&&this.focus()});const t=Bn.findOne(rse);t&&t!==e&&K4.getInstance(t).hide(),K4.getOrCreateInstance(e).toggle(this)}),pt.on(window,n4t,()=>{for(const n of Bn.find(rse))K4.getOrCreateInstance(n).show()}),pt.on(window,c4t,()=>{for(const n of Bn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&K4.getOrCreateInstance(n).hide()}),JM(K4),Pa(K4);const cse={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},p4t=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),m4t=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,g4t=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?!p4t.has(t)||!!m4t.test(n.nodeValue):e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},v4t={allowList:cse,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},M4t={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},C4t={entry:"(string|element|function|null)",selector:"(string|element)"};class b4t extends Cp{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return v4t}static get DefaultType(){return M4t}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(e,r,s);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},C4t)}_setContent(e,t,i){const s=Bn.findOne(i,e);if(s){if(!(t=this._resolvePossibleFunction(t)))return void s.remove();if(M0(t))return void this._putElementInTemplate($4(t),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(t));s.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function _4t(n,e,t){if(!n.length)return n;if(t&&"function"==typeof t)return t(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const c=[].concat(...o.attributes),l=[].concat(e["*"]||[],e[a]||[]);for(const u of c)g4t(u,l)||o.removeAttribute(u.nodeName)}return s.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return _o(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const E4t=new Set(["sanitize","allowList","sanitizeFn"]),Wz="fade",lC="show",T4t=".tooltip-inner",use="hide.bs.modal",Tp="hover",qz="focus",V4t={AUTO:"auto",TOP:"top",RIGHT:za()?"left":"right",BOTTOM:"bottom",LEFT:za()?"right":"left"},U4t={allowList:cse,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},B4t={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zd extends mc{constructor(e,t){if(typeof H>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return U4t}static get DefaultType(){return B4t}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),pt.off(this._element.closest(".modal"),use,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=pt.trigger(this._element,this.constructor.eventName("show")),i=(vie(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),pt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(lC),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))pt.on(a,"mouseover",QM);this._queueCallback(()=>{pt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!pt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(lC),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))pt.off(s,"mouseover",QM);this._activeTrigger.click=!1,this._activeTrigger[qz]=!1,this._activeTrigger[Tp]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),pt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Wz,lC),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Wz),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new b4t({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[T4t]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Wz)}_isShown(){return this.tip&&this.tip.classList.contains(lC)}_createPopper(e){const t=_o(this._config.placement,[this,e,this._element]),i=V4t[t.toUpperCase()];return Iz(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return _o(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,..._o(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)pt.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==t){const i=this.constructor.eventName(t===Tp?"mouseenter":"focusin"),s=this.constructor.eventName(t===Tp?"mouseleave":"focusout");pt.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusin"===r.type?qz:Tp]=!0,o._enter()}),pt.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger["focusout"===r.type?qz:Tp]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},pt.on(this._element.closest(".modal"),use,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=C0.getDataAttributes(this._element);for(const i of Object.keys(t))E4t.has(i)&&delete t[i];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:$4(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Zd.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Pa(Zd);const j4t=".popover-header",G4t=".popover-body",$4t={...Zd.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},W4t={...Zd.DefaultType,content:"(null|string|element|function)"};class Kz extends Zd{static get Default(){return $4t}static get DefaultType(){return W4t}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[j4t]:this._getTitle(),[G4t]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Kz.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Pa(Kz);const Xz=".bs.scrollspy",X4t=`activate${Xz}`,dse=`click${Xz}`,Y4t=`load${Xz}.data-api`,Qd="active",Yz="[href]",ilt={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},slt={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class uC extends mc{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ilt}static get DefaultType(){return slt}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=$4(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(pt.off(this._config.target,dse),pt.on(this._config.target,dse,Yz,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,s=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(t(o))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(i(o),!s)return}else!r&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Bn.find(Yz,this._config.target);for(const t of e){if(!t.hash||W4(t))continue;const i=Bn.findOne(decodeURI(t.hash),this._element);$d(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Qd),this._activateParents(e),pt.trigger(this._element,X4t,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Bn.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Qd);else for(const t of Bn.parents(e,".nav, .list-group"))for(const i of Bn.prev(t,".nav-link, .nav-item > .nav-link, .list-group-item"))i.classList.add(Qd)}_clearActiveClass(e){e.classList.remove(Qd);const t=Bn.find(`${Yz}.${Qd}`,e);for(const i of t)i.classList.remove(Qd)}static jQueryInterface(e){return this.each(function(){const t=uC.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}pt.on(window,Y4t,()=>{for(const n of Bn.find('[data-bs-spy="scroll"]'))uC.getOrCreateInstance(n)}),Pa(uC);const m8=".bs.tab",olt=`hide${m8}`,alt=`hidden${m8}`,clt=`show${m8}`,llt=`shown${m8}`,ult=`click${m8}`,dlt=`keydown${m8}`,flt=`load${m8}`,hlt="ArrowLeft",hse="ArrowRight",plt="ArrowUp",pse="ArrowDown",Zz="Home",mse="End",g8="active",Qz="show",_se=".dropdown-toggle",Jz=`:not(${_se})`,yse='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',eP=`.nav-link${Jz}, .list-group-item${Jz}, [role="tab"]${Jz}, ${yse}`,Mlt=`.${g8}[data-bs-toggle="tab"], .${g8}[data-bs-toggle="pill"], .${g8}[data-bs-toggle="list"]`;class Jd extends mc{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),pt.on(this._element,dlt,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?pt.trigger(t,olt,{relatedTarget:e}):null;pt.trigger(e,clt,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(g8),this._activate(Bn.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),pt.trigger(e,llt,{relatedTarget:t})):e.classList.add(Qz)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(g8),e.blur(),this._deactivate(Bn.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),pt.trigger(e,alt,{relatedTarget:t})):e.classList.remove(Qz)},e,e.classList.contains("fade")))}_keydown(e){if(![hlt,hse,plt,pse,Zz,mse].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(s=>!W4(s));let i;if([Zz,mse].includes(e.key))i=t[e.key===Zz?0:t.length-1];else{const s=[hse,pse].includes(e.key);i=Dz(t,e.target,s,!0)}i&&(i.focus({preventScroll:!0}),Jd.getOrCreateInstance(i).show())}_getChildren(){return Bn.find(eP,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Bn.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const s=(r,o)=>{const a=Bn.findOne(r,i);a&&a.classList.toggle(o,t)};s(_se,g8),s(".dropdown-menu",Qz),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(g8)}_getInnerElement(e){return e.matches(eP)?e:Bn.findOne(eP,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=Jd.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}pt.on(document,ult,yse,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!W4(this)&&Jd.getOrCreateInstance(this).show()}),pt.on(window,flt,()=>{for(const n of Bn.find(Mlt))Jd.getOrCreateInstance(n)}),Pa(Jd);const X4=".bs.toast",blt=`mouseover${X4}`,xlt=`mouseout${X4}`,Elt=`focusin${X4}`,wlt=`focusout${X4}`,Tlt=`hide${X4}`,Slt=`hidden${X4}`,Alt=`show${X4}`,Llt=`shown${X4}`,dC="show",fC="showing",zlt={animation:"boolean",autohide:"boolean",delay:"number"},Plt={animation:!0,autohide:!0,delay:5e3};class hC extends mc{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Plt}static get DefaultType(){return zlt}static get NAME(){return"toast"}show(){pt.trigger(this._element,Alt).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(dC,fC),this._queueCallback(()=>{this._element.classList.remove(fC),pt.trigger(this._element,Llt),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!pt.trigger(this._element,Tlt).defaultPrevented&&(this._element.classList.add(fC),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(fC,dC),pt.trigger(this._element,Slt)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(dC),super.dispose()}isShown(){return this._element.classList.contains(dC)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){pt.on(this._element,blt,e=>this._onInteraction(e,!0)),pt.on(this._element,xlt,e=>this._onInteraction(e,!1)),pt.on(this._element,Elt,e=>this._onInteraction(e,!0)),pt.on(this._element,wlt,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=hC.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}function Nlt(n,e){if(1&n&&(Ye(0,"div",7),oi(1,"fa-icon",8),Ye(2,"span"),Ge(3),He()()),2&n){const t=e.$implicit;v1(),N1("icon",t.icon),v1(2),_4(t.name)}}JM(hC),Pa(hC);let Dlt=(()=>{class n{handleClick;project;constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-project-card"]],inputs:{handleClick:"handleClick",project:"project"},decls:12,vars:5,consts:[[1,"card",3,"click"],[1,"about-project"],[1,"title"],[1,"description"],[1,"technologies"],["class","icon-text",4,"ngFor","ngForOf"],[1,"image-project",3,"src"],[1,"icon-text"],[1,"icon-project",3,"icon"]],template:function(i,s){1&i&&(Ye(0,"div",0),W3("click",function(){return s.handleClick(s.project)}),Ye(1,"div",1)(2,"p",2),Ge(3),Ye(4,"span"),Ge(5),He()(),Ye(6,"p",3),Ge(7),He(),Ye(8,"div",4),$3(9,Nlt,4,2,"div",5),He()(),Ye(10,"div"),oi(11,"img",6),He()()),2&i&&(v1(3),_6(" ",s.project.name," "),v1(2),_4(s.project.subname),v1(2),_4(s.project.description),v1(2),N1("ngForOf",s.project.icons),v1(2),N1("src",s.project.imageCard,Z5))},dependencies:[Au,Tv],styles:['@charset "UTF-8";.card[_ngcontent-%COMP%]{background:var(--background-white-color);width:100%!important;box-sizing:border-box;padding:40px;border:1px solid var(--border-color);border-radius:10px;display:flex;flex-direction:row;gap:100px;align-items:center}.card[_ngcontent-%COMP%]   .about-project[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.card[_ngcontent-%COMP%]   .about-project[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin:0}.card[_ngcontent-%COMP%]   .about-project[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-color)}.card[_ngcontent-%COMP%]   .about-project[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{font-size:14px;color:var(--text-color);margin:0}.card[_ngcontent-%COMP%]   .about-project[_ngcontent-%COMP%]   .technologies[_ngcontent-%COMP%]{display:flex;gap:25px}.card[_ngcontent-%COMP%]   .about-project[_ngcontent-%COMP%]   .technologies[_ngcontent-%COMP%]   .icon-project[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--title-color)}.card[_ngcontent-%COMP%]   .icon-text[_ngcontent-%COMP%]{display:inline-flex;align-items:center;cursor:pointer}.card[_ngcontent-%COMP%]   .icon-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;display:inline-block;max-width:0;opacity:0;overflow:hidden;white-space:nowrap;transition:max-width .4s ease,opacity .4s ease;margin-left:8px;color:var(--title-color)}.card[_ngcontent-%COMP%]   .icon-text[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{max-width:200px;opacity:1}.card[_ngcontent-%COMP%]   .image-project[_ngcontent-%COMP%]{width:440px}.card[_ngcontent-%COMP%]:hover{transition:.3s;cursor:pointer;background:var(--background-gray-color)}@media (max-width: 1200px){.card[_ngcontent-%COMP%]{gap:40px;flex-direction:column}}@media (max-width: 640px){.card[_ngcontent-%COMP%]   .image-project[_ngcontent-%COMP%]{width:200px}}']})}return n})();const Mse=n=>({"background-image":n});function Rlt(n,e){if(1&n&&oi(0,"app-project-card",7),2&n){const t=e.$implicit,i=e.index,s=g6();N1("project",t)("handleClick",s.openModal.bind(s)),Dh("data-aos-delay",50*(i+1))}}function Olt(n,e){if(1&n){const t=function CU(){return Le()}();Ye(0,"div",8)(1,"button",9)(2,"span",10),Ge(3," close "),He()(),Ye(4,"div",11)(5,"div",12)(6,"div",13)(7,"div",14)(8,"div",15)(9,"h3"),Ge(10),He(),Ye(11,"div",16)(12,"div",17),oi(13,"div",18),Ye(14,"div",19)(15,"h5"),Ge(16,"Gustavo Henrique"),He(),Ye(17,"p")(18,"span",20),Ge(19," check_circle "),He(),Ge(20," Pronto para trabalhar "),Ye(21,"span",21),Ge(22," rocket_launch "),He()()()(),Ye(23,"div",22)(24,"div",23),W3("click",function(){return l4(t),Zl(g6().shareProject())}),Ye(25,"span",20),Ge(26," prompt_suggestion "),He()(),Ye(27,"div",24),W3("click",function(){return l4(t),Zl(g6().goToLink())}),Ge(28,"Ver projeto"),He()()()(),oi(29,"img",25),Ye(30,"p",26),Ge(31),He(),Ye(32,"div",27),oi(33,"div",28)(34,"div",29)(35,"div",28),He(),Ye(36,"div",30)(37,"h5"),Ge(38,"Gustavo Henrique"),He(),Ye(39,"p"),Ge(40," Vamos criar solu\xe7\xf5es juntos "),Ye(41,"span",21),Ge(42," rocket_launch "),He()(),Ye(43,"div",24),W3("click",function(){return l4(t),Zl(g6().goToLink())}),Ge(44,"Ver projeto"),He()()()()()()()}if(2&n){const t=g6();v1(10),_4(t.selectedProject.title),v1(3),N1("ngStyle",y4(5,Mse,"url("+t.selectedProject.icon+")")),v1(16),N1("src",null==t.selectedProject?null:t.selectedProject.imageUrl,Z5),v1(2),_6(" ",t.selectedProject.description," "),v1(3),N1("ngStyle",y4(7,Mse,"url("+t.selectedProject.icon+")"))}}let klt=(()=>{class n{projects=[{id:1,imageUrl:"assets/images/saferoute-project.png",imageCard:"assets/images/safe-route-mockup.png",title:"SafeRoute \xe9 um app para rotas seguras",name:"Safe",subname:"Route",icon:"assets/images/logo-saferoute.png",urlProject:"https://gustavo-henrique1.github.io/secret-word/",icons:[{icon:DJ,name:"Kotlin"},{icon:mv,name:"JavaScript"},{icon:E9,name:"CSS"},{icon:JS,name:"MySQL"},{icon:US,name:"Geolocaliza\xe7\xe3o"}],description:"O projeto Safe Route visa promover a locomo\xe7\xe3o segura para mulheres. Atrav\xe9s de uma aplica\xe7\xe3o web, usu\xe1rias podem se cadastrar, criar rotas com o Google Maps ou participar de grupos de locomo\xe7\xe3o com outras mulheres. Inspirado por experi\xeancias pessoais e pesquisas, o sistema busca minimizar os riscos enfrentados no dia a dia, oferecendo mais seguran\xe7a, autonomia e tranquilidade para todas."},{id:2,imageUrl:"assets/images/consultacnpj-project.png",imageCard:"assets/images/cnpj-mockup.png",title:"CNPJ Serch \xe9 um site para encontrar dados sobre empresas",name:"CNPJ",subname:"Search",icon:"assets/images/logo-saferoute.png",urlProject:"https://gustavo-henrique1.github.io/consultar-cnpj/",icons:[{icon:mv,name:"JavaScript"},{icon:E9,name:"CSS"},{icon:yS,name:"Rest API"}],description:"O CNPJ Search \xe9 uma ferramenta online para consulta de dados de empresas brasileiras usando o n\xfamero do CNPJ. Ao pesquisar, o sistema exibe informa\xe7\xf5es como nome empresarial, raz\xe3o social, atividade principal, telefone, e-mail, endere\xe7o completo, situa\xe7\xe3o cadastral, data de abertura e tamb\xe9m a lista de s\xf3cios da empresa. A plataforma facilita o acesso a dados de forma segura e acess\xedvel."},{id:3,imageUrl:"assets/images/secret-word-project.png",imageCard:"assets/images/secret-mockup.png",title:"Secret Word \xe9 para voc\xea se divertir",name:"Secret",subname:"Word",icon:"assets/images/logo-saferoute.png",urlProject:"https://gustavo-henrique1.github.io/secret-word/",icons:[{icon:cA,name:"React"},{icon:E9,name:"CSS"}],description:"Secret Word \xe9 um jogo online desenvolvido em React onde o objetivo \xe9 adivinhar a palavra correta com base em uma dica fornecida. O jogador tem um n\xfamero limitado de tentativas para acertar as letras da palavra e somar pontos a cada acerto. O sistema mostra o progresso visualmente e exibe as letras utilizadas. A interface \xe9 intuitiva e divertida."},{id:4,imageUrl:"assets/images/zen-app-project.png",imageCard:"assets/images/zen-app-mockup.png",title:"ZenApp \xe9 um app para te deixar calmo",name:"Zen",subname:"App",icon:"assets/images/logo-saferoute.png",urlProject:"https://www.figma.com/proto/geS5Vz006pBW21TH4zmLg2/Untitled?node-id=6-3936&p=f&t=HvLx3XxY4wrWwuL2-0&scaling=min-zoom&content-scaling=fixed&page-id=0%3A1&starting-point-node-id=6%3A3936",icons:[{icon:x9,name:"Figma"}],description:"Projeto desenvolvido durante meus estudos de UI/UX Design no Figma. A proposta \xe9 criar uma experi\xeancia de bem-estar digital, onde o usu\xe1rio possa acompanhar seu humor, h\xe1bitos e rotinas de autocuidado. Com interface leve, intuitiva e focada no usu\xe1rio, o app visa promover equil\xedbrio emocional e sa\xfade mental por meio de recursos como di\xe1rios de humor, medita\xe7\xf5es guiadas e lembretes de h\xe1bitos saud\xe1veis."}];selectedProject={};goToLink(){window.open(this.selectedProject.urlProject,"_blank")}shareProject(){const t=window.location.href;navigator.share?navigator.share({title:"Confira este projeto!",text:"D\xea uma olhada nesse projeto incr\xedvel:",url:t}).catch(i=>console.error("Erro ao compartilhar",i)):navigator.clipboard.writeText(t).then(()=>{alert("Link copiado para a \xe1rea de transfer\xeancia!")},()=>{alert("N\xe3o foi poss\xedvel copiar o link.")})}openModal(t){this.selectedProject=t;const i=document.getElementById("projectModal");new p8(i).show()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-projects"]],decls:15,vars:2,consts:[["id","portfolio",1,"d-flex","align-items-center","justify-content-center","background-white","section-project"],[1,"container","d-flex","justify-content-start","align-items-start","flex-column"],["data-aos","fade-in","data-aos-duration","1400",1,"header-section"],[1,"tag"],[1,"projects-area"],["data-aos","fade-up","data-aos-easing","ease-in-back",3,"project","handleClick",4,"ngFor","ngForOf"],["class","modal fade","id","projectModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",4,"ngIf"],["data-aos","fade-up","data-aos-easing","ease-in-back",3,"project","handleClick"],["id","projectModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal"],[1,"material-symbols-rounded"],[1,"modal-dialog"],[1,"modal-content"],[1,"container-modal"],[1,"modal-body"],[1,"header"],[1,"d-flex","align-items-center","justify-content-between","data-user"],[1,"d-flex","description-area"],[1,"image-header",3,"ngStyle"],[1,"dev-description"],[1,"material-symbols-outlined"],[1,"material-symbols-rounded","rocket-icon"],[1,"description-buttons","d-flex"],[1,"icon-button",3,"click"],[1,"button-view",3,"click"],["alt","Project Image",1,"img-fluid",3,"src"],[1,"description-project"],[1,"footer-modal","d-flex","align-items-center","justify-content-between"],[1,"line"],[1,"circle-image",3,"ngStyle"],[1,"footer-information"]],template:function(i,s){1&i&&(Ye(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),Ge(5,"PORTF\xd3LIO"),He()(),Ye(6,"h2"),Ge(7,"Projetos "),Ye(8,"span"),Ge(9,"Recentes"),He()(),Ye(10,"h5"),Ge(11," Desenvolvo solu\xe7\xf5es inovadoras combinando frameworks e ferramentas de ponta. "),He()(),Ye(12,"div",4),$3(13,Rlt,1,3,"app-project-card",5),He()()(),$3(14,Olt,45,9,"div",6)),2&i&&(v1(13),N1("ngForOf",s.projects),v1(),N1("ngIf",s.selectedProject))},dependencies:[Au,ET,ST,Dlt],styles:['[data-aos][data-aos][data-aos-duration="50"],body[data-aos-duration="50"] [data-aos]{transition-duration:50ms}[data-aos][data-aos][data-aos-delay="50"],body[data-aos-delay="50"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="50"].aos-animate,body[data-aos-delay="50"] [data-aos].aos-animate{transition-delay:50ms}[data-aos][data-aos][data-aos-duration="100"],body[data-aos-duration="100"] [data-aos]{transition-duration:.1s}[data-aos][data-aos][data-aos-delay="100"],body[data-aos-delay="100"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="100"].aos-animate,body[data-aos-delay="100"] [data-aos].aos-animate{transition-delay:.1s}[data-aos][data-aos][data-aos-duration="150"],body[data-aos-duration="150"] [data-aos]{transition-duration:.15s}[data-aos][data-aos][data-aos-delay="150"],body[data-aos-delay="150"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="150"].aos-animate,body[data-aos-delay="150"] [data-aos].aos-animate{transition-delay:.15s}[data-aos][data-aos][data-aos-duration="200"],body[data-aos-duration="200"] [data-aos]{transition-duration:.2s}[data-aos][data-aos][data-aos-delay="200"],body[data-aos-delay="200"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="200"].aos-animate,body[data-aos-delay="200"] [data-aos].aos-animate{transition-delay:.2s}[data-aos][data-aos][data-aos-duration="250"],body[data-aos-duration="250"] [data-aos]{transition-duration:.25s}[data-aos][data-aos][data-aos-delay="250"],body[data-aos-delay="250"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="250"].aos-animate,body[data-aos-delay="250"] [data-aos].aos-animate{transition-delay:.25s}[data-aos][data-aos][data-aos-duration="300"],body[data-aos-duration="300"] [data-aos]{transition-duration:.3s}[data-aos][data-aos][data-aos-delay="300"],body[data-aos-delay="300"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="300"].aos-animate,body[data-aos-delay="300"] [data-aos].aos-animate{transition-delay:.3s}[data-aos][data-aos][data-aos-duration="350"],body[data-aos-duration="350"] [data-aos]{transition-duration:.35s}[data-aos][data-aos][data-aos-delay="350"],body[data-aos-delay="350"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="350"].aos-animate,body[data-aos-delay="350"] [data-aos].aos-animate{transition-delay:.35s}[data-aos][data-aos][data-aos-duration="400"],body[data-aos-duration="400"] [data-aos]{transition-duration:.4s}[data-aos][data-aos][data-aos-delay="400"],body[data-aos-delay="400"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="400"].aos-animate,body[data-aos-delay="400"] [data-aos].aos-animate{transition-delay:.4s}[data-aos][data-aos][data-aos-duration="450"],body[data-aos-duration="450"] [data-aos]{transition-duration:.45s}[data-aos][data-aos][data-aos-delay="450"],body[data-aos-delay="450"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="450"].aos-animate,body[data-aos-delay="450"] [data-aos].aos-animate{transition-delay:.45s}[data-aos][data-aos][data-aos-duration="500"],body[data-aos-duration="500"] [data-aos]{transition-duration:.5s}[data-aos][data-aos][data-aos-delay="500"],body[data-aos-delay="500"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="500"].aos-animate,body[data-aos-delay="500"] [data-aos].aos-animate{transition-delay:.5s}[data-aos][data-aos][data-aos-duration="550"],body[data-aos-duration="550"] [data-aos]{transition-duration:.55s}[data-aos][data-aos][data-aos-delay="550"],body[data-aos-delay="550"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="550"].aos-animate,body[data-aos-delay="550"] [data-aos].aos-animate{transition-delay:.55s}[data-aos][data-aos][data-aos-duration="600"],body[data-aos-duration="600"] [data-aos]{transition-duration:.6s}[data-aos][data-aos][data-aos-delay="600"],body[data-aos-delay="600"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="600"].aos-animate,body[data-aos-delay="600"] [data-aos].aos-animate{transition-delay:.6s}[data-aos][data-aos][data-aos-duration="650"],body[data-aos-duration="650"] [data-aos]{transition-duration:.65s}[data-aos][data-aos][data-aos-delay="650"],body[data-aos-delay="650"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="650"].aos-animate,body[data-aos-delay="650"] [data-aos].aos-animate{transition-delay:.65s}[data-aos][data-aos][data-aos-duration="700"],body[data-aos-duration="700"] [data-aos]{transition-duration:.7s}[data-aos][data-aos][data-aos-delay="700"],body[data-aos-delay="700"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="700"].aos-animate,body[data-aos-delay="700"] [data-aos].aos-animate{transition-delay:.7s}[data-aos][data-aos][data-aos-duration="750"],body[data-aos-duration="750"] [data-aos]{transition-duration:.75s}[data-aos][data-aos][data-aos-delay="750"],body[data-aos-delay="750"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="750"].aos-animate,body[data-aos-delay="750"] [data-aos].aos-animate{transition-delay:.75s}[data-aos][data-aos][data-aos-duration="800"],body[data-aos-duration="800"] [data-aos]{transition-duration:.8s}[data-aos][data-aos][data-aos-delay="800"],body[data-aos-delay="800"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="800"].aos-animate,body[data-aos-delay="800"] [data-aos].aos-animate{transition-delay:.8s}[data-aos][data-aos][data-aos-duration="850"],body[data-aos-duration="850"] [data-aos]{transition-duration:.85s}[data-aos][data-aos][data-aos-delay="850"],body[data-aos-delay="850"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="850"].aos-animate,body[data-aos-delay="850"] [data-aos].aos-animate{transition-delay:.85s}[data-aos][data-aos][data-aos-duration="900"],body[data-aos-duration="900"] [data-aos]{transition-duration:.9s}[data-aos][data-aos][data-aos-delay="900"],body[data-aos-delay="900"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="900"].aos-animate,body[data-aos-delay="900"] [data-aos].aos-animate{transition-delay:.9s}[data-aos][data-aos][data-aos-duration="950"],body[data-aos-duration="950"] [data-aos]{transition-duration:.95s}[data-aos][data-aos][data-aos-delay="950"],body[data-aos-delay="950"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="950"].aos-animate,body[data-aos-delay="950"] [data-aos].aos-animate{transition-delay:.95s}[data-aos][data-aos][data-aos-duration="1000"],body[data-aos-duration="1000"] [data-aos]{transition-duration:1s}[data-aos][data-aos][data-aos-delay="1000"],body[data-aos-delay="1000"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1000"].aos-animate,body[data-aos-delay="1000"] [data-aos].aos-animate{transition-delay:1s}[data-aos][data-aos][data-aos-duration="1050"],body[data-aos-duration="1050"] [data-aos]{transition-duration:1.05s}[data-aos][data-aos][data-aos-delay="1050"],body[data-aos-delay="1050"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1050"].aos-animate,body[data-aos-delay="1050"] [data-aos].aos-animate{transition-delay:1.05s}[data-aos][data-aos][data-aos-duration="1100"],body[data-aos-duration="1100"] [data-aos]{transition-duration:1.1s}[data-aos][data-aos][data-aos-delay="1100"],body[data-aos-delay="1100"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1100"].aos-animate,body[data-aos-delay="1100"] [data-aos].aos-animate{transition-delay:1.1s}[data-aos][data-aos][data-aos-duration="1150"],body[data-aos-duration="1150"] [data-aos]{transition-duration:1.15s}[data-aos][data-aos][data-aos-delay="1150"],body[data-aos-delay="1150"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1150"].aos-animate,body[data-aos-delay="1150"] [data-aos].aos-animate{transition-delay:1.15s}[data-aos][data-aos][data-aos-duration="1200"],body[data-aos-duration="1200"] [data-aos]{transition-duration:1.2s}[data-aos][data-aos][data-aos-delay="1200"],body[data-aos-delay="1200"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1200"].aos-animate,body[data-aos-delay="1200"] [data-aos].aos-animate{transition-delay:1.2s}[data-aos][data-aos][data-aos-duration="1250"],body[data-aos-duration="1250"] [data-aos]{transition-duration:1.25s}[data-aos][data-aos][data-aos-delay="1250"],body[data-aos-delay="1250"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1250"].aos-animate,body[data-aos-delay="1250"] [data-aos].aos-animate{transition-delay:1.25s}[data-aos][data-aos][data-aos-duration="1300"],body[data-aos-duration="1300"] [data-aos]{transition-duration:1.3s}[data-aos][data-aos][data-aos-delay="1300"],body[data-aos-delay="1300"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1300"].aos-animate,body[data-aos-delay="1300"] [data-aos].aos-animate{transition-delay:1.3s}[data-aos][data-aos][data-aos-duration="1350"],body[data-aos-duration="1350"] [data-aos]{transition-duration:1.35s}[data-aos][data-aos][data-aos-delay="1350"],body[data-aos-delay="1350"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1350"].aos-animate,body[data-aos-delay="1350"] [data-aos].aos-animate{transition-delay:1.35s}[data-aos][data-aos][data-aos-duration="1400"],body[data-aos-duration="1400"] [data-aos]{transition-duration:1.4s}[data-aos][data-aos][data-aos-delay="1400"],body[data-aos-delay="1400"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1400"].aos-animate,body[data-aos-delay="1400"] [data-aos].aos-animate{transition-delay:1.4s}[data-aos][data-aos][data-aos-duration="1450"],body[data-aos-duration="1450"] [data-aos]{transition-duration:1.45s}[data-aos][data-aos][data-aos-delay="1450"],body[data-aos-delay="1450"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1450"].aos-animate,body[data-aos-delay="1450"] [data-aos].aos-animate{transition-delay:1.45s}[data-aos][data-aos][data-aos-duration="1500"],body[data-aos-duration="1500"] [data-aos]{transition-duration:1.5s}[data-aos][data-aos][data-aos-delay="1500"],body[data-aos-delay="1500"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1500"].aos-animate,body[data-aos-delay="1500"] [data-aos].aos-animate{transition-delay:1.5s}[data-aos][data-aos][data-aos-duration="1550"],body[data-aos-duration="1550"] [data-aos]{transition-duration:1.55s}[data-aos][data-aos][data-aos-delay="1550"],body[data-aos-delay="1550"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1550"].aos-animate,body[data-aos-delay="1550"] [data-aos].aos-animate{transition-delay:1.55s}[data-aos][data-aos][data-aos-duration="1600"],body[data-aos-duration="1600"] [data-aos]{transition-duration:1.6s}[data-aos][data-aos][data-aos-delay="1600"],body[data-aos-delay="1600"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1600"].aos-animate,body[data-aos-delay="1600"] [data-aos].aos-animate{transition-delay:1.6s}[data-aos][data-aos][data-aos-duration="1650"],body[data-aos-duration="1650"] [data-aos]{transition-duration:1.65s}[data-aos][data-aos][data-aos-delay="1650"],body[data-aos-delay="1650"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1650"].aos-animate,body[data-aos-delay="1650"] [data-aos].aos-animate{transition-delay:1.65s}[data-aos][data-aos][data-aos-duration="1700"],body[data-aos-duration="1700"] [data-aos]{transition-duration:1.7s}[data-aos][data-aos][data-aos-delay="1700"],body[data-aos-delay="1700"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1700"].aos-animate,body[data-aos-delay="1700"] [data-aos].aos-animate{transition-delay:1.7s}[data-aos][data-aos][data-aos-duration="1750"],body[data-aos-duration="1750"] [data-aos]{transition-duration:1.75s}[data-aos][data-aos][data-aos-delay="1750"],body[data-aos-delay="1750"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1750"].aos-animate,body[data-aos-delay="1750"] [data-aos].aos-animate{transition-delay:1.75s}[data-aos][data-aos][data-aos-duration="1800"],body[data-aos-duration="1800"] [data-aos]{transition-duration:1.8s}[data-aos][data-aos][data-aos-delay="1800"],body[data-aos-delay="1800"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1800"].aos-animate,body[data-aos-delay="1800"] [data-aos].aos-animate{transition-delay:1.8s}[data-aos][data-aos][data-aos-duration="1850"],body[data-aos-duration="1850"] [data-aos]{transition-duration:1.85s}[data-aos][data-aos][data-aos-delay="1850"],body[data-aos-delay="1850"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1850"].aos-animate,body[data-aos-delay="1850"] [data-aos].aos-animate{transition-delay:1.85s}[data-aos][data-aos][data-aos-duration="1900"],body[data-aos-duration="1900"] [data-aos]{transition-duration:1.9s}[data-aos][data-aos][data-aos-delay="1900"],body[data-aos-delay="1900"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1900"].aos-animate,body[data-aos-delay="1900"] [data-aos].aos-animate{transition-delay:1.9s}[data-aos][data-aos][data-aos-duration="1950"],body[data-aos-duration="1950"] [data-aos]{transition-duration:1.95s}[data-aos][data-aos][data-aos-delay="1950"],body[data-aos-delay="1950"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1950"].aos-animate,body[data-aos-delay="1950"] [data-aos].aos-animate{transition-delay:1.95s}[data-aos][data-aos][data-aos-duration="2000"],body[data-aos-duration="2000"] [data-aos]{transition-duration:2s}[data-aos][data-aos][data-aos-delay="2000"],body[data-aos-delay="2000"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2000"].aos-animate,body[data-aos-delay="2000"] [data-aos].aos-animate{transition-delay:2s}[data-aos][data-aos][data-aos-duration="2050"],body[data-aos-duration="2050"] [data-aos]{transition-duration:2.05s}[data-aos][data-aos][data-aos-delay="2050"],body[data-aos-delay="2050"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2050"].aos-animate,body[data-aos-delay="2050"] [data-aos].aos-animate{transition-delay:2.05s}[data-aos][data-aos][data-aos-duration="2100"],body[data-aos-duration="2100"] [data-aos]{transition-duration:2.1s}[data-aos][data-aos][data-aos-delay="2100"],body[data-aos-delay="2100"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2100"].aos-animate,body[data-aos-delay="2100"] [data-aos].aos-animate{transition-delay:2.1s}[data-aos][data-aos][data-aos-duration="2150"],body[data-aos-duration="2150"] [data-aos]{transition-duration:2.15s}[data-aos][data-aos][data-aos-delay="2150"],body[data-aos-delay="2150"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2150"].aos-animate,body[data-aos-delay="2150"] [data-aos].aos-animate{transition-delay:2.15s}[data-aos][data-aos][data-aos-duration="2200"],body[data-aos-duration="2200"] [data-aos]{transition-duration:2.2s}[data-aos][data-aos][data-aos-delay="2200"],body[data-aos-delay="2200"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2200"].aos-animate,body[data-aos-delay="2200"] [data-aos].aos-animate{transition-delay:2.2s}[data-aos][data-aos][data-aos-duration="2250"],body[data-aos-duration="2250"] [data-aos]{transition-duration:2.25s}[data-aos][data-aos][data-aos-delay="2250"],body[data-aos-delay="2250"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2250"].aos-animate,body[data-aos-delay="2250"] [data-aos].aos-animate{transition-delay:2.25s}[data-aos][data-aos][data-aos-duration="2300"],body[data-aos-duration="2300"] [data-aos]{transition-duration:2.3s}[data-aos][data-aos][data-aos-delay="2300"],body[data-aos-delay="2300"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2300"].aos-animate,body[data-aos-delay="2300"] [data-aos].aos-animate{transition-delay:2.3s}[data-aos][data-aos][data-aos-duration="2350"],body[data-aos-duration="2350"] [data-aos]{transition-duration:2.35s}[data-aos][data-aos][data-aos-delay="2350"],body[data-aos-delay="2350"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2350"].aos-animate,body[data-aos-delay="2350"] [data-aos].aos-animate{transition-delay:2.35s}[data-aos][data-aos][data-aos-duration="2400"],body[data-aos-duration="2400"] [data-aos]{transition-duration:2.4s}[data-aos][data-aos][data-aos-delay="2400"],body[data-aos-delay="2400"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2400"].aos-animate,body[data-aos-delay="2400"] [data-aos].aos-animate{transition-delay:2.4s}[data-aos][data-aos][data-aos-duration="2450"],body[data-aos-duration="2450"] [data-aos]{transition-duration:2.45s}[data-aos][data-aos][data-aos-delay="2450"],body[data-aos-delay="2450"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2450"].aos-animate,body[data-aos-delay="2450"] [data-aos].aos-animate{transition-delay:2.45s}[data-aos][data-aos][data-aos-duration="2500"],body[data-aos-duration="2500"] [data-aos]{transition-duration:2.5s}[data-aos][data-aos][data-aos-delay="2500"],body[data-aos-delay="2500"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2500"].aos-animate,body[data-aos-delay="2500"] [data-aos].aos-animate{transition-delay:2.5s}[data-aos][data-aos][data-aos-duration="2550"],body[data-aos-duration="2550"] [data-aos]{transition-duration:2.55s}[data-aos][data-aos][data-aos-delay="2550"],body[data-aos-delay="2550"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2550"].aos-animate,body[data-aos-delay="2550"] [data-aos].aos-animate{transition-delay:2.55s}[data-aos][data-aos][data-aos-duration="2600"],body[data-aos-duration="2600"] [data-aos]{transition-duration:2.6s}[data-aos][data-aos][data-aos-delay="2600"],body[data-aos-delay="2600"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2600"].aos-animate,body[data-aos-delay="2600"] [data-aos].aos-animate{transition-delay:2.6s}[data-aos][data-aos][data-aos-duration="2650"],body[data-aos-duration="2650"] [data-aos]{transition-duration:2.65s}[data-aos][data-aos][data-aos-delay="2650"],body[data-aos-delay="2650"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2650"].aos-animate,body[data-aos-delay="2650"] [data-aos].aos-animate{transition-delay:2.65s}[data-aos][data-aos][data-aos-duration="2700"],body[data-aos-duration="2700"] [data-aos]{transition-duration:2.7s}[data-aos][data-aos][data-aos-delay="2700"],body[data-aos-delay="2700"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2700"].aos-animate,body[data-aos-delay="2700"] [data-aos].aos-animate{transition-delay:2.7s}[data-aos][data-aos][data-aos-duration="2750"],body[data-aos-duration="2750"] [data-aos]{transition-duration:2.75s}[data-aos][data-aos][data-aos-delay="2750"],body[data-aos-delay="2750"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2750"].aos-animate,body[data-aos-delay="2750"] [data-aos].aos-animate{transition-delay:2.75s}[data-aos][data-aos][data-aos-duration="2800"],body[data-aos-duration="2800"] [data-aos]{transition-duration:2.8s}[data-aos][data-aos][data-aos-delay="2800"],body[data-aos-delay="2800"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2800"].aos-animate,body[data-aos-delay="2800"] [data-aos].aos-animate{transition-delay:2.8s}[data-aos][data-aos][data-aos-duration="2850"],body[data-aos-duration="2850"] [data-aos]{transition-duration:2.85s}[data-aos][data-aos][data-aos-delay="2850"],body[data-aos-delay="2850"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2850"].aos-animate,body[data-aos-delay="2850"] [data-aos].aos-animate{transition-delay:2.85s}[data-aos][data-aos][data-aos-duration="2900"],body[data-aos-duration="2900"] [data-aos]{transition-duration:2.9s}[data-aos][data-aos][data-aos-delay="2900"],body[data-aos-delay="2900"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2900"].aos-animate,body[data-aos-delay="2900"] [data-aos].aos-animate{transition-delay:2.9s}[data-aos][data-aos][data-aos-duration="2950"],body[data-aos-duration="2950"] [data-aos]{transition-duration:2.95s}[data-aos][data-aos][data-aos-delay="2950"],body[data-aos-delay="2950"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2950"].aos-animate,body[data-aos-delay="2950"] [data-aos].aos-animate{transition-delay:2.95s}[data-aos][data-aos][data-aos-duration="3000"],body[data-aos-duration="3000"] [data-aos]{transition-duration:3s}[data-aos][data-aos][data-aos-delay="3000"],body[data-aos-delay="3000"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="3000"].aos-animate,body[data-aos-delay="3000"] [data-aos].aos-animate{transition-delay:3s}[data-aos][data-aos][data-aos-easing=linear],body[data-aos-easing=linear] [data-aos]{transition-timing-function:cubic-bezier(.25,.25,.75,.75)}[data-aos][data-aos][data-aos-easing=ease],body[data-aos-easing=ease] [data-aos]{transition-timing-function:ease}[data-aos][data-aos][data-aos-easing=ease-in],body[data-aos-easing=ease-in] [data-aos]{transition-timing-function:ease-in}[data-aos][data-aos][data-aos-easing=ease-out],body[data-aos-easing=ease-out] [data-aos]{transition-timing-function:ease-out}[data-aos][data-aos][data-aos-easing=ease-in-out],body[data-aos-easing=ease-in-out] [data-aos]{transition-timing-function:ease-in-out}[data-aos][data-aos][data-aos-easing=ease-in-back],body[data-aos-easing=ease-in-back] [data-aos]{transition-timing-function:cubic-bezier(.6,-.28,.735,.045)}[data-aos][data-aos][data-aos-easing=ease-out-back],body[data-aos-easing=ease-out-back] [data-aos]{transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}[data-aos][data-aos][data-aos-easing=ease-in-out-back],body[data-aos-easing=ease-in-out-back] [data-aos]{transition-timing-function:cubic-bezier(.68,-.55,.265,1.55)}[data-aos][data-aos][data-aos-easing=ease-in-sine],body[data-aos-easing=ease-in-sine] [data-aos]{transition-timing-function:cubic-bezier(.47,0,.745,.715)}[data-aos][data-aos][data-aos-easing=ease-out-sine],body[data-aos-easing=ease-out-sine] [data-aos]{transition-timing-function:cubic-bezier(.39,.575,.565,1)}[data-aos][data-aos][data-aos-easing=ease-in-out-sine],body[data-aos-easing=ease-in-out-sine] [data-aos]{transition-timing-function:cubic-bezier(.445,.05,.55,.95)}[data-aos][data-aos][data-aos-easing=ease-in-quad],body[data-aos-easing=ease-in-quad] [data-aos]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quad],body[data-aos-easing=ease-out-quad] [data-aos]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quad],body[data-aos-easing=ease-in-out-quad] [data-aos]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-cubic],body[data-aos-easing=ease-in-cubic] [data-aos]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-cubic],body[data-aos-easing=ease-out-cubic] [data-aos]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-cubic],body[data-aos-easing=ease-in-out-cubic] [data-aos]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-quart],body[data-aos-easing=ease-in-quart] [data-aos]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quart],body[data-aos-easing=ease-out-quart] [data-aos]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quart],body[data-aos-easing=ease-in-out-quart] [data-aos]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos^=fade][data-aos^=fade]{opacity:0;transition-property:opacity,transform}[data-aos^=fade][data-aos^=fade].aos-animate{opacity:1;transform:translateZ(0)}[data-aos=fade-up]{transform:translate3d(0,100px,0)}[data-aos=fade-down]{transform:translate3d(0,-100px,0)}[data-aos=fade-right]{transform:translate3d(-100px,0,0)}[data-aos=fade-left]{transform:translate3d(100px,0,0)}[data-aos=fade-up-right]{transform:translate3d(-100px,100px,0)}[data-aos=fade-up-left]{transform:translate3d(100px,100px,0)}[data-aos=fade-down-right]{transform:translate3d(-100px,-100px,0)}[data-aos=fade-down-left]{transform:translate3d(100px,-100px,0)}[data-aos^=zoom][data-aos^=zoom]{opacity:0;transition-property:opacity,transform}[data-aos^=zoom][data-aos^=zoom].aos-animate{opacity:1;transform:translateZ(0) scale(1)}[data-aos=zoom-in]{transform:scale(.6)}[data-aos=zoom-in-up]{transform:translate3d(0,100px,0) scale(.6)}[data-aos=zoom-in-down]{transform:translate3d(0,-100px,0) scale(.6)}[data-aos=zoom-in-right]{transform:translate3d(-100px,0,0) scale(.6)}[data-aos=zoom-in-left]{transform:translate3d(100px,0,0) scale(.6)}[data-aos=zoom-out]{transform:scale(1.2)}[data-aos=zoom-out-up]{transform:translate3d(0,100px,0) scale(1.2)}[data-aos=zoom-out-down]{transform:translate3d(0,-100px,0) scale(1.2)}[data-aos=zoom-out-right]{transform:translate3d(-100px,0,0) scale(1.2)}[data-aos=zoom-out-left]{transform:translate3d(100px,0,0) scale(1.2)}[data-aos^=slide][data-aos^=slide]{transition-property:transform}[data-aos^=slide][data-aos^=slide].aos-animate{transform:translateZ(0)}[data-aos=slide-up]{transform:translate3d(0,100%,0)}[data-aos=slide-down]{transform:translate3d(0,-100%,0)}[data-aos=slide-right]{transform:translate3d(-100%,0,0)}[data-aos=slide-left]{transform:translate3d(100%,0,0)}[data-aos^=flip][data-aos^=flip]{backface-visibility:hidden;transition-property:transform}[data-aos=flip-left]{transform:perspective(2500px) rotateY(-100deg)}[data-aos=flip-left].aos-animate{transform:perspective(2500px) rotateY(0)}[data-aos=flip-right]{transform:perspective(2500px) rotateY(100deg)}[data-aos=flip-right].aos-animate{transform:perspective(2500px) rotateY(0)}[data-aos=flip-up]{transform:perspective(2500px) rotateX(-100deg)}[data-aos=flip-up].aos-animate{transform:perspective(2500px) rotateX(0)}[data-aos=flip-down]{transform:perspective(2500px) rotateX(100deg)}[data-aos=flip-down].aos-animate{transform:perspective(2500px) rotateX(0)}#portfolio{padding-top:160px!important}.section-project{height:max-content!important;max-height:max-content!important;box-sizing:border-box}.tag{background:var(--background-gray-color)}.projects-area{width:100%;display:flex;flex-direction:column;gap:30px}.modal-dialog{max-width:100%;margin:0;display:flex;align-items:center;justify-content:center}.modal-content{width:1146px;min-height:100vh;box-sizing:border-box;display:flex;margin-top:30px;margin-left:5px;border:0}.modal-body{padding:80px;display:flex;flex-direction:column!important;background-color:var(--background-white-color)}.description-project{font-size:20px;font-weight:400;line-height:32px;margin-top:40px}.button-view{padding:0 20px;height:40px;border-radius:20px;display:flex;align-items:center;justify-content:center;background:var(--button-color);color:#fff;font-weight:500;font-size:14px}.button-view:hover{transition:.3s;background:#000;cursor:pointer}.modal button{width:32px;height:32px;position:fixed;top:20px;right:25px;background:#343434;border-radius:100%;display:flex;align-items:center;justify-content:center;border:0;z-index:10;transition:.3s ease-in-out}.modal button span{color:#fff!important;cursor:pointer!important;font-size:16px}.modal .button-left{top:unset!important;bottom:20px;left:20px}.modal .button-right{top:unset!important;bottom:20px;right:25px!important}.modal button:hover{cursor:pointer;background:#636363}.modal .header{display:flex;flex-direction:column;width:100%}.modal .header .description-area{align-items:center;gap:15px}.modal .header h3{font-size:26px;font-weight:700;line-height:1.5;color:var(--title-color)}.modal .header .image-header{width:48px;height:48px;background-size:cover;background-position:center;background-repeat:no-repeat;border-radius:100%}.modal .header .dev-description{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:4px}.modal .header .dev-description h5{margin:0!important;color:var(--title-color)}.modal .header .dev-description p{font-size:14px;color:#4daa57;margin:0;line-height:1.4;display:flex;align-items:center;gap:5px}.modal .header .dev-description p span{font-size:14px;padding-bottom:2px}.modal .header .rocket-icon{color:var(--text-color)!important;padding-left:2px}.modal .header .icon-button{width:40px;height:40px;border:1px solid var(--border-color);border-radius:100%;display:flex;align-items:center;justify-content:center}.modal .header .icon-button span{font-size:16px;color:var(--title-color)}.modal .header .description-buttons{gap:13px}.modal .icon-button:hover{transition:.4s;cursor:pointer;background-color:var(--title-color)}.modal .icon-button:hover span{color:var(--hover-text-button)}.modal .footer-modal{width:100%;height:100px;margin-top:70px;gap:40px}.modal .footer-modal .line{width:100%;height:2px;background-color:#e7e7e9}.modal .footer-modal .circle-image{min-width:70px;min-height:70px;border-radius:100%;background-size:cover;background-position:center;background-repeat:no-repeat}.modal .footer-information{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;margin-top:12px}.modal .footer-information h5,.modal .footer-information p{width:auto;margin:0}.modal .footer-information h5{font-size:18px;font-weight:700!important;color:var(--title-color)}.modal .footer-information p{font-size:14px;color:var(--text-color);line-height:1.4;display:flex;align-items:center;gap:5px;margin-bottom:7px}.modal .footer-information p span{font-size:17px;padding-bottom:2px}.img-fluid{border-radius:10px;margin-top:30px}@media (max-width: 1200px){#portfolio{padding-top:50px!important}.section-project{height:max-content!important;max-height:max-content!important}.container-projects{flex-direction:column!important}.text-area{justify-content:flex-start!important}.card-area{display:flex}.image-area-project,.itens-project{display:none!important}.text-area-projects{height:fit-content!important;min-height:unset!important}.modal-body{padding-bottom:100px!important}}@media (max-width: 800px){.text-area,.image-area-project{width:100%!important}.modal .header h3{font-size:20px!important;margin-bottom:30px!important}.image-header{width:38px!important;height:38px!important}.description-area{margin-bottom:10px!important}.dev-description h5{font-size:14px}.dev-description p{font-size:12px!important}.description-buttons{margin-bottom:20px!important}.description-project{font-size:14px!important}.circle-image{min-width:45px!important;min-height:45px!important}.footer-modal{margin-top:30px!important;gap:20px!important}}@media (max-width: 600px){.data-user{align-items:flex-start!important;flex-direction:column!important;gap:20px}.description-project{font-size:16px}.image-area-project{height:250px!important}}@media (max-width: 720px){.modal-body{padding:32px}}@media (max-width: 600px){.card-area app-project-card{width:100%!important}.card-area app-project-card .card{width:100%!important}}\n'],encapsulation:2})}return n})();const Sp=n=>({"selected-item":n});let Flt=(()=>{class n{cdr;themeService;darkModeChanged=new lr;activeSection="home";darkMode=!1;darkModeIcon="moon_stars";srcIcon="";constructor(t,i){this.cdr=t,this.themeService=i}ngAfterViewInit(){const t=document.querySelectorAll("section"),i=new IntersectionObserver(s=>{const r=s.filter(o=>o.isIntersecting&&o.target.id).sort((o,a)=>a.intersectionRatio-o.intersectionRatio)[0];r?.target?.id&&(this.activeSection=r.target.id)},{root:null,threshold:.3});t.forEach(s=>{s.id&&i.observe(s)}),this.darkMode="true"===this.getCookie("darkMode"),document.body.classList.toggle("dark-mode",this.darkMode),this.togleIcons(),this.cdr.detectChanges()}scrollToSection(t){const i=document.getElementById(t);i&&(i.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{this.activeSection=t},500))}toggleDarkMode(){this.darkMode=!this.darkMode,document.body.classList.toggle("dark-mode",this.darkMode),this.setCookie("darkMode",this.darkMode?"true":"false",30),this.themeService.setDarkMode(this.darkMode),this.togleIcons()}setCookie(t,i,s){const r=new Date;r.setTime(r.getTime()+24*s*60*60*1e3);const o="expires="+r.toUTCString();document.cookie=t+"="+i+";"+o+";path=/"}getCookie(t){const i=t+"=",s=document.cookie.split(";");for(let r=0;r<s.length;r++){let o=s[r];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(i))return o.substring(i.length,o.length)}return""}togleIcons(){this.darkModeIcon=this.darkMode?"clear_day":"moon_stars",this.srcIcon=this.darkMode?"assets/images/icon-logo-dark.png":"assets/images/icon-logo.png"}static \u0275fac=function(i){return new(i||n)(Nn(Wh),Nn(k1e))};static \u0275cmp=c2({type:n,selectors:[["app-side-menu"]],outputs:{darkModeChanged:"darkModeChanged"},decls:30,vars:17,consts:[[1,"side-menu"],[1,"content-itens"],[1,"item","logo","item-dark"],["href","#home",1,"nav-link"],["alt","",2,"width","35px",3,"src"],[1,"parting-line"],[1,"item",3,"ngClass"],[1,"material-symbols-rounded","icon-menu"],["href","#about",1,"nav-link"],["href","#tecnologies",1,"nav-link"],["href","#experience",1,"nav-link"],["href","#portfolio",1,"nav-link"],[1,"item","item-dark",3,"click"]],template:function(i,s){1&i&&(Ye(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),oi(4,"img",4),He()(),oi(5,"div",5),Ye(6,"div",6)(7,"a",3)(8,"span",7),Ge(9," home "),He()()(),Ye(10,"div",6)(11,"a",8)(12,"span",7),Ge(13," ar_on_you "),He()()(),Ye(14,"div",6)(15,"a",9)(16,"span",7),Ge(17," neurology "),He()()(),Ye(18,"div",6)(19,"a",10)(20,"span",7),Ge(21," school "),He()()(),Ye(22,"div",6)(23,"a",11)(24,"span",7),Ge(25," code_blocks "),He()()(),oi(26,"div",5),Ye(27,"div",12),W3("click",function(){return s.toggleDarkMode()}),Ye(28,"span",7),Ge(29),He()()()()),2&i&&(v1(4),N1("src",s.srcIcon,Z5),v1(2),N1("ngClass",y4(7,Sp,"home"===s.activeSection)),v1(4),N1("ngClass",y4(9,Sp,"about"===s.activeSection)),v1(4),N1("ngClass",y4(11,Sp,"tecnologies"===s.activeSection)),v1(4),N1("ngClass",y4(13,Sp,"experience"===s.activeSection)),v1(4),N1("ngClass",y4(15,Sp,"portfolio"===s.activeSection)),v1(7),_6(" ",s.darkModeIcon," "))},dependencies:[xT],styles:[".side-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:70px;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:20px 10px!important;z-index:9999}.side-menu[_ngcontent-%COMP%]   .content-itens[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;align-items:center;justify-content:space-between;flex-direction:column;gap:15px}.side-menu[_ngcontent-%COMP%]   .content-itens[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%;height:50px;display:flex;align-items:center;justify-content:center;border-radius:10px;cursor:pointer;-webkit-user-select:none;user-select:none}.side-menu[_ngcontent-%COMP%]   .content-itens[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.side-menu[_ngcontent-%COMP%]   .content-itens[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{font-size:28px;color:var(--title-color)}.side-menu[_ngcontent-%COMP%]   .content-itens[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{transition:.5s;background:var(--background-gray-color)}.side-menu[_ngcontent-%COMP%]   .content-itens[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{background:var(--background-gray-color)}.side-menu[_ngcontent-%COMP%]   .content-itens[_ngcontent-%COMP%]   .parting-line[_ngcontent-%COMP%]{width:90%;height:1px;background:#e6e3e3;margin:20px 0!important}@media (max-width: 1200px){.side-menu[_ngcontent-%COMP%]{width:100vw;height:50px;bottom:0;top:unset;background:var(--background-gray-color)}.item[_ngcontent-%COMP%]{width:40px!important;height:40px!important}.content-itens[_ngcontent-%COMP%]{flex-direction:row!important}.parting-line[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]{display:none!important}.selected-item[_ngcontent-%COMP%]{background:var(--background-white-color)!important}.icon-menu[_ngcontent-%COMP%]{font-size:20px!important}}"]})}return n})(),Vlt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=c2({type:n,selectors:[["app-root"]],decls:7,vars:0,template:function(i,s){1&i&&oi(0,"app-side-menu")(1,"app-home")(2,"app-about")(3,"app-technologies")(4,"app-experience")(5,"app-projects")(6,"app-footer")},dependencies:[wat,Oat,kat,Uat,Wat,klt,Flt]})}return n})();var e7=Ve(979);(0,e7.registerVersion)("firebase","10.13.1","app");class Hlt extends Ii{constructor(e,t){super()}schedule(e,t=0){return this}}const pC={setInterval(n,e,...t){const{delegate:i}=pC;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=pC;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Cse extends Hlt{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return pC.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&pC.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,i=!1;try{this.work(e)}catch(r){i=!0,s=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Gs(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const tP={now:()=>(tP.delegate||Date).now(),delegate:void 0};class Ap{constructor(e,t=Ap.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Ap.now=tP.now;class bse extends Ap{constructor(e,t=Ap.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const $lt=new class Glt extends bse{}(class jlt extends Cse{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),nP=new bse(Cse),Wlt=new y6("ANGULARFIRE2_VERSION");class xse{constructor(){return(n=>{const t=(0,e7.getApps)(),i=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(Klt)}}const Klt="app-check";function t7(){}class Ese{zone;delegate;constructor(e,t=$lt){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const s=this.zone;return this.delegate.schedule(function(o){s.runGuarded(()=>{e.apply(this,[o])})},t,i)}}class Xlt{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",t7,{},t7,t7)),t.pipe(Qs({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wse=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ese(Zone.current)),this.insideAngular=t.run(()=>new Ese(Zone.current,nP)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(ut(K1))};static \u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ea(n){return function Zlt(n){return function(t){return(t=t.lift(new Xlt(n.ngZone))).pipe(zu(n.outsideAngular),b6(n.insideAngular))}}(function n7(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Lp=Ve(574);Lp.A.registerVersion("firebase","10.13.1","app-compat");const t6t=["ngOnDestroy"];class Tse{constructor(e){return e}}const iP=new rt("angularfire2.app.options"),sP=new rt("angularfire2.app.name");function rP(n,e,t){const s="object"==typeof t&&t||{};s.name=s.name||"string"==typeof t&&t||"[DEFAULT]";const o=Lp.A.apps.filter(a=>a&&a.name===s.name)[0]||e.runOutsideAngular(()=>Lp.A.initializeApp(n,s));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;s6t("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Tse(o)}const s6t=(n,...e)=>{};function Sse(n,e,t,i,s){const[,r,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(r)return function r6t(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(s,o)||(Ase("error",`${e} was already initialized on the ${t} Firebase App with different settings.${o6t?" You may need to reload as Firebase is not HMR aware.":""}`),Ase("warn",{is:s,was:o})),r;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,s]),a}}const o6t=typeof module<"u"&&!!module.hot,Ase=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Ve(780);class c6t extends Ee{constructor(e=1/0,t=1/0,i=tP){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:r,_windowTime:o}=this;t||(i.push(e),!s&&i.push(r.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:s}=this,r=s.slice();for(let o=0;o<r.length&&!e.closed;o+=i?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:s}=this,r=(s?1:2)*e;if(e<1/0&&r<i.length&&i.splice(0,i.length-r),!s){const o=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=o;c+=2)a=c;a&&i.splice(0,a+1)}}}function oP(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Qr({next:()=>{i.unsubscribe(),n()}});return Uo(e(...t)).subscribe(i)}function Ise(n,e,t){let i,s=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):i=n??1/0,function Lse(n={}){const{connector:e=()=>new Ee,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return r=>{let o,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},m=()=>{h(),o=c=void 0,u=d=!1},_=()=>{const b=o;m(),b?.unsubscribe()};return xn((b,v)=>{l++,!d&&!u&&h();const M=c=c??e();v.add(()=>{l--,0===l&&!d&&!u&&(a=oP(_,s))}),M.subscribe(v),!o&&l>0&&(o=new Qr({next:E=>M.next(E),error:E=>{d=!0,h(),a=oP(m,t,E),M.error(E)},complete:()=>{u=!0,h(),a=oP(m,i),M.complete()}}),Uo(b).subscribe(o))})(r)}}({connector:()=>new c6t(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function zse(n,e){return Rn(e)?w2(()=>n,e):w2(()=>n)}const Pse=new rt("angularfire2.auth.use-emulator"),Nse=new rt("angularfire2.auth.settings"),Dse=new rt("angularfire2.auth.tenant-id"),Rse=new rt("angularfire2.auth.langugage-code"),Ose=new rt("angularfire2.auth.use-device-language"),kse=new rt("angularfire.auth.persistence"),Fse=(n,e,t,i,s,r,o,a)=>Sse(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=s,r&&c.useDeviceLanguage(),o)for(const[l,u]of Object.entries(o))c.settings[l]=u;return a&&c.setPersistence(a),c},[t,i,s,r,o,a]);let Vse=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,s,r,o,a,c,l,u,d,h,m){const _=new Ee,b=zn(void 0).pipe(b6(o.outsideAngular),w2(()=>r.runOutsideAngular(()=>Promise.resolve().then(Ve.bind(Ve,780)))),Bt(()=>rP(t,r,i)),Bt(v=>Fse(v,r,a,l,u,d,c,h)),Ise({bufferSize:1,refCount:!1}));if(Cy(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=zn(null);else{b.pipe(C4()).subscribe();const v=b.pipe(w2(T=>T.getRedirectResult().then(S=>S,()=>null)),ea,Ise({bufferSize:1,refCount:!1})),M=b.pipe(w2(T=>new Z1(S=>({unsubscribe:r.runOutsideAngular(()=>T.onAuthStateChanged(O=>S.next(O),O=>S.error(O),()=>S.complete()))})))),E=b.pipe(w2(T=>new Z1(S=>({unsubscribe:r.runOutsideAngular(()=>T.onIdTokenChanged(O=>S.next(O),O=>S.error(O),()=>S.complete()))}))));this.authState=v.pipe(zse(M),zu(o.outsideAngular),b6(o.insideAngular)),this.user=v.pipe(zse(E),zu(o.outsideAngular),b6(o.insideAngular)),this.idToken=this.user.pipe(w2(T=>T?cs(T.getIdToken()):zn(null))),this.idTokenResult=this.user.pipe(w2(T=>T?cs(T.getIdTokenResult()):zn(null))),this.credential=function a6t(...n){const e=t9(n),t=function jpe(n,e){return"number"==typeof UT(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Uo(i[0]):Pu(t)(cs(i,e)):rc}(v,_,this.authState.pipe(uo(T=>!T))).pipe(Bt(T=>T?.user?T:null),zu(o.outsideAngular),b6(o.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(s,r)=>t.runOutsideAngular(()=>{if(n[r])return i?.spy?.get&&i.spy.get(r,n[r]),n[r];if(t6t.indexOf(r)>-1)return()=>{};const o=e.toPromise().then(a=>{const c=a?.[r];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,l)=>o.then(u=>{const d=u?.(...l);return i?.spy?.apply&&i.spy.apply(r,l,d),d})})})}))(this,b,r,{spy:{apply:(v,M,E)=>{(v.startsWith("signIn")||v.startsWith("createUser"))&&E.then(T=>_.next(T))}}})}static \u0275fac=function(i){return new(i||n)(ut(iP),ut(sP,8),ut(Ja),ut(K1),ut(wse),ut(Pse,8),ut(Nse,8),ut(Dse,8),ut(Rse,8),ut(Ose,8),ut(kse,8),ut(xse,8))};static \u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function aP(){return xn((n,e)=>{let t,i=!1;n.subscribe(L1(e,s=>{const r=t;t=s,i&&e.next([r,s]),i=!0}))})}function d6t(n,e){return n===e}var y8,jse,Use=Ve(779),l3=Ve(398),pi=Ve(401),Bse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hse={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function s(N,z,L){L||(L=0);var I=Array(16);if("string"==typeof z)for(var k=0;16>k;++k)I[k]=z.charCodeAt(L++)|z.charCodeAt(L++)<<8|z.charCodeAt(L++)<<16|z.charCodeAt(L++)<<24;else for(k=0;16>k;++k)I[k]=z[L++]|z[L++]<<8|z[L++]<<16|z[L++]<<24;var G=N.g[3],U=(z=N.g[0])+(G^(L=N.g[1])&((k=N.g[2])^G))+I[0]+3614090360&4294967295;U=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=(L=(k=(G=(z=L+(U<<7&4294967295|U>>>25))+((U=G+(k^z&(L^k))+I[1]+3905402710&4294967295)<<12&4294967295|U>>>20))+((U=k+(L^G&(z^L))+I[2]+606105819&4294967295)<<17&4294967295|U>>>15))+((U=L+(z^k&(G^z))+I[3]+3250441966&4294967295)<<22&4294967295|U>>>10))+((U=z+(G^L&(k^G))+I[4]+4118548399&4294967295)<<7&4294967295|U>>>25))+((U=G+(k^z&(L^k))+I[5]+1200080426&4294967295)<<12&4294967295|U>>>20))+((U=k+(L^G&(z^L))+I[6]+2821735955&4294967295)<<17&4294967295|U>>>15))+((U=L+(z^k&(G^z))+I[7]+4249261313&4294967295)<<22&4294967295|U>>>10))+((U=z+(G^L&(k^G))+I[8]+1770035416&4294967295)<<7&4294967295|U>>>25))+((U=G+(k^z&(L^k))+I[9]+2336552879&4294967295)<<12&4294967295|U>>>20))+((U=k+(L^G&(z^L))+I[10]+4294925233&4294967295)<<17&4294967295|U>>>15))+((U=L+(z^k&(G^z))+I[11]+2304563134&4294967295)<<22&4294967295|U>>>10))+((U=z+(G^L&(k^G))+I[12]+1804603682&4294967295)<<7&4294967295|U>>>25))+((U=G+(k^z&(L^k))+I[13]+4254626195&4294967295)<<12&4294967295|U>>>20))+((U=k+(L^G&(z^L))+I[14]+2792965006&4294967295)<<17&4294967295|U>>>15))+((U=L+(z^k&(G^z))+I[15]+1236535329&4294967295)<<22&4294967295|U>>>10))+((U=z+(k^G&(L^k))+I[1]+4129170786&4294967295)<<5&4294967295|U>>>27))+((U=G+(L^k&(z^L))+I[6]+3225465664&4294967295)<<9&4294967295|U>>>23))+((U=k+(z^L&(G^z))+I[11]+643717713&4294967295)<<14&4294967295|U>>>18))+((U=L+(G^z&(k^G))+I[0]+3921069994&4294967295)<<20&4294967295|U>>>12))+((U=z+(k^G&(L^k))+I[5]+3593408605&4294967295)<<5&4294967295|U>>>27))+((U=G+(L^k&(z^L))+I[10]+38016083&4294967295)<<9&4294967295|U>>>23))+((U=k+(z^L&(G^z))+I[15]+3634488961&4294967295)<<14&4294967295|U>>>18))+((U=L+(G^z&(k^G))+I[4]+3889429448&4294967295)<<20&4294967295|U>>>12))+((U=z+(k^G&(L^k))+I[9]+568446438&4294967295)<<5&4294967295|U>>>27))+((U=G+(L^k&(z^L))+I[14]+3275163606&4294967295)<<9&4294967295|U>>>23))+((U=k+(z^L&(G^z))+I[3]+4107603335&4294967295)<<14&4294967295|U>>>18))+((U=L+(G^z&(k^G))+I[8]+1163531501&4294967295)<<20&4294967295|U>>>12))+((U=z+(k^G&(L^k))+I[13]+2850285829&4294967295)<<5&4294967295|U>>>27))+((U=G+(L^k&(z^L))+I[2]+4243563512&4294967295)<<9&4294967295|U>>>23))+((U=k+(z^L&(G^z))+I[7]+1735328473&4294967295)<<14&4294967295|U>>>18))+((U=L+(G^z&(k^G))+I[12]+2368359562&4294967295)<<20&4294967295|U>>>12))+((U=z+(L^k^G)+I[5]+4294588738&4294967295)<<4&4294967295|U>>>28))+((U=G+(z^L^k)+I[8]+2272392833&4294967295)<<11&4294967295|U>>>21))+((U=k+(G^z^L)+I[11]+1839030562&4294967295)<<16&4294967295|U>>>16))+((U=L+(k^G^z)+I[14]+4259657740&4294967295)<<23&4294967295|U>>>9))+((U=z+(L^k^G)+I[1]+2763975236&4294967295)<<4&4294967295|U>>>28))+((U=G+(z^L^k)+I[4]+1272893353&4294967295)<<11&4294967295|U>>>21))+((U=k+(G^z^L)+I[7]+4139469664&4294967295)<<16&4294967295|U>>>16))+((U=L+(k^G^z)+I[10]+3200236656&4294967295)<<23&4294967295|U>>>9))+((U=z+(L^k^G)+I[13]+681279174&4294967295)<<4&4294967295|U>>>28))+((U=G+(z^L^k)+I[0]+3936430074&4294967295)<<11&4294967295|U>>>21))+((U=k+(G^z^L)+I[3]+3572445317&4294967295)<<16&4294967295|U>>>16))+((U=L+(k^G^z)+I[6]+76029189&4294967295)<<23&4294967295|U>>>9))+((U=z+(L^k^G)+I[9]+3654602809&4294967295)<<4&4294967295|U>>>28))+((U=G+(z^L^k)+I[12]+3873151461&4294967295)<<11&4294967295|U>>>21))+((U=k+(G^z^L)+I[15]+530742520&4294967295)<<16&4294967295|U>>>16))+((U=L+(k^G^z)+I[2]+3299628645&4294967295)<<23&4294967295|U>>>9))+((U=z+(k^(L|~G))+I[0]+4096336452&4294967295)<<6&4294967295|U>>>26))+((U=G+(L^(z|~k))+I[7]+1126891415&4294967295)<<10&4294967295|U>>>22))+((U=k+(z^(G|~L))+I[14]+2878612391&4294967295)<<15&4294967295|U>>>17))+((U=L+(G^(k|~z))+I[5]+4237533241&4294967295)<<21&4294967295|U>>>11))+((U=z+(k^(L|~G))+I[12]+1700485571&4294967295)<<6&4294967295|U>>>26))+((U=G+(L^(z|~k))+I[3]+2399980690&4294967295)<<10&4294967295|U>>>22))+((U=k+(z^(G|~L))+I[10]+4293915773&4294967295)<<15&4294967295|U>>>17))+((U=L+(G^(k|~z))+I[1]+2240044497&4294967295)<<21&4294967295|U>>>11))+((U=z+(k^(L|~G))+I[8]+1873313359&4294967295)<<6&4294967295|U>>>26))+((U=G+(L^(z|~k))+I[15]+4264355552&4294967295)<<10&4294967295|U>>>22))+((U=k+(z^(G|~L))+I[6]+2734768916&4294967295)<<15&4294967295|U>>>17))+((U=L+(G^(k|~z))+I[13]+1309151649&4294967295)<<21&4294967295|U>>>11))+((G=(z=L+((U=z+(k^(L|~G))+I[4]+4149444226&4294967295)<<6&4294967295|U>>>26))+((U=G+(L^(z|~k))+I[11]+3174756917&4294967295)<<10&4294967295|U>>>22))^((k=G+((U=k+(z^(G|~L))+I[2]+718787259&4294967295)<<15&4294967295|U>>>17))|~z))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+z&4294967295,N.g[1]=N.g[1]+(k+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+G&4294967295}function o(N,z){this.h=z;for(var L=[],I=!0,k=N.length-1;0<=k;k--){var G=0|N[k];I&&G==z||(L[k]=G,I=!1)}this.g=L}(function e(N,z){function L(){}L.prototype=z.prototype,N.D=z.prototype,N.prototype=new L,N.prototype.constructor=N,N.C=function(I,k,G){for(var U=Array(arguments.length-2),me=2;me<arguments.length;me++)U[me-2]=arguments[me];return z.prototype[k].apply(I,U)}})(i,function t(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(N,z){void 0===z&&(z=N.length);for(var L=z-this.blockSize,I=this.B,k=this.h,G=0;G<z;){if(0==k)for(;G<=L;)s(this,N,G),G+=this.blockSize;if("string"==typeof N){for(;G<z;)if(I[k++]=N.charCodeAt(G++),k==this.blockSize){s(this,I),k=0;break}}else for(;G<z;)if(I[k++]=N[G++],k==this.blockSize){s(this,I),k=0;break}}this.h=k,this.o+=z},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var z=1;z<N.length-8;++z)N[z]=0;var L=8*this.o;for(z=N.length-8;z<N.length;++z)N[z]=255&L,L/=256;for(this.u(N),N=Array(16),z=L=0;4>z;++z)for(var I=0;32>I;I+=8)N[L++]=this.g[z]>>>I&255;return N};var a={};function c(N){return-128<=N&&128>N?function r(N,z){var L=a;return Object.prototype.hasOwnProperty.call(L,N)?L[N]:L[N]=z(N)}(N,function(z){return new o([0|z],0>z?-1:0)}):new o([0|N],0>N?-1:0)}function l(N){if(isNaN(N)||!isFinite(N))return d;if(0>N)return v(l(-N));for(var z=[],L=1,I=0;N>=L;I++)z[I]=N/L|0,L*=4294967296;return new o(z,0)}var d=c(0),h=c(1),m=c(16777216);function _(N){if(0!=N.h)return!1;for(var z=0;z<N.g.length;z++)if(0!=N.g[z])return!1;return!0}function b(N){return-1==N.h}function v(N){for(var z=N.g.length,L=[],I=0;I<z;I++)L[I]=~N.g[I];return new o(L,~N.h).add(h)}function M(N,z){return N.add(v(z))}function E(N,z){for(;(65535&N[z])!=N[z];)N[z+1]+=N[z]>>>16,N[z]&=65535,z++}function T(N,z){this.g=N,this.h=z}function S(N,z){if(_(z))throw Error("division by zero");if(_(N))return new T(d,d);if(b(N))return z=S(v(N),z),new T(v(z.g),v(z.h));if(b(z))return z=S(N,v(z)),new T(v(z.g),z.h);if(30<N.g.length){if(b(N)||b(z))throw Error("slowDivide_ only works with positive integers.");for(var L=h,I=z;0>=I.l(N);)L=O(L),I=O(I);var k=F(L,1),G=F(I,1);for(I=F(I,2),L=F(L,2);!_(I);){var U=G.add(I);0>=U.l(N)&&(k=k.add(L),G=U),I=F(I,1),L=F(L,1)}return z=M(N,k.j(z)),new T(k,z)}for(k=d;0<=N.l(z);){for(L=Math.max(1,Math.floor(N.m()/z.m())),I=48>=(I=Math.ceil(Math.log(L)/Math.LN2))?1:Math.pow(2,I-48),U=(G=l(L)).j(z);b(U)||0<U.l(N);)U=(G=l(L-=I)).j(z);_(G)&&(G=h),k=k.add(G),N=M(N,U)}return new T(k,N)}function O(N){for(var z=N.g.length+1,L=[],I=0;I<z;I++)L[I]=N.i(I)<<1|N.i(I-1)>>>31;return new o(L,N.h)}function F(N,z){var L=z>>5;z%=32;for(var I=N.g.length-L,k=[],G=0;G<I;G++)k[G]=0<z?N.i(G+L)>>>z|N.i(G+L+1)<<32-z:N.i(G+L);return new o(k,N.h)}(n=o.prototype).m=function(){if(b(this))return-v(this).m();for(var N=0,z=1,L=0;L<this.g.length;L++){var I=this.i(L);N+=(0<=I?I:4294967296+I)*z,z*=4294967296}return N},n.toString=function(N){if(2>(N=N||10)||36<N)throw Error("radix out of range: "+N);if(_(this))return"0";if(b(this))return"-"+v(this).toString(N);for(var z=l(Math.pow(N,6)),L=this,I="";;){var k=S(L,z).g,G=((0<(L=M(L,k.j(z))).g.length?L.g[0]:L.h)>>>0).toString(N);if(_(L=k))return G+I;for(;6>G.length;)G="0"+G;I=G+I}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h},n.l=function(N){return b(N=M(this,N))?-1:_(N)?0:1},n.abs=function(){return b(this)?v(this):this},n.add=function(N){for(var z=Math.max(this.g.length,N.g.length),L=[],I=0,k=0;k<=z;k++){var G=I+(65535&this.i(k))+(65535&N.i(k)),U=(G>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);I=U>>>16,L[k]=(U&=65535)<<16|(G&=65535)}return new o(L,-2147483648&L[L.length-1]?-1:0)},n.j=function(N){if(_(this)||_(N))return d;if(b(this))return b(N)?v(this).j(v(N)):v(v(this).j(N));if(b(N))return v(this.j(v(N)));if(0>this.l(m)&&0>N.l(m))return l(this.m()*N.m());for(var z=this.g.length+N.g.length,L=[],I=0;I<2*z;I++)L[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<N.g.length;k++){var G=this.i(I)>>>16,U=65535&this.i(I),me=N.i(k)>>>16,ze=65535&N.i(k);L[2*I+2*k]+=U*ze,E(L,2*I+2*k),L[2*I+2*k+1]+=G*ze,E(L,2*I+2*k+1),L[2*I+2*k+1]+=U*me,E(L,2*I+2*k+1),L[2*I+2*k+2]+=G*me,E(L,2*I+2*k+2)}for(I=0;I<z;I++)L[I]=L[2*I+1]<<16|L[2*I];for(I=z;I<2*z;I++)L[I]=0;return new o(L,0)},n.A=function(N){return S(this,N).h},n.and=function(N){for(var z=Math.max(this.g.length,N.g.length),L=[],I=0;I<z;I++)L[I]=this.i(I)&N.i(I);return new o(L,this.h&N.h)},n.or=function(N){for(var z=Math.max(this.g.length,N.g.length),L=[],I=0;I<z;I++)L[I]=this.i(I)|N.i(I);return new o(L,this.h|N.h)},n.xor=function(N){for(var z=Math.max(this.g.length,N.g.length),L=[],I=0;I<z;I++)L[I]=this.i(I)^N.i(I);return new o(L,this.h^N.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,jse=Hse.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=function u(N,z){if(0==N.length)throw Error("number format error: empty string");if(2>(z=z||10)||36<z)throw Error("radix out of range: "+z);if("-"==N.charAt(0))return v(u(N.substring(1),z));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=l(Math.pow(z,8)),I=d,k=0;k<N.length;k+=8){var G=Math.min(8,N.length-k),U=parseInt(N.substring(k,k+G),z);8>G?(G=l(Math.pow(z,G)),I=I.j(G).add(l(U))):I=(I=I.j(L)).add(l(U))}return I},y8=Hse.Integer=o}).apply(typeof Bse<"u"?Bse:typeof self<"u"?self:typeof window<"u"?window:{});var Gse,$se,Ip,Wse,gC,cP,qse,Kse,Xse,mC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x0={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(g,A,D){return g==Array.prototype||g==Object.prototype||(g[A]=D.value),g},i=function t(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof mC&&mC];for(var A=0;A<g.length;++A){var D=g[A];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}(this);!function s(g,A){if(A)e:{var D=i;g=g.split(".");for(var j=0;j<g.length-1;j++){var ue=g[j];if(!(ue in D))break e;D=D[ue]}(A=A(j=D[g=g[g.length-1]]))!=j&&null!=A&&e(D,g,{configurable:!0,writable:!0,value:A})}}("Array.prototype.values",function(g){return g||function(){return function r(g,A){g instanceof String&&(g+="");var D=0,j=!1,ue={next:function(){if(!j&&D<g.length){var Se=D++;return{value:A(Se,g[Se]),done:!1}}return j=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}(this,function(A,D){return D})}});var o=o||{},a=this||self;function c(g){var A=typeof g;return"array"==(A="object"!=A?A:g?Array.isArray(g)?"array":A:"null")||"object"==A&&"number"==typeof g.length}function l(g){var A=typeof g;return"object"==A&&null!=g||"function"==A}function u(g,A,D){return g.call.apply(g.bind,arguments)}function d(g,A,D){if(!g)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,j),g.apply(A,ue)}}return function(){return g.apply(A,arguments)}}function h(g,A,D){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:d).apply(null,arguments)}function m(g,A){var D=Array.prototype.slice.call(arguments,1);return function(){var j=D.slice();return j.push.apply(j,arguments),g.apply(this,j)}}function _(g,A){function D(){}D.prototype=A.prototype,g.aa=A.prototype,g.prototype=new D,g.prototype.constructor=g,g.Qb=function(j,ue,Se){for(var Pt=Array(arguments.length-2),Vi=2;Vi<arguments.length;Vi++)Pt[Vi-2]=arguments[Vi];return A.prototype[ue].apply(j,Pt)}}function b(g){const A=g.length;if(0<A){const D=Array(A);for(let j=0;j<A;j++)D[j]=g[j];return D}return[]}function v(g,A){for(let D=1;D<arguments.length;D++){const j=arguments[D];if(c(j)){const ue=g.length||0,Se=j.length||0;g.length=ue+Se;for(let Pt=0;Pt<Se;Pt++)g[ue+Pt]=j[Pt]}else g.push(j)}}function E(g){return/^[\s\xa0]*$/.test(g)}function T(){var g=a.navigator;return g&&(g=g.userAgent)?g:""}function S(g){return S[" "](g),g}S[" "]=function(){};var O=!(-1==T().indexOf("Gecko")||-1!=T().toLowerCase().indexOf("webkit")&&-1==T().indexOf("Edge")||-1!=T().indexOf("Trident")||-1!=T().indexOf("MSIE")||-1!=T().indexOf("Edge"));function F(g,A,D){for(const j in g)A.call(D,g[j],j,g)}function z(g){const A={};for(const D in g)A[D]=g[D];return A}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(g,A){let D,j;for(let ue=1;ue<arguments.length;ue++){for(D in j=arguments[ue],j)g[D]=j[D];for(let Se=0;Se<L.length;Se++)D=L[Se],Object.prototype.hasOwnProperty.call(j,D)&&(g[D]=j[D])}}function k(g){var A=1;g=g.split(":");const D=[];for(;0<A&&g.length;)D.push(g.shift()),A--;return g.length&&D.push(g.join(":")),D}function G(g){a.setTimeout(()=>{throw g},0)}function U(){var g=vt;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}var ze=new class M{constructor(A,D){this.i=A,this.j=D,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}(()=>new _e,g=>g.reset());class _e{constructor(){this.next=this.g=this.h=null}set(A,D){this.h=A,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,we=!1,vt=new class me{constructor(){this.h=this.g=null}add(A,D){const j=ze.get();j.set(A,D),this.h?this.h.next=j:this.g=j,this.h=j}},Nt=()=>{const g=a.Promise.resolve(void 0);Xe=()=>{g.then(Xt)}};var Xt=()=>{for(var g;g=U();){try{g.h.call(g.g)}catch(D){G(D)}var A=ze;A.j(g),100>A.h&&(A.h++,g.next=A.g,A.g=g)}we=!1};function Ln(){this.s=this.s,this.C=this.C}function _n(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}Ln.prototype.s=!1,Ln.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ln.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},_n.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const D=()=>{};a.addEventListener("test",D,A),a.removeEventListener("test",D,A)}catch{}return g}();function at(g,A){if(_n.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var D=this.type=g.type,j=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget){if(O){e:{try{S(A.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(A=null)}}else"mouseover"==D?A=g.fromElement:"mouseout"==D&&(A=g.toElement);this.relatedTarget=A,j?(this.clientX=void 0!==j.clientX?j.clientX:j.pageX,this.clientY=void 0!==j.clientY?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:Jt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&at.aa.h.call(this)}}_(at,_n);var Jt={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function Yn(g,A,D,j,ue){this.listener=g,this.proxy=null,this.src=A,this.type=D,this.capture=!!j,this.ha=ue,this.key=++Yt,this.da=this.fa=!1}function sn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function D1(g){this.src=g,this.g={},this.h=0}function z1(g,A){var D=A.type;if(D in g.g){var Se,j=g.g[D],ue=Array.prototype.indexOf.call(j,A,void 0);(Se=0<=ue)&&Array.prototype.splice.call(j,ue,1),Se&&(sn(A),0==g.g[D].length&&(delete g.g[D],g.h--))}}function e1(g,A,D,j){for(var ue=0;ue<g.length;++ue){var Se=g[ue];if(!Se.da&&Se.listener==A&&Se.capture==!!D&&Se.ha==j)return ue}return-1}D1.prototype.add=function(g,A,D,j,ue){var Se=g.toString();(g=this.g[Se])||(g=this.g[Se]=[],this.h++);var Pt=e1(g,A,j,ue);return-1<Pt?(A=g[Pt],D||(A.fa=!1)):((A=new Yn(A,this.src,Se,!!j,ue)).fa=D,g.push(A)),A};var q="closure_lm_"+(1e6*Math.random()|0),wt={};function ft(g,A,D,j,ue){if(j&&j.once)return tn(g,A,D,j,ue);if(Array.isArray(A)){for(var Se=0;Se<A.length;Se++)ft(g,A[Se],D,j,ue);return null}return D=Pe(D),g&&g[Et]?g.K(A,D,l(j)?!!j.capture:!!j,ue):Tt(g,A,D,!1,j,ue)}function Tt(g,A,D,j,ue,Se){if(!A)throw Error("Invalid event type");var Pt=l(ue)?!!ue.capture:!!ue,Vi=B(g);if(Vi||(g[q]=Vi=new D1(g)),(D=Vi.add(A,D,j,Pt,Se)).proxy)return D;if(j=function qe(){const A=X;return function g(D){return A.call(g.src,g.listener,D)}}(),D.proxy=j,j.src=g,j.listener=D,g.addEventListener)De||(ue=Pt),void 0===ue&&(ue=!1),g.addEventListener(A.toString(),j,ue);else if(g.attachEvent)g.attachEvent(Qn(A.toString()),j);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(j)}return D}function tn(g,A,D,j,ue){if(Array.isArray(A)){for(var Se=0;Se<A.length;Se++)tn(g,A[Se],D,j,ue);return null}return D=Pe(D),g&&g[Et]?g.L(A,D,l(j)?!!j.capture:!!j,ue):Tt(g,A,D,!0,j,ue)}function ht(g,A,D,j,ue){if(Array.isArray(A))for(var Se=0;Se<A.length;Se++)ht(g,A[Se],D,j,ue);else j=l(j)?!!j.capture:!!j,D=Pe(D),g&&g[Et]?(g=g.i,(A=String(A).toString())in g.g&&-1<(D=e1(Se=g.g[A],D,j,ue))&&(sn(Se[D]),Array.prototype.splice.call(Se,D,1),0==Se.length&&(delete g.g[A],g.h--))):g&&(g=B(g))&&(A=g.g[A.toString()],g=-1,A&&(g=e1(A,D,j,ue)),(D=-1<g?A[g]:null)&&qt(D))}function qt(g){if("number"!=typeof g&&g&&!g.da){var A=g.src;if(A&&A[Et])z1(A.i,g);else{var D=g.type,j=g.proxy;A.removeEventListener?A.removeEventListener(D,j,g.capture):A.detachEvent?A.detachEvent(Qn(D),j):A.addListener&&A.removeListener&&A.removeListener(j),(D=B(A))?(z1(D,g),0==D.h&&(D.src=null,A[q]=null)):sn(g)}}}function Qn(g){return g in wt?wt[g]:wt[g]="on"+g}function X(g,A){if(g.da)g=!0;else{A=new at(A,this);var D=g.listener,j=g.ha||g.src;g.fa&&qt(g),g=D.call(j,A)}return g}function B(g){return(g=g[q])instanceof D1?g:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(g){return"function"==typeof g?g:(g[fe]||(g[fe]=function(A){return g.handleEvent(A)}),g[fe])}function je(){Ln.call(this),this.i=new D1(this),this.M=this,this.F=null}function xe(g,A){var D,j=g.F;if(j)for(D=[];j;j=j.F)D.push(j);if(g=g.M,j=A.type||A,"string"==typeof A)A=new _n(A,g);else if(A instanceof _n)A.target=A.target||g;else{var ue=A;I(A=new _n(j,g),ue)}if(ue=!0,D)for(var Se=D.length-1;0<=Se;Se--){var Pt=A.g=D[Se];ue=yn(Pt,j,!0,A)&&ue}if(ue=yn(Pt=A.g=g,j,!0,A)&&ue,ue=yn(Pt,j,!1,A)&&ue,D)for(Se=0;Se<D.length;Se++)ue=yn(Pt=A.g=D[Se],j,!1,A)&&ue}function yn(g,A,D,j){if(!(A=g.i.g[String(A)]))return!0;A=A.concat();for(var ue=!0,Se=0;Se<A.length;++Se){var Pt=A[Se];if(Pt&&!Pt.da&&Pt.capture==D){var Vi=Pt.listener,J2=Pt.ha||Pt.src;Pt.fa&&z1(g.i,Pt),ue=!1!==Vi.call(J2,j)&&ue}}return ue&&!j.defaultPrevented}function Ot(g,A,D){if("function"==typeof g)D&&(g=h(g,D));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=h(g.handleEvent,g)}return 2147483647<Number(A)?-1:a.setTimeout(g,A||0)}function vn(g){g.g=Ot(()=>{g.g=null,g.i&&(g.i=!1,vn(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}_(je,Ln),je.prototype[Et]=!0,je.prototype.removeEventListener=function(g,A,D,j){ht(this,g,A,D,j)},je.prototype.N=function(){if(je.aa.N.call(this),this.i){var A,g=this.i;for(A in g.g){for(var D=g.g[A],j=0;j<D.length;j++)sn(D[j]);delete g.g[A],g.h--}}this.F=null},je.prototype.K=function(g,A,D,j){return this.i.add(String(g),A,!1,D,j)},je.prototype.L=function(g,A,D,j){return this.i.add(String(g),A,!0,D,j)};class En extends Ln{constructor(A,D){super(),this.m=A,this.l=D,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:vn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(g){Ln.call(this),this.h=g,this.g={}}_(ot,Ln);var an=[];function qn(g){F(g.g,function(A,D){this.g.hasOwnProperty(D)&&qt(A)},g),g.g={}}ot.prototype.N=function(){ot.aa.N.call(this),qn(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=a.JSON.stringify,Vt=a.JSON.parse,o1=class{stringify(g){return a.JSON.stringify(g,void 0)}parse(g){return a.JSON.parse(g,void 0)}};function te(){}function mt(){}te.prototype.h=null;var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yt(){_n.call(this,"d")}function Qe(){_n.call(this,"c")}_(yt,_n),_(Qe,_n);var on={},a1=null;function vi(){return a1=a1||new je}function ci(g){_n.call(this,on.La,g)}function Y2(g){const A=vi();xe(A,new ci(A))}function Oa(g,A){_n.call(this,on.STAT_EVENT,g),this.stat=A}function R2(g){const A=vi();xe(A,new Oa(A,g))}function Am(g,A){_n.call(this,on.Ma,g),this.size=A}function ia(g,A){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){g()},A)}function D0(){this.g=!0}function gc(g,A,D,j){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+function W7(g,A){if(!g.g)return A;if(!A)return null;try{var D=JSON.parse(A);if(D)for(g=0;g<D.length;g++)if(Array.isArray(D[g])){var j=D[g];if(!(2>j.length)){var ue=j[1];if(Array.isArray(ue)&&!(1>ue.length)){var Se=ue[0];if("noop"!=Se&&"stop"!=Se&&"close"!=Se)for(var Pt=1;Pt<ue.length;Pt++)ue[Pt]=""}}}return Fn(D)}catch{return A}}(g,D)+(j?" "+j:"")})}on.La="serverreachability",_(ci,_n),on.STAT_EVENT="statevent",_(Oa,_n),on.Ma="timingevent",_(Am,_n),D0.prototype.xa=function(){this.g=!1},D0.prototype.info=function(){};var Im,K8={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function q7(){}function _3(g,A,D,j){this.j=g,this.i=A,this.l=D,this.R=j||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pb}function Pb(){this.i=null,this.g="",this.h=!1}_(q7,te),q7.prototype.g=function(){return new XMLHttpRequest},q7.prototype.i=function(){return{}},Im=new q7;var Nb={},zm={};function $(g,A,D){g.L=1,g.v=yl(ti(A)),g.m=D,g.P=!0,re(g,null)}function re(g,A){g.F=Date.now(),ae(g),g.A=ti(g.v);var D=g.A,j=g.R;Array.isArray(j)||(j=[String(j)]),i3e(D.i,"t",j),g.C=0,D=g.j.J,g.h=new Pb,g.g=C3e(g.j,D?A:null,!g.m),0<g.O&&(g.M=new En(h(g.Y,g,g.g),g.O)),A=g.U,D=g.g,j=g.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(an[0]=ue.toString()),ue=an);for(var Se=0;Se<ue.length;Se++){var Pt=ft(D,ue[Se],j||A.handleEvent,!1,A.h||A);if(!Pt)break;A.g[Pt.key]=Pt}A=g.H?z(g.H):{},g.m?(g.u||(g.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,A)):(g.u="GET",g.g.ea(g.A,g.u,null,A)),Y2(),function Lb(g,A,D,j,ue,Se){g.info(function(){if(g.g)if(Se)for(var Pt="",Vi=Se.split("&"),J2=0;J2<Vi.length;J2++){var ui=Vi[J2].split("=");if(1<ui.length){var br=ui[0];ui=ui[1];var xr=br.split("_");Pt=2<=xr.length&&"type"==xr[1]?Pt+(br+"=")+ui+"&":Pt+(br+"=redacted&")}}else Pt=null;else Pt=Se;return"XMLHTTP REQ ("+j+") [attempt "+ue+"]: "+A+"\n"+D+"\n"+Pt})}(g.i,g.u,g.A,g.l,g.R,g.m)}function Me(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function Ce(g,A){var D=g.C,j=A.indexOf("\n",D);return-1==j?zm:(D=Number(A.substring(D,j)),isNaN(D)?Nb:(j+=1)+D>A.length?zm:(A=A.slice(j,j+D),g.C=j+D,A))}function ae(g){g.S=Date.now()+g.I,Mt(g,g.I)}function Mt(g,A){if(null!=g.B)throw Error("WatchDog timer not null");g.B=ia(h(g.ba,g),A)}function kt(g){g.B&&(a.clearTimeout(g.B),g.B=null)}function cn(g){0==g.j.G||g.J||_3e(g.j,g)}function en(g){kt(g);var A=g.M;A&&"function"==typeof A.ma&&A.ma(),g.M=null,qn(g.U),g.g&&(A=g.g,g.g=null,A.abort(),A.ma())}function $n(g,A){try{var D=g.j;if(0!=D.G&&(D.g==g||ss(D.h,g)))if(!g.K&&ss(D.h,g)&&3==D.G){try{var j=D.Da.g.parse(A)}catch{j=null}if(Array.isArray(j)&&3==j.length){var ue=j;if(0==ue[0]){e:if(!D.u){if(D.g){if(!(D.g.F+3e3<g.F))break e;Fb(D),Ob(D)}uR(D),R2(18)}}else D.za=ue[1],0<D.za-D.T&&37500>ue[2]&&D.F&&0==D.v&&!D.C&&(D.C=ia(h(D.Za,D),6e3));if(1>=ni(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else X8(D,11)}else if((g.K||D.g==g)&&Fb(D),!E(A))for(ue=D.Da.g.parse(A),A=0;A<ue.length;A++){let ui=ue[A];if(D.T=ui[0],ui=ui[1],2==D.G)if("c"==ui[0]){D.K=ui[1],D.ia=ui[2];const br=ui[3];null!=br&&(D.la=br,D.j.info("VER="+D.la));const xr=ui[4];null!=xr&&(D.Aa=xr,D.j.info("SVER="+D.Aa));const Y7=ui[5];null!=Y7&&"number"==typeof Y7&&0<Y7&&(D.L=j=1.5*Y7,D.j.info("backChannelRequestTimeoutMs_="+j)),j=D;const _c=g.g;if(_c){const Ub=_c.g?_c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ub){var Se=j.h;Se.g||-1==Ub.indexOf("spdy")&&-1==Ub.indexOf("quic")&&-1==Ub.indexOf("h2")||(Se.j=Se.l,Se.g=new Set,Se.h&&(li(Se,Se.h),Se.h=null))}if(j.D){const fR=_c.g?_c.g.getResponseHeader("X-HTTP-Session-Id"):null;fR&&(j.ya=fR,A1(j.I,j.D,fR))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-g.F,D.j.info("Handshake RTT: "+D.R+"ms"));var Pt=g;if((j=D).qa=M3e(j,j.J?j.ia:null,j.W),Pt.K){Mi(j.h,Pt);var Vi=Pt,J2=j.L;J2&&(Vi.I=J2),Vi.B&&(kt(Vi),ae(Vi)),j.g=Pt}else m3e(j);0<D.i.length&&kb(D)}else"stop"!=ui[0]&&"close"!=ui[0]||X8(D,7);else 3==D.G&&("stop"==ui[0]||"close"==ui[0]?"stop"==ui[0]?X8(D,7):lR(D):"noop"!=ui[0]&&D.l&&D.l.ta(ui),D.v=0)}Y2()}catch{}}_3.prototype.ca=function(g){g=g.target;const A=this.M;A&&3==O0(g)?A.j():this.Y(g)},_3.prototype.Y=function(g){try{if(g==this.g)e:{const xr=O0(this.g);var A=this.g.Ba();if(this.g.Z(),!(3>xr)&&(3!=xr||this.g&&(this.h.h||this.g.oa()||u3e(this.g)))){this.J||4!=xr||7==A||Y2(),kt(this);var D=this.g.Z();this.X=D;t:if(Me(this)){var j=u3e(this.g);g="";var ue=j.length,Se=4==O0(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){en(this),cn(this);var Pt="";break t}this.h.i=new a.TextDecoder}for(A=0;A<ue;A++)this.h.h=!0,g+=this.h.i.decode(j[A],{stream:!(Se&&A==ue-1)});j.length=0,this.h.g+=g,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=200==D,function Ib(g,A,D,j,ue,Se,Pt){g.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+ue+"]: "+A+"\n"+D+"\n"+Se+" "+Pt})}(this.i,this.u,this.A,this.l,this.R,xr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Vi,J2=this.g;if((Vi=J2.g?J2.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Vi)){var ui=Vi;break t}}ui=null}if(!(D=ui)){this.o=!1,this.s=3,R2(12),en(this),cn(this);break e}gc(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$n(this,D)}if(this.P){let _c;for(D=!0;!this.J&&this.C<Pt.length;){if(_c=Ce(this,Pt),_c==zm){4==xr&&(this.s=4,R2(14),D=!1),gc(this.i,this.l,null,"[Incomplete Response]");break}if(_c==Nb){this.s=4,R2(15),gc(this.i,this.l,Pt,"[Invalid Chunk]"),D=!1;break}gc(this.i,this.l,_c,null),$n(this,_c)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=xr||0!=Pt.length||this.h.h||(this.s=1,R2(16),D=!1),this.o=this.o&&D,D){if(0<Pt.length&&!this.W){this.W=!0;var br=this.j;br.g==this&&br.ba&&!br.M&&(br.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),dR(br),br.M=!0,R2(11))}}else gc(this.i,this.l,Pt,"[Invalid Chunked Response]"),en(this),cn(this)}else gc(this.i,this.l,Pt,null),$n(this,Pt);4==xr&&en(this),this.o&&!this.J&&(4==xr?_3e(this.j,this):(this.o=!1,ae(this)))}else(function dht(g){const A={};g=(g.g&&2<=O0(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let j=0;j<g.length;j++){if(E(g[j]))continue;var D=k(g[j]);const ue=D[0];if("string"!=typeof(D=D[1]))continue;D=D.trim();const Se=A[ue]||[];A[ue]=Se,Se.push(D)}!function N(g,A){for(const D in g)A.call(void 0,g[D],D,g)}(A,function(j){return j.join(", ")})})(this.g),400==D&&0<Pt.indexOf("Unknown SID")?(this.s=3,R2(12)):(this.s=0,R2(13)),en(this),cn(this)}}}catch{}},_3.prototype.cancel=function(){this.J=!0,en(this)},_3.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function zb(g,A){g.info(function(){return"TIMEOUT: "+A})}(this.i,this.A),2!=this.L&&(Y2(),R2(17)),en(this),this.s=2,cn(this)):Mt(this,this.S-g)};var r1=class{constructor(g,A){this.g=g,this.map=A}};function Dn(g){this.l=g||10,g=a.PerformanceNavigationTiming?0<(g=a.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function R1(g){return!!g.h||!!g.g&&g.g.size>=g.j}function ni(g){return g.h?1:g.g?g.g.size:0}function ss(g,A){return g.h?g.h==A:!!g.g&&g.g.has(A)}function li(g,A){g.g?g.g.add(A):g.h=A}function Mi(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}function Vn(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let A=g.i;for(const D of g.g.values())A=A.concat(D.D);return A}return b(g.i)}function Cr(g,A){if(g.forEach&&"function"==typeof g.forEach)g.forEach(A,void 0);else if(c(g)||"string"==typeof g)Array.prototype.forEach.call(g,A,void 0);else for(var D=function ei(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||"string"==typeof g){var A=[];g=g.length;for(var D=0;D<g;D++)A.push(D);return A}A=[],D=0;for(const j in g)A[D++]=j;return A}}}(g),j=function rs(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(c(g)){for(var A=[],D=g.length,j=0;j<D;j++)A.push(g[j]);return A}for(j in A=[],D=0,g)A[D++]=g[j];return A}(g),ue=j.length,Se=0;Se<ue;Se++)A.call(void 0,j[Se],D&&D[Se],g)}Dn.prototype.cancel=function(){if(this.i=Vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var R0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof sa){this.h=g.h,Z2(this,g.j),this.o=g.o,this.g=g.g,Q2(this,g.s),this.l=g.l;var A=g.i,D=new Nm;D.i=A.i,A.g&&(D.g=new Map(A.g),D.h=A.h),O2(this,D),this.m=g.m}else g&&(A=String(g).match(R0))?(this.h=!1,Z2(this,A[1]||"",!0),this.o=ra(A[2]||""),this.g=ra(A[3]||"",!0),Q2(this,A[4]),this.l=ra(A[5]||"",!0),O2(this,A[6]||"",!0),this.m=ra(A[7]||"")):(this.h=!1,this.i=new Nm(null,this.h))}function ti(g){return new sa(g)}function Z2(g,A,D){g.j=D?ra(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function Q2(g,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);g.s=A}else g.s=null}function O2(g,A,D){A instanceof Nm?(g.i=A,function sht(g,A){A&&!g.j&&(vl(g),g.i=null,g.g.forEach(function(D,j){var ue=j.toLowerCase();j!=ue&&(t3e(this,j),i3e(this,ue,D))},g)),g.j=A}(g.i,g.h)):(D||(A=Pm(A,nht)),g.i=new Nm(A,g.h))}function A1(g,A,D){g.i.set(A,D)}function yl(g){return A1(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ra(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Pm(g,A,D){return"string"==typeof g?(g=encodeURI(g).replace(A,Jft),D&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Jft(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}sa.prototype.toString=function(){var g=[],A=this.j;A&&g.push(Pm(A,e3e,!0),":");var D=this.g;return(D||"file"==A)&&(g.push("//"),(A=this.o)&&g.push(Pm(A,e3e,!0),"@"),g.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(D=this.s)&&g.push(":",String(D))),(D=this.l)&&(this.g&&"/"!=D.charAt(0)&&g.push("/"),g.push(Pm(D,"/"==D.charAt(0)?tht:eht,!0))),(D=this.i.toString())&&g.push("?",D),(D=this.m)&&g.push("#",Pm(D,iht)),g.join("")};var e3e=/[#\/\?@]/g,eht=/[#\?:]/g,tht=/[#\?]/g,nht=/[#\?@]/g,iht=/#/g;function Nm(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function vl(g){g.g||(g.g=new Map,g.h=0,g.i&&function Zr(g,A){if(g){g=g.split("&");for(var D=0;D<g.length;D++){var j=g[D].indexOf("="),ue=null;if(0<=j){var Se=g[D].substring(0,j);ue=g[D].substring(j+1)}else Se=g[D];A(Se,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}(g.i,function(A,D){g.add(decodeURIComponent(A.replace(/\+/g," ")),D)}))}function t3e(g,A){vl(g),A=K7(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function n3e(g,A){return vl(g),A=K7(g,A),g.g.has(A)}function i3e(g,A,D){t3e(g,A),0<D.length&&(g.i=null,g.g.set(K7(g,A),b(D)),g.h+=D.length)}function K7(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function Ml(g,A,D,j,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),j(D)}catch{}}function aht(){this.g=new o1}function cht(g,A,D){const j=D||"";try{Cr(g,function(ue,Se){let Pt=ue;l(ue)&&(Pt=Fn(ue)),A.push(j+Se+"="+encodeURIComponent(Pt))})}catch(ue){throw A.push(j+"type="+encodeURIComponent("_badmap")),ue}}function Dm(g){this.l=g.Ub||null,this.j=g.eb||!1}function Db(g,A){je.call(this),this.D=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function s3e(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function Rm(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Om(g)}function Om(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function r3e(g){let A="";return F(g,function(D,j){A+=j,A+=":",A+=D,A+="\r\n"}),A}function cR(g,A,D){e:{for(j in D){var j=!1;break e}j=!0}j||(D=r3e(D),"string"==typeof g?null!=D&&encodeURIComponent(String(D)):A1(g,A,D))}function As(g){je.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Nm.prototype).add=function(g,A){vl(this),this.i=null,g=K7(this,g);var D=this.g.get(g);return D||this.g.set(g,D=[]),D.push(A),this.h+=1,this},n.forEach=function(g,A){vl(this),this.g.forEach(function(D,j){D.forEach(function(ue){g.call(A,ue,j,this)},this)},this)},n.na=function(){vl(this);const g=Array.from(this.g.values()),A=Array.from(this.g.keys()),D=[];for(let j=0;j<A.length;j++){const ue=g[j];for(let Se=0;Se<ue.length;Se++)D.push(A[j])}return D},n.V=function(g){vl(this);let A=[];if("string"==typeof g)n3e(this,g)&&(A=A.concat(this.g.get(K7(this,g))));else{g=Array.from(this.g.values());for(let D=0;D<g.length;D++)A=A.concat(g[D])}return A},n.set=function(g,A){return vl(this),this.i=null,n3e(this,g=K7(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},n.get=function(g,A){return g&&0<(g=this.V(g)).length?String(g[0]):A},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(var D=0;D<A.length;D++){var j=A[D];const Se=encodeURIComponent(String(j)),Pt=this.V(j);for(j=0;j<Pt.length;j++){var ue=Se;""!==Pt[j]&&(ue+="="+encodeURIComponent(String(Pt[j]))),g.push(ue)}}return this.i=g.join("&")},_(Dm,te),Dm.prototype.g=function(){return new Db(this.l,this.j)},Dm.prototype.i=function(g){return function(){return g}}({}),_(Db,je),(n=Db.prototype).open=function(g,A){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=A,this.readyState=1,Om(this)},n.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(A.body=g),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rm(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Om(this)),this.g&&(this.readyState=3,Om(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;s3e(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?Rm(this):Om(this),3==this.readyState&&s3e(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Rm(this))},n.Qa=function(g){this.g&&(this.response=g,Rm(this))},n.ga=function(){this.g&&Rm(this)},n.setRequestHeader=function(g,A){this.u.append(g,A)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var D=A.next();!D.done;)g.push((D=D.value)[0]+": "+D[1]),D=A.next();return g.join("\r\n")},Object.defineProperty(Db.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),_(As,je);var lht=/^https?$/i,uht=["POST","PUT"];function o3e(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.m=5,a3e(g),Rb(g)}function a3e(g){g.A||(g.A=!0,xe(g,"complete"),xe(g,"error"))}function c3e(g){if(g.h&&typeof o<"u"&&(!g.v[1]||4!=O0(g)||2!=g.Z()))if(g.u&&4==O0(g))Ot(g.Ea,0,g);else if(xe(g,"readystatechange"),4==O0(g)){g.h=!1;try{const Pt=g.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var D;if(!(D=A)){var j;if(j=0===Pt){var ue=String(g.D).match(R0)[1]||null;!ue&&a.self&&a.self.location&&(ue=a.self.location.protocol.slice(0,-1)),j=!lht.test(ue?ue.toLowerCase():"")}D=j}if(D)xe(g,"complete"),xe(g,"success");else{g.m=6;try{var Se=2<O0(g)?g.g.statusText:""}catch{Se=""}g.l=Se+" ["+g.Z()+"]",a3e(g)}}finally{Rb(g)}}}function Rb(g,A){if(g.g){l3e(g);const D=g.g,j=g.v[0]?()=>{}:null;g.g=null,g.v=null,A||xe(g,"ready");try{D.onreadystatechange=j}catch{}}}function l3e(g){g.I&&(a.clearTimeout(g.I),g.I=null)}function O0(g){return g.g?g.g.readyState:0}function u3e(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function km(g,A,D){return D&&D.internalChannelParams&&D.internalChannelParams[g]||A}function d3e(g){this.Aa=0,this.i=[],this.j=new D0,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=km("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=km("baseRetryDelayMs",5e3,g),this.cb=km("retryDelaySeedMs",1e4,g),this.Wa=km("forwardChannelMaxRetries",2,g),this.wa=km("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Dn(g&&g.concurrentRequestLimit),this.Da=new aht,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function lR(g){if(f3e(g),3==g.G){var A=g.U++,D=ti(g.I);if(A1(D,"SID",g.K),A1(D,"RID",A),A1(D,"TYPE","terminate"),Fm(g,D),(A=new _3(g,g.j,A)).L=2,A.v=yl(ti(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!D&&a.Image&&((new Image).src=A.v,D=!0),D||(A.g=C3e(A.j,null),A.g.ea(A.v)),A.F=Date.now(),ae(A)}v3e(g)}function Ob(g){g.g&&(dR(g),g.g.cancel(),g.g=null)}function f3e(g){Ob(g),g.u&&(a.clearTimeout(g.u),g.u=null),Fb(g),g.h.cancel(),g.s&&("number"==typeof g.s&&a.clearTimeout(g.s),g.s=null)}function kb(g){if(!R1(g.h)&&!g.s){g.s=!0;var A=g.Ga;Xe||Nt(),we||(Xe(),we=!0),vt.add(A,g),g.B=0}}function h3e(g,A){var D;D=A?A.l:g.U++;const j=ti(g.I);A1(j,"SID",g.K),A1(j,"RID",D),A1(j,"AID",g.T),Fm(g,j),g.m&&g.o&&cR(j,g.m,g.o),D=new _3(g,g.j,D,g.B+1),null===g.m&&(D.H=g.o),A&&(g.i=A.D.concat(g.i)),A=p3e(g,D,1e3),D.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),li(g.h,D),$(D,j,A)}function Fm(g,A){g.H&&F(g.H,function(D,j){A1(A,j,D)}),g.l&&Cr({},function(D,j){A1(A,j,D)})}function p3e(g,A,D){D=Math.min(g.i.length,D);var j=g.l?h(g.l.Na,g.l,g):null;e:{var ue=g.i;let Se=-1;for(;;){const Pt=["count="+D];-1==Se?0<D?(Se=ue[0].g,Pt.push("ofs="+Se)):Se=0:Pt.push("ofs="+Se);let Vi=!0;for(let J2=0;J2<D;J2++){let ui=ue[J2].g;const br=ue[J2].map;if(ui-=Se,0>ui)Se=Math.max(0,ue[J2].g-100),Vi=!1;else try{cht(br,Pt,"req"+ui+"_")}catch{j&&j(br)}}if(Vi){j=Pt.join("&");break e}}}return g=g.i.splice(0,D),A.D=g,j}function m3e(g){if(!g.g&&!g.u){g.Y=1;var A=g.Fa;Xe||Nt(),we||(Xe(),we=!0),vt.add(A,g),g.v=0}}function uR(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=ia(h(g.Fa,g),y3e(g,g.v)),g.v++,0))}function dR(g){null!=g.A&&(a.clearTimeout(g.A),g.A=null)}function g3e(g){g.g=new _3(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var A=ti(g.qa);A1(A,"RID","rpc"),A1(A,"SID",g.K),A1(A,"AID",g.T),A1(A,"CI",g.F?"0":"1"),!g.F&&g.ja&&A1(A,"TO",g.ja),A1(A,"TYPE","xmlhttp"),Fm(g,A),g.m&&g.o&&cR(A,g.m,g.o),g.L&&(g.g.I=g.L);var D=g.g;g=g.ia,D.L=1,D.v=yl(ti(A)),D.m=null,D.P=!0,re(D,g)}function Fb(g){null!=g.C&&(a.clearTimeout(g.C),g.C=null)}function _3e(g,A){var D=null;if(g.g==A){Fb(g),dR(g),g.g=null;var j=2}else{if(!ss(g.h,A))return;D=A.D,Mi(g.h,A),j=1}if(0!=g.G)if(A.o)if(1==j){D=A.m?A.m.length:0,A=Date.now()-A.F;var ue=g.B;xe(j=vi(),new Am(j,D)),kb(g)}else m3e(g);else if(3==(ue=A.s)||0==ue&&0<A.X||!(1==j&&function fht(g,A){return!(ni(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=A.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=ia(h(g.Ga,g,A),y3e(g,g.B)),g.B++,0)))}(g,A)||2==j&&uR(g)))switch(D&&0<D.length&&(A=g.h,A.i=A.i.concat(D)),ue){case 1:X8(g,5);break;case 4:X8(g,10);break;case 3:X8(g,6);break;default:X8(g,2)}}function y3e(g,A){let D=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(D*=2),D*A}function X8(g,A){if(g.j.info("Error code "+A),2==A){var D=h(g.fb,g),j=g.Xa;const ue=!j;j=new sa(j||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Z2(j,"https"),yl(j),ue?function rht(g,A){const D=new D0;if(a.Image){const j=new Image;j.onload=m(Ml,D,"TestLoadImage: loaded",!0,A,j),j.onerror=m(Ml,D,"TestLoadImage: error",!1,A,j),j.onabort=m(Ml,D,"TestLoadImage: abort",!1,A,j),j.ontimeout=m(Ml,D,"TestLoadImage: timeout",!1,A,j),a.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=g}else A(!1)}(j.toString(),D):function oht(g,A){new D0;const j=new AbortController,ue=setTimeout(()=>{j.abort(),Ml(0,0,!1,A)},1e4);fetch(g,{signal:j.signal}).then(Se=>{clearTimeout(ue),Ml(0,0,!!Se.ok,A)}).catch(()=>{clearTimeout(ue),Ml(0,0,!1,A)})}(j.toString(),D)}else R2(2);g.G=0,g.l&&g.l.sa(A),v3e(g),f3e(g)}function v3e(g){if(g.G=0,g.ka=[],g.l){const A=Vn(g.h);(0!=A.length||0!=g.i.length)&&(v(g.ka,A),v(g.ka,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.ra()}}function M3e(g,A,D){var j=D instanceof sa?ti(D):new sa(D);if(""!=j.g)A&&(j.g=A+"."+j.g),Q2(j,j.s);else{var ue=a.location;j=ue.protocol,A=A?A+"."+ue.hostname:ue.hostname,ue=+ue.port;var Se=new sa(null);j&&Z2(Se,j),A&&(Se.g=A),ue&&Q2(Se,ue),D&&(Se.l=D),j=Se}return A=g.ya,(D=g.D)&&A&&A1(j,D,A),A1(j,"VER",g.la),Fm(g,j),j}function C3e(g,A,D){if(A&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(A=new As(g.Ca&&!g.pa?new Dm({eb:D}):g.pa)).Ha(g.J),A}function b3e(){}function Vb(){}function oa(g,A){je.call(this),this.g=new d3e(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(g?g["X-WebChannel-Client-Profile"]=A.va:g={"X-WebChannel-Client-Profile":A.va}),this.g.S=g,(g=A&&A.Sb)&&!E(g)&&(this.g.m=g),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!E(A)&&(this.g.D=A,null!==(g=this.h)&&A in g&&A in(g=this.h)&&delete g[A]),this.j=new X7(this)}function x3e(g){yt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const D in A){g=D;break e}g=void 0}(this.i=g)&&(g=this.i,A=null!==A&&g in A?A[g]:void 0),this.data=A}else this.data=g}function E3e(){Qe.call(this),this.status=1}function X7(g){this.g=g}(n=As.prototype).Ha=function(g){this.J=g},n.ea=function(g,A,D,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Im.g(),this.v=function $t(g){return g.h||(g.h=g.i())}(this.o?this.o:Im),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(Se){return void o3e(this,Se)}if(g=D||"",D=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var ue in j)D.set(ue,j[ue]);else{if("function"!=typeof j.keys||"function"!=typeof j.get)throw Error("Unknown input type for opt_headers: "+String(j));for(const Se of j.keys())D.set(Se,j.get(Se))}j=Array.from(D.keys()).find(Se=>"content-type"==Se.toLowerCase()),ue=a.FormData&&g instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uht,A,void 0))||j||ue||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,Pt]of D)this.g.setRequestHeader(Se,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l3e(this),this.u=!0,this.g.send(g),this.u=!1}catch(Se){o3e(this,Se)}},n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,xe(this,"complete"),xe(this,"abort"),Rb(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rb(this,!0)),As.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?c3e(this):this.bb())},n.bb=function(){c3e(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<O0(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var A=this.g.responseText;return g&&0==A.indexOf(g)&&(A=A.substring(g.length)),Vt(A)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=d3e.prototype).la=8,n.G=1,n.connect=function(g,A,D,j){R2(0),this.W=g,this.H=A||{},D&&void 0!==j&&(this.H.OSID=D,this.H.OAID=j),this.F=this.X,this.I=M3e(this,null,this.W),kb(this)},n.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ue=new _3(this,this.j,g);let Se=this.o;if(this.S&&(Se?(Se=z(Se),I(Se,this.S)):Se=this.S),null!==this.m||this.O||(ue.H=Se,Se=null),this.P)e:{for(var A=0,D=0;D<this.i.length;D++){var j=this.i[D];if(void 0===(j="__data__"in j.map&&"string"==typeof(j=j.map.__data__)?j.length:void 0))break;if(4096<(A+=j)){A=D;break e}if(4096===A||D===this.i.length-1){A=D+1;break e}}A=1e3}else A=1e3;A=p3e(this,ue,A),A1(D=ti(this.I),"RID",g),A1(D,"CVER",22),this.D&&A1(D,"X-HTTP-Session-Id",this.D),Fm(this,D),Se&&(this.O?A="headers="+encodeURIComponent(String(r3e(Se)))+"&"+A:this.m&&cR(D,this.m,Se)),li(this.h,ue),this.Ua&&A1(D,"TYPE","init"),this.P?(A1(D,"$req",A),A1(D,"SID","null"),ue.T=!0,$(ue,D,null)):$(ue,D,A),this.G=2}}else 3==this.G&&(g?h3e(this,g):0==this.i.length||R1(this.h)||h3e(this))},n.Fa=function(){if(this.u=null,g3e(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ia(h(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,R2(10),Ob(this),g3e(this))},n.Za=function(){null!=this.C&&(this.C=null,Ob(this),uR(this),R2(19))},n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),R2(2)):(this.j.info("Failed to ping google.com"),R2(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=b3e.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},Vb.prototype.g=function(g,A){return new oa(g,A)},_(oa,je),oa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oa.prototype.close=function(){lR(this.g)},oa.prototype.o=function(g){var A=this.g;if("string"==typeof g){var D={};D.__data__=g,g=D}else this.u&&((D={}).__data__=Fn(g),g=D);A.i.push(new r1(A.Ya++,g)),3==A.G&&kb(A)},oa.prototype.N=function(){this.g.l=null,delete this.j,lR(this.g),delete this.g,oa.aa.N.call(this)},_(x3e,yt),_(E3e,Qe),_(X7,b3e),X7.prototype.ua=function(){xe(this.g,"a")},X7.prototype.ta=function(g){xe(this.g,new x3e(g))},X7.prototype.sa=function(g){xe(this.g,new E3e)},X7.prototype.ra=function(){xe(this.g,"b")},Vb.prototype.createWebChannel=Vb.prototype.g,oa.prototype.send=oa.prototype.o,oa.prototype.open=oa.prototype.m,oa.prototype.close=oa.prototype.close,Xse=x0.createWebChannelTransport=function(){return new Vb},Kse=x0.getStatEventTarget=function(){return vi()},qse=x0.Event=on,cP=x0.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K8.NO_ERROR=0,K8.TIMEOUT=8,K8.HTTP_ERROR=6,gC=x0.ErrorCode=K8,Lm.COMPLETE="complete",Wse=x0.EventType=Lm,mt.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",je.prototype.listen=je.prototype.K,Ip=x0.WebChannel=mt,$se=x0.FetchXmlHttpFactory=Dm,As.prototype.listenOnce=As.prototype.L,As.prototype.getLastError=As.prototype.Ka,As.prototype.getLastErrorCode=As.prototype.Ba,As.prototype.getStatus=As.prototype.Z,As.prototype.getResponseJson=As.prototype.Oa,As.prototype.getResponseText=As.prototype.oa,As.prototype.send=As.prototype.ea,As.prototype.setWithCredentials=As.prototype.Ha,Gse=x0.XhrIo=As}).apply(typeof mC<"u"?mC:typeof self<"u"?self:typeof window<"u"?window:{});const Yse="@firebase/firestore";class z2{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}z2.UNAUTHENTICATED=new z2(null),z2.GOOGLE_CREDENTIALS=new z2("google-credentials-uid"),z2.FIRST_PARTY=new z2("first-party-uid"),z2.MOCK_USER=new z2("mock-user");let i7="10.13.1";const Y4=new l3.Vy("@firebase/firestore");function s7(){return Y4.logLevel}function lt(n,...e){if(Y4.logLevel<=l3.$b.DEBUG){const t=e.map(lP);Y4.debug(`Firestore (${i7}): ${n}`,...t)}}function Hs(n,...e){if(Y4.logLevel<=l3.$b.ERROR){const t=e.map(lP);Y4.error(`Firestore (${i7}): ${n}`,...t)}}function yo(n,...e){if(Y4.logLevel<=l3.$b.WARN){const t=e.map(lP);Y4.warn(`Firestore (${i7}): ${n}`,...t)}}function lP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nn(n="Unexpected state"){const e=`FIRESTORE (${i7}) INTERNAL ASSERTION FAILED: `+n;throw Hs(e),new Error(e)}function bn(n,e){n||nn()}function zt(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends pi.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class m2{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Zse{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p6t{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(z2.UNAUTHENTICATED))}shutdown(){}}class m6t{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class g6t{constructor(e){this.t=e,this.currentUser=z2.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let s=this.i;const r=l=>this.i!==s?(s=this.i,t(l)):Promise.resolve();let o=new m2;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new m2,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,Ne.A)(function*(){yield l.promise,yield r(i.currentUser)}))},c=l=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new m2)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bn("string"==typeof i.accessToken),new Zse(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(null===e||"string"==typeof e),new z2(e)}}class _6t{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=z2.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class y6t{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new _6t(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(z2.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qse{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v6t{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=r=>{null!=r.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,lt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bn("string"==typeof t.token),this.R=t.token,new Qse(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function M6t(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Jse{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const s=M6t(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[r]%62))}return i}}function s1(n,e){return n<e?-1:n>e?1:0}function r7(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}function e2e(n){return n+"\0"}class us{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new et(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return us.fromMillis(Date.now())}static fromDate(e){return us.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new us(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?s1(this.nanoseconds,e.nanoseconds):s1(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class An{constructor(e){this.timestamp=e}static fromTimestamp(e){return new An(e)}static min(){return new An(new us(0,0))}static max(){return new An(new us(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zp{constructor(e,t,i){void 0===t?t=0:t>e.length&&nn(),void 0===i?i=e.length-t:i>e.length-t&&nn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===zp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const r=e.get(s),o=t.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class H1 extends zp{construct(e,t,i){return new H1(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new et(ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new H1(t)}static emptyPath(){return new H1([])}}const C6t=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends zp{construct(e,t,i){return new ts(e,t,i)}static isValidIdentifier(e){return C6t.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ts(["__name__"])}static fromServerFormat(e){const t=[];let i="",s=0;const r=()=>{if(0===i.length)throw new et(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if("\\"===a){if(s+1===e.length)throw new et(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new et(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,s+=2}else"`"===a?(o=!o,s++):"."!==a||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new et(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(t)}static emptyPath(){return new ts([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(H1.fromString(e))}static fromName(e){return new Rt(H1.fromString(e).popFirst(5))}static empty(){return new Rt(H1.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===H1.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return H1.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new H1(e.slice()))}}class o7{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}}function uP(n){return n.fields.find(e=>2===e.kind)}function v8(n){return n.fields.filter(e=>2!==e.kind)}o7.UNKNOWN_ID=-1;class M8{constructor(e,t){this.fieldPath=e,this.kind=t}}class a7{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new a7(0,ta.min())}}function t2e(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=An.fromTimestamp(1e9===i?new us(t+1,0):new us(t,i));return new ta(s,Rt.empty(),e)}function n2e(n){return new ta(n.readTime,n.key,-1)}class ta{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ta(An.min(),Rt.empty(),-1)}static max(){return new ta(An.max(),Rt.empty(),-1)}}function dP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rt.comparator(n.documentKey,e.documentKey),0!==t?t:s1(n.largestBatchId,e.largestBatchId))}const i2e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s2e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Z4(n){return fP.apply(this,arguments)}function fP(){return(fP=(0,Ne.A)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==i2e)throw n;lt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&t()},c=>i(c))}),o=!0,r===s&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(s=>s?de.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,r)=>{i.push(t.call(this,s,r))}),this.waitFor(i)}static mapArray(e,t){return new de((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let c=0;c<r;c++){const l=c;t(e[l]).next(u=>{o[l]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(e,t){return new de((i,s)=>{const r=()=>{!0===e()?t().next(()=>{r()},s):i()};r()})}}class _C{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new m2,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Pp(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const s=hP(i.target.error);this.V.reject(new Pp(e,s))}}static open(e,t,i,s){try{return new _C(t,e.transaction(s,i))}catch(r){throw new Pp(t,r)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new w6t(t)}}class u3{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===u3.S((0,pi.ZQ)())&&Hs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lt("SimpleDb","Removing database:",e),C8(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,pi.zW)())return!1;if(u3.v())return!0;const e=(0,pi.ZQ)(),t=u3.S(e),i=0<t&&t<10,s=r2e(e),r=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||r)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){var t=this;return(0,Ne.A)(function*(){return t.db||(lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,s)=>{const r=indexedDB.open(t.name,t.version);r.onsuccess=o=>{i(o.target.result)},r.onblocked=()=>{s(new Pp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{const a=o.target.error;s("VersionError"===a.name?new et(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new et(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Pp(e,a))},r.onupgradeneeded=o=>{lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.O(o.target.result,r.transaction,o.oldVersion,t.version).next(()=>{lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=i=>t.N(i)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,s){var r=this;return(0,Ne.A)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{r.db=yield r.M(e);const c=_C.open(r.db,e,o?"readonly":"readwrite",i),l=s(c).next(u=>(c.g(),u)).catch(u=>(c.abort(u),de.reject(u))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(lt("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),r.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function r2e(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class E6t{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return C8(this.B.delete())}}class Pp extends et{constructor(e,t){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Q4(n){return"IndexedDbTransactionError"===n.name}class w6t{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(lt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),C8(i)}add(e){return lt("SimpleDb","ADD",this.store.name,e,e),C8(this.store.add(e))}get(e){return C8(this.store.get(e)).next(t=>(void 0===t&&(t=null),lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return lt("SimpleDb","DELETE",this.store.name,e),C8(this.store.delete(e))}count(){return lt("SimpleDb","COUNT",this.store.name),C8(this.store.count())}U(e,t){const i=this.options(e,t),s=i.index?this.store.index(i.index):this.store;if("function"==typeof s.getAll){const r=s.getAll(i.range);return new de((o,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{o(c.target.result)}})}{const r=this.cursor(i),o=[];return this.W(r,(a,c)=>{o.push(c)}).next(()=>o)}}G(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new de((s,r)=>{i.onerror=o=>{r(o.target.error)},i.onsuccess=o=>{s(o.target.result)}})}j(e,t){lt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const s=this.cursor(i);return this.W(s,(r,o,a)=>a.delete())}J(e,t){let i;t?i=e:(i={},t=e);const s=this.cursor(i);return this.W(s,t)}Y(e){const t=this.cursor({});return new de((i,s)=>{t.onerror=r=>{const o=hP(r.target.error);s(o)},t.onsuccess=r=>{const o=r.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(e,t){const i=[];return new de((s,r)=>{e.onerror=o=>{r(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const c=new E6t(a),l=t(a.primaryKey,a.value,c);if(l instanceof de){const u=l.catch(d=>(c.done(),de.reject(d)));i.push(u)}c.isDone?s():null===c.K?a.continue():a.continue(c.K)}}).next(()=>de.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function C8(n){return new de((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const s=hP(i.target.error);t(s)}})}let o2e=!1;function hP(n){const e=u3.S((0,pi.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return o2e||(o2e=!0,setTimeout(()=>{throw i},0)),i}}return n}class T6t{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;lt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ne.A)(function*(){t.task=null;try{lt("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(i){Q4(i)?lt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Z4(i)}yield t.X(6e4)}))}}class S6t{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,Ne.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.te(i,e))})()}te(e,t){const i=new Set;let s=t,r=!0;return de.doWhile(()=>!0===r&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!i.has(o))return lt("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,s).next(a=>{s-=a,i.add(o)});r=!1})).next(()=>t-s)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,i).next(r=>{const o=r.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(s,r)).next(a=>(lt("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let i=e;return t.changes.forEach((s,r)=>{const o=n2e(r);dP(o,i)>0&&(i=o)}),new ta(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let na=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ie(s),this.se=s=>i.writeSequenceNumber(s))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Np(n){return null==n}function Dp(n){return 0===n&&1/n==-1/0}function a2e(n){return"number"==typeof n&&Number.isInteger(n)&&!Dp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function _r(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=c2e(e)),e=A6t(n.get(t),e);return c2e(e)}function A6t(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=r}}return t}function c2e(n){return n+"\x01\x01"}function d3(n){const e=n.length;if(bn(e>=2),2===e)return bn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),H1.emptyPath();const t=e-2,i=[];let s="";for(let r=0;r<e;){const o=n.indexOf("\x01",r);switch((o<0||o>t)&&nn(),n.charAt(o+1)){case"\x01":const a=n.substring(r,o);let c;0===s.length?c=a:(s+=a,c=s,s=""),i.push(c);break;case"\x10":s+=n.substring(r,o),s+="\0";break;case"\x11":s+=n.substring(r,o+1);break;default:nn()}r=o+2}return new H1(i)}const l2e=["userId","batchId"];function yC(n,e){return[n,_r(e)]}function u2e(n,e,t){return[n,_r(e),t]}const L6t={},I6t=["prefixPath","collectionGroup","readTime","documentId"],z6t=["prefixPath","collectionGroup","documentId"],P6t=["collectionGroup","readTime","prefixPath","documentId"],N6t=["canonicalId","targetId"],D6t=["targetId","path"],R6t=["path","targetId"],O6t=["collectionId","parent"],k6t=["indexId","uid"],F6t=["uid","sequenceNumber"],V6t=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],U6t=["indexId","uid","orderedDocumentKey"],B6t=["userId","collectionPath","documentId"],H6t=["userId","collectionPath","largestBatchId"],j6t=["userId","collectionGroup","largestBatchId"],d2e=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],G6t=[...d2e,"documentOverlays"],f2e=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],h2e=f2e,pP=[...h2e,"indexConfiguration","indexState","indexEntries"],$6t=pP,W6t=[...pP,"globals"];class mP extends s2e{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function g2(n,e){const t=zt(n);return u3.F(t._e,e)}function p2e(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function J4(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g2e(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yi{constructor(e,t){this.comparator=e,this.root=t||W2.EMPTY}insert(e,t){return new Yi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,W2.BLACK,null,null))}remove(e){return new Yi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,W2.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(0===s)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vC(this.root,e,this.comparator,!1)}getReverseIterator(){return new vC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vC(this.root,e,this.comparator,!0)}}class vC{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?i(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class W2{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??W2.RED,this.left=s??W2.EMPTY,this.right=r??W2.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,r){return new W2(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,i),null):0===r?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return W2.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return W2.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,W2.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,W2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}W2.EMPTY=null,W2.RED=!0,W2.BLACK=!1,W2.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(e,t,i,s,r){return this}insert(e,t,i){return new W2(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Si{constructor(e){this.comparator=e,this.data=new Yi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _2e(this.data.getIterator())}getIteratorFrom(e){return new _2e(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(0!==this.comparator(s,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Si(this.comparator);return t.data=e,t}}class _2e{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function c7(n){return n.hasNext()?n.getNext():void 0}class vo{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new vo([])}unionWith(e){let t=new Si(ts.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new vo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return r7(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class y2e extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ss{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new y2e("Invalid base64 string: "+r):r}}(e);return new Ss(t)}static fromUint8Array(e){const t=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(e);return new Ss(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return s1(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ss.EMPTY_BYTE_STRING=new Ss("");const K6t=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function E0(n){if(bn(!!n),"string"==typeof n){let e=0;const t=K6t.exec(n);if(bn(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ds(n.seconds),nanos:ds(n.nanos)}}function ds(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function w0(n){return"string"==typeof n?Ss.fromBase64String(n):Ss.fromUint8Array(n)}function MC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function CC(n){const e=n.mapValue.fields.__previous_value__;return MC(e)?CC(e):e}function Rp(n){const e=E0(n.mapValue.fields.__local_write_time__.timestampValue);return new us(e.seconds,e.nanos)}class X6t{constructor(e,t,i,s,r,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class el{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new el("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}const tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bC={nullValue:"NULL_VALUE"};function nl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?MC(n)?4:x2e(n)?9007199254740991:wC(n)?10:11:nn()}function f3(n,e){if(n===e)return!0;const t=nl(n);if(t!==nl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rp(n).isEqual(Rp(e));case 3:return function(s,r){if("string"==typeof s.timestampValue&&"string"==typeof r.timestampValue&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=E0(s.timestampValue),a=E0(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,w0(n.bytesValue).isEqual(w0(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,r){return ds(s.geoPointValue.latitude)===ds(r.geoPointValue.latitude)&&ds(s.geoPointValue.longitude)===ds(r.geoPointValue.longitude)}(n,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return ds(s.integerValue)===ds(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=ds(s.doubleValue),a=ds(r.doubleValue);return o===a?Dp(o)===Dp(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return r7(n.arrayValue.values||[],e.arrayValue.values||[],f3);case 10:case 11:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(p2e(o)!==p2e(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!f3(o[c],a[c])))return!1;return!0}(n,e);default:return nn()}var r}function Op(n,e){return void 0!==(n.values||[]).find(t=>f3(t,e))}function il(n,e){if(n===e)return 0;const t=nl(n),i=nl(e);if(t!==i)return s1(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return s1(n.booleanValue,e.booleanValue);case 2:return function(r,o){const a=ds(r.integerValue||r.doubleValue),c=ds(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return v2e(n.timestampValue,e.timestampValue);case 4:return v2e(Rp(n),Rp(e));case 5:return s1(n.stringValue,e.stringValue);case 6:return function(r,o){const a=w0(r),c=w0(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=s1(a[l],c[l]);if(0!==u)return u}return s1(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const a=s1(ds(r.latitude),ds(o.latitude));return 0!==a?a:s1(ds(r.longitude),ds(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return M2e(n.arrayValue,e.arrayValue);case 10:return function(r,o){var a,c,l,u;const m=null===(a=(r.fields||{}).value)||void 0===a?void 0:a.arrayValue,_=null===(c=(o.fields||{}).value)||void 0===c?void 0:c.arrayValue,b=s1((null===(l=m?.values)||void 0===l?void 0:l.length)||0,(null===(u=_?.values)||void 0===u?void 0:u.length)||0);return 0!==b?b:M2e(m,_)}(n.mapValue,e.mapValue);case 11:return function(r,o){if(r===tl.mapValue&&o===tl.mapValue)return 0;if(r===tl.mapValue)return 1;if(o===tl.mapValue)return-1;const a=r.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const h=s1(c[d],u[d]);if(0!==h)return h;const m=il(a[c[d]],l[u[d]]);if(0!==m)return m}return s1(c.length,u.length)}(n.mapValue,e.mapValue);default:throw nn()}}function v2e(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return s1(n,e);const t=E0(n),i=E0(e),s=s1(t.seconds,i.seconds);return 0!==s?s:s1(t.nanos,i.nanos)}function M2e(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const r=il(t[s],i[s]);if(r)return r}return s1(t.length,i.length)}function l7(n){return gP(n)}function gP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=E0(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?w0(n.bytesValue).toBase64():"referenceValue"in n?Rt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const r of t.values||[])s?s=!1:i+=",",i+=gP(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${gP(t.fields[o])}`;return s+"}"}(n.mapValue):nn()}function b8(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _P(n){return!!n&&"integerValue"in n}function kp(n){return!!n&&"arrayValue"in n}function C2e(n){return!!n&&"nullValue"in n}function b2e(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function EC(n){return!!n&&"mapValue"in n}function wC(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return J4(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Fp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function x2e(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const E2e={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Y6t(n){return"nullValue"in n?bC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?b8(el.empty(),Rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?wC(n)?E2e:{mapValue:{}}:nn()}function Z6t(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?b8(el.empty(),Rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?E2e:"mapValue"in n?wC(n)?{mapValue:{}}:tl:nn()}function w2e(n,e){const t=il(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function T2e(n,e){const t=il(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class q2{constructor(e){this.value=e}static empty(){return new q2({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!EC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fp(t)}setAll(e){let t=ts.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,s),i={},s=[],t=a.popLast()}o?i[a.lastSegment()]=Fp(o):s.push(a.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,i,s)}delete(e){const t=this.field(e.popLast());EC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return f3(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];EC(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){J4(t,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new q2(Fp(this.value))}}function S2e(n){const e=[];return J4(n.fields,(t,i)=>{const s=new ts([t]);if(EC(i)){const r=S2e(i.mapValue).fields;if(0===r.length)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new vo(e)}class ns{constructor(e,t,i,s,r,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ns(e,0,An.min(),An.min(),An.min(),q2.empty(),0)}static newFoundDocument(e,t,i,s){return new ns(e,1,t,An.min(),i,s,0)}static newNoDocument(e,t){return new ns(e,2,t,An.min(),An.min(),q2.empty(),0)}static newUnknownDocument(e,t){return new ns(e,3,t,An.min(),An.min(),q2.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(An.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=q2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=q2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=An.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ns&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ns(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sl{constructor(e,t){this.position=e,this.inclusive=t}}function A2e(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const r=e[s],o=n.position[s];if(i=r.field.isKeyField()?Rt.comparator(Rt.fromName(o.referenceValue),t.key):il(o,t.data.field(r.field)),"desc"===r.dir&&(i*=-1),0!==i)break}return i}function L2e(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!f3(n.position[t],e.position[t]))return!1;return!0}class Vp{constructor(e,t="asc"){this.field=e,this.dir=t}}function Q6t(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class I2e{}class j1 extends I2e{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new J6t(e,t,i):"array-contains"===t?new n8t(e,i):"in"===t?new O2e(e,i):"not-in"===t?new i8t(e,i):"array-contains-any"===t?new s8t(e,i):new j1(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new e8t(e,i):new t8t(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(il(t,this.value)):null!==t&&nl(this.value)===nl(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends I2e{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new xi(e,t)}matches(e){return u7(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function u7(n){return"and"===n.op}function yP(n){return"or"===n.op}function vP(n){return z2e(n)&&u7(n)}function z2e(n){for(const e of n.filters)if(e instanceof xi)return!1;return!0}function MP(n){if(n instanceof j1)return n.field.canonicalString()+n.op.toString()+l7(n.value);if(vP(n))return n.filters.map(e=>MP(e)).join(",");{const e=n.filters.map(t=>MP(t)).join(",");return`${n.op}(${e})`}}function P2e(n,e){return n instanceof j1?(i=n,(s=e)instanceof j1&&i.op===s.op&&i.field.isEqual(s.field)&&f3(i.value,s.value)):n instanceof xi?function(i,s){return s instanceof xi&&i.op===s.op&&i.filters.length===s.filters.length&&i.filters.reduce((r,o,a)=>r&&P2e(o,s.filters[a]),!0)}(n,e):void nn();var i,s}function N2e(n,e){const t=n.filters.concat(e);return xi.create(t,n.op)}function D2e(n){return n instanceof j1?`${(t=n).field.canonicalString()} ${t.op} ${l7(t.value)}`:n instanceof xi?function(t){return t.op.toString()+" {"+t.getFilters().map(D2e).join(" ,")+"}"}(n):"Filter";var t}class J6t extends j1{constructor(e,t,i){super(e,t,i),this.key=Rt.fromName(i.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class e8t extends j1{constructor(e,t){super(e,"in",t),this.keys=R2e(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class t8t extends j1{constructor(e,t){super(e,"not-in",t),this.keys=R2e(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function R2e(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Rt.fromName(i.referenceValue))}class n8t extends j1{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kp(t)&&Op(t.arrayValue,this.value)}}class O2e extends j1{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Op(this.value.arrayValue,t)}}class i8t extends j1{constructor(e,t){super(e,"not-in",t)}matches(e){if(Op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Op(this.value.arrayValue,t)}}class s8t extends j1{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Op(this.value.arrayValue,i))}}class r8t{constructor(e,t=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.ue=null}}function CP(n,e=null,t=[],i=[],s=null,r=null,o=null){return new r8t(n,e,t,i,s,r,o)}function x8(n){const e=zt(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>MP(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Np(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>l7(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>l7(i)).join(",")),e.ue=t}return e.ue}function Up(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Q6t(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!P2e(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!L2e(n.startAt,e.startAt)&&L2e(n.endAt,e.endAt)}function TC(n){return Rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function SC(n,e){return n.filters.filter(t=>t instanceof j1&&t.field.isEqual(e))}function k2e(n,e,t){let i=bC,s=!0;for(const r of SC(n,e)){let o=bC,a=!0;switch(r.op){case"<":case"<=":o=Y6t(r.value);break;case"==":case"in":case">=":o=r.value;break;case">":o=r.value,a=!1;break;case"!=":case"not-in":o=bC}w2e({value:i,inclusive:s},{value:o,inclusive:a})<0&&(i=o,s=a)}if(null!==t)for(let r=0;r<n.orderBy.length;++r)if(n.orderBy[r].field.isEqual(e)){const o=t.position[r];w2e({value:i,inclusive:s},{value:o,inclusive:t.inclusive})<0&&(i=o,s=t.inclusive);break}return{value:i,inclusive:s}}function F2e(n,e,t){let i=tl,s=!0;for(const r of SC(n,e)){let o=tl,a=!0;switch(r.op){case">=":case">":o=Z6t(r.value),a=!1;break;case"==":case"in":case"<=":o=r.value;break;case"<":o=r.value,a=!1;break;case"!=":case"not-in":o=tl}T2e({value:i,inclusive:s},{value:o,inclusive:a})>0&&(i=o,s=a)}if(null!==t)for(let r=0;r<n.orderBy.length;++r)if(n.orderBy[r].field.isEqual(e)){const o=t.position[r];T2e({value:i,inclusive:s},{value:o,inclusive:t.inclusive})>0&&(i=o,s=t.inclusive);break}return{value:i,inclusive:s}}class T0{constructor(e,t=null,i=[],s=[],r=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function V2e(n,e,t,i,s,r,o,a){return new T0(n,e,t,i,s,r,o,a)}function d7(n){return new T0(n)}function U2e(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function bP(n){return null!==n.collectionGroup}function f7(n){const e=zt(n);if(null===e.ce){e.ce=[];const t=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),t.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Si(ts.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new Vp(r,i))}),t.has(ts.keyField().canonicalString())||e.ce.push(new Vp(ts.keyField(),i))}return e.ce}function yr(n){const e=zt(n);return e.le||(e.le=function H2e(n,e){if("F"===n.limitType)return CP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>new Vp(s.field,"desc"===s.dir?"asc":"desc"));const t=n.endAt?new sl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new sl(n.startAt.position,n.startAt.inclusive):null;return CP(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,f7(n))),e.le}function xP(n,e){const t=n.filters.concat([e]);return new T0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function AC(n,e,t){return new T0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bp(n,e){return Up(yr(n),yr(e))&&n.limitType===e.limitType}function j2e(n){return`${x8(yr(n))}|lt:${n.limitType}`}function h7(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>D2e(s)).join(", ")}]`),Np(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>{return`${(o=s).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>l7(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>l7(s)).join(",")),`Target(${i})`}(yr(n))}; limitType=${n.limitType})`}function Hp(n,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return null!==i.collectionGroup?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Rt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,e)&&function(i,s){for(const r of f7(i))if(!r.field.isKeyField()&&null===s.data.field(r.field))return!1;return!0}(n,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(n,e)&&(s=e,!((i=n).startAt&&!function(o,a,c){const l=A2e(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,f7(i),s)||i.endAt&&!function(o,a,c){const l=A2e(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,f7(i),s)));var i,s}function G2e(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $2e(n){return(e,t)=>{let i=!1;for(const s of f7(n)){const r=o8t(s,e,t);if(0!==r)return r;i=i||s.field.isKeyField()}return 0}}function o8t(n,e,t){const i=n.field.isKeyField()?Rt.comparator(e.key,t.key):function(r,o,a){const c=o.data.field(r),l=a.data.field(r);return null!==c&&null!==l?il(c,l):nn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return nn()}}class S0{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[s,r]of i)if(this.equalsFn(s,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(void 0===s)return this.inner[i]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return 1===i.length?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){J4(this.inner,(t,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return g2e(this.inner)}size(){return this.innerSize}}const a8t=new Yi(Rt.comparator);function Mo(){return a8t}const W2e=new Yi(Rt.comparator);function jp(...n){let e=W2e;for(const t of n)e=e.insert(t.key,t);return e}function q2e(n){let e=W2e;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function h3(){return Gp()}function K2e(){return Gp()}function Gp(){return new S0(n=>n.toString(),(n,e)=>n.isEqual(e))}const c8t=new Yi(Rt.comparator),l8t=new Si(Rt.comparator);function x1(...n){let e=l8t;for(const t of n)e=e.add(t);return e}const u8t=new Si(s1);function EP(){return u8t}function wP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dp(e)?"-0":e}}function X2e(n){return{integerValue:""+n}}function Y2e(n,e){return a2e(e)?X2e(e):wP(n,e)}class LC{constructor(){this._=void 0}}function d8t(n,e,t){return n instanceof p7?function(s,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&MC(r)&&(r=CC(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof E8?Q2e(n,e):n instanceof w8?J2e(n,e):function(s,r){const o=Z2e(s,r),a=ere(o)+ere(s.Pe);return _P(o)&&_P(s.Pe)?X2e(a):wP(s.serializer,a)}(n,e)}function f8t(n,e,t){return n instanceof E8?Q2e(n,e):n instanceof w8?J2e(n,e):t}function Z2e(n,e){return n instanceof m7?_P(i=e)||(r=i)&&"doubleValue"in r?e:{integerValue:0}:null;var i,r}class p7 extends LC{}class E8 extends LC{constructor(e){super(),this.elements=e}}function Q2e(n,e){const t=tre(e);for(const i of n.elements)t.some(s=>f3(s,i))||t.push(i);return{arrayValue:{values:t}}}class w8 extends LC{constructor(e){super(),this.elements=e}}function J2e(n,e){let t=tre(e);for(const i of n.elements)t=t.filter(s=>!f3(s,i));return{arrayValue:{values:t}}}class m7 extends LC{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ere(n){return ds(n.integerValue||n.doubleValue)}function tre(n){return kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $p{constructor(e,t){this.field=e,this.transform=t}}class p8t{constructor(e,t){this.version=e,this.transformResults=t}}class fs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function IC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class zC{}function nre(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new _7(n.key,fs.none()):new g7(n.key,n.data,fs.none());{const t=n.data,i=q2.empty();let s=new Si(ts.comparator);for(let r of e.fields)if(!s.has(r)){let o=t.field(r);null===o&&r.length>1&&(r=r.popLast(),o=t.field(r)),null===o?i.delete(r):i.set(r,o),s=s.add(r)}return new A0(n.key,i,new vo(s.toArray()),fs.none())}}function m8t(n,e,t){n instanceof g7?function(s,r,o){const a=s.value.clone(),c=rre(s.fieldTransforms,r,o.transformResults);a.setAll(c),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof A0?function(s,r,o){if(!IC(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=rre(s.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(sre(s)),c.setAll(a),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wp(n,e,t,i){return n instanceof g7?function(r,o,a,c){if(!IC(r.precondition,o))return a;const l=r.value.clone(),u=ore(r.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof A0?function(r,o,a,c){if(!IC(r.precondition,o))return a;const l=ore(r.fieldTransforms,c,o),u=o.data;return u.setAll(sre(r)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(n,e,t,i):(a=t,IC(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function g8t(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),r=Z2e(i.transform,s||null);null!=r&&(null===t&&(t=q2.empty()),t.set(i.field,r))}return t||null}function ire(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===s||i&&s&&r7(i,s,(r,o)=>function h8t(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(i=n.transform)instanceof E8&&s instanceof E8||i instanceof w8&&s instanceof w8?r7(i.elements,s.elements,f3):i instanceof m7&&s instanceof m7?f3(i.Pe,s.Pe):i instanceof p7&&s instanceof p7);var i,s}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,s}class g7 extends zC{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class A0 extends zC{constructor(e,t,i,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function sre(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function rre(n,e,t){const i=new Map;bn(n.length===t.length);for(let s=0;s<t.length;s++){const r=n[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,f8t(o,a,t[s]))}return i}function ore(n,e,t){const i=new Map;for(const s of n){const r=s.transform,o=t.data.field(s.field);i.set(s.field,d8t(r,o,e))}return i}class _7 extends zC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TP extends zC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SP{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&m8t(r,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Wp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Wp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=K2e();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=t.has(s.key)?null:a;const c=nre(o,a);null!==c&&i.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(An.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),x1())}isEqual(e){return this.batchId===e.batchId&&r7(this.mutations,e.mutations,(t,i)=>ire(t,i))&&r7(this.baseMutations,e.baseMutations,(t,i)=>ire(t,i))}}class AP{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){bn(e.mutations.length===i.length);let s=function(){return c8t}();const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new AP(e,t,i,s)}}class LP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _8t{constructor(e,t){this.count=e,this.unchangedNames=t}}var t2,Q1;function cre(n){switch(n){default:return nn();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function lre(n){if(void 0===n)return Hs("GRPC error has no .code"),ve.UNKNOWN;switch(n){case t2.OK:return ve.OK;case t2.CANCELLED:return ve.CANCELLED;case t2.UNKNOWN:return ve.UNKNOWN;case t2.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case t2.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case t2.INTERNAL:return ve.INTERNAL;case t2.UNAVAILABLE:return ve.UNAVAILABLE;case t2.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case t2.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case t2.NOT_FOUND:return ve.NOT_FOUND;case t2.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case t2.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case t2.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case t2.ABORTED:return ve.ABORTED;case t2.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case t2.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case t2.DATA_LOSS:return ve.DATA_LOSS;default:return nn()}}(Q1=t2||(t2={}))[Q1.OK=0]="OK",Q1[Q1.CANCELLED=1]="CANCELLED",Q1[Q1.UNKNOWN=2]="UNKNOWN",Q1[Q1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q1[Q1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q1[Q1.NOT_FOUND=5]="NOT_FOUND",Q1[Q1.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q1[Q1.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q1[Q1.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q1[Q1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q1[Q1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q1[Q1.ABORTED=10]="ABORTED",Q1[Q1.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q1[Q1.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q1[Q1.INTERNAL=13]="INTERNAL",Q1[Q1.UNAVAILABLE=14]="UNAVAILABLE",Q1[Q1.DATA_LOSS=15]="DATA_LOSS";function ure(){return new TextEncoder}const y8t=new y8([4294967295,4294967295],0);function dre(n){const e=ure().encode(n),t=new jse;return t.update(e),new Uint8Array(t.digest())}function fre(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new y8([t,i],0),new y8([s,r],0)]}class IP{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new qp(`Invalid padding: ${t}`);if(i<0)throw new qp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new qp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new qp(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=y8.fromNumber(this.Ie)}Ee(e,t,i){let s=e.add(t.multiply(y8.fromNumber(i)));return 1===s.compare(y8t)&&(s=new y8([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=dre(e),[i,s]=fre(t);for(let r=0;r<this.hashCount;r++){const o=this.Ee(i,s,r);if(!this.de(o))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new IP(r,s,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=dre(e),[i,s]=fre(t);for(let r=0;r<this.hashCount;r++){const o=this.Ee(i,s,r);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class qp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kp{constructor(e,t,i,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Xp.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Kp(An.min(),s,new Yi(s1),Mo(),x1())}}class Xp{constructor(e,t,i,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Xp(i,t,x1(),x1(),x1())}}class NC{constructor(e,t,i,s){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=s}}class hre{constructor(e,t){this.targetId=e,this.me=t}}class pre{constructor(e,t,i=Ss.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class mre{constructor(){this.fe=0,this.ge=_re(),this.pe=Ss.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=x1(),t=x1(),i=x1();return this.ge.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:nn()}}),new Xp(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=_re()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,bn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class v8t{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mo(),this.qe=gre(),this.Qe=new Yi(s1)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,i=e.me.count,s=this.Je(t);if(s){const r=s.target;if(TC(r))if(0===i){const o=new Rt(r.path);this.Ue(t,o,ns.newNoDocument(o,An.min()))}else bn(1===i);else{const o=this.Ye(t);if(o!==i){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;0!==c&&(this.je(t),this.Qe=this.Qe.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=t;let o,a;try{o=w0(i).toUint8Array()}catch(c){if(c instanceof y2e)return yo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new IP(o,s,r)}catch(c){return yo(c instanceof qp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,r,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((r,o)=>{const a=this.Je(o);if(a){if(r.current&&TC(a.target)){const c=new Rt(a.target.path);null!==this.ke.get(c)||this.it(o,c)||this.Ue(o,c,ns.newNoDocument(c,e))}r.be&&(t.set(o,r.ve()),r.Ce())}});let i=x1();this.qe.forEach((r,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Je(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(r))}),this.ke.forEach((r,o)=>o.setReadTime(e));const s=new Kp(e,t,this.Qe,this.ke,i);return this.ke=Mo(),this.qe=gre(),this.Qe=new Yi(s1),s}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new mre,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Si(s1),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||lt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mre),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function gre(){return new Yi(Rt.comparator)}function _re(){return new Yi(Rt.comparator)}const M8t={asc:"ASCENDING",desc:"DESCENDING"},C8t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b8t={and:"AND",or:"OR"};class x8t{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zP(n,e){return n.useProto3Json||Np(e)?e:{value:e}}function y7(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yre(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function E8t(n,e){return y7(n,e.toTimestamp())}function js(n){return bn(!!n),An.fromTimestamp(function(t){const i=E0(t);return new us(i.seconds,i.nanos)}(n))}function PP(n,e){return NP(n,e).canonicalString()}function NP(n,e){const t=(s=n,new H1(["projects",s.projectId,"databases",s.database])).child("documents");var s;return void 0===e?t:t.child(e)}function vre(n){const e=H1.fromString(n);return bn(Ire(e)),e}function Yp(n,e){return PP(n.databaseId,e.path)}function p3(n,e){const t=vre(e);if(t.get(1)!==n.databaseId.projectId)throw new et(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new et(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rt(bre(t))}function Mre(n,e){return PP(n.databaseId,e)}function Cre(n){const e=vre(n);return 4===e.length?H1.emptyPath():bre(e)}function DP(n){return new H1(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bre(n){return bn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xre(n,e,t){return{name:Yp(n,e),fields:t.value.mapValue.fields}}function Ere(n,e,t){const i=p3(n,e.name),s=js(e.updateTime),r=e.createTime?js(e.createTime):An.min(),o=new q2({mapValue:{fields:e.fields}}),a=ns.newFoundDocument(i,s,r,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Zp(n,e){let t;if(e instanceof g7)t={update:xre(n,e.key,e.value)};else if(e instanceof _7)t={delete:Yp(n,e.key)};else if(e instanceof A0)t={update:xre(n,e.key,e.data),updateMask:P8t(e.fieldMask)};else{if(!(e instanceof TP))return nn();t={verify:Yp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof p7)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof E8)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof w8)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof m7)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw nn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:E8t(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:nn()),t;var r}function RP(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?fs.updateTime(js(r.updateTime)):void 0!==r.exists?fs.exists(r.exists):fs.none():fs.none(),i=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let c=null;"setToServerValue"in a?(bn("REQUEST_TIME"===a.setToServerValue),c=new p7):"appendMissingElements"in a?c=new E8(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new w8(a.removeAllFromArray.values||[]):"increment"in a?c=new m7(o,a.increment):nn();const l=ts.fromServerFormat(a.fieldPath);return new $p(l,c)}(n,s)):[];var r;if(e.update){const s=p3(n,e.update.name),r=new q2({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new vo((e.updateMask.fieldPaths||[]).map(u=>ts.fromServerFormat(u)));return new A0(s,r,o,t,i)}return new g7(s,r,t,i)}if(e.delete){const s=p3(n,e.delete);return new _7(s,t)}if(e.verify){const s=p3(n,e.verify);return new TP(s,t)}return nn()}function wre(n,e){return{documents:[Mre(n,e.path)]}}function DC(n,e){const t={structuredQuery:{}},i=e.path;let s;null!==e.collectionGroup?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Mre(n,s);const r=function(l){if(0!==l.length)return Lre(xi.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(u=>{return{field:rl((h=u).field),direction:L8t(h.dir)};var h})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=zP(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:s};var l}function Sre(n){let e=Cre(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){bn(1===i);const u=t.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let r=[];t.where&&(r=function(d){const h=Are(d);return h instanceof xi&&vP(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(h=>{return new Vp(v7((_=h).field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Np(h)?null:h}(t.limit));let c=null;var d;t.startAt&&(c=new sl((d=t.startAt).values||[],!!d.before));let l=null;return t.endAt&&(l=function(d){return new sl(d.values||[],!d.before)}(t.endAt)),V2e(e,s,o,r,a,"F",c,l)}function Are(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=v7(t.unaryFilter.field);return j1.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=v7(t.unaryFilter.field);return j1.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=v7(t.unaryFilter.field);return j1.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=v7(t.unaryFilter.field);return j1.create(o,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}(n):void 0!==n.fieldFilter?j1.create(v7((t=n).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return xi.create(t.compositeFilter.filters.map(i=>Are(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return nn()}}(t.compositeFilter.op))}(n):nn();var t}function L8t(n){return M8t[n]}function I8t(n){return C8t[n]}function z8t(n){return b8t[n]}function rl(n){return{fieldPath:n.canonicalString()}}function v7(n){return ts.fromServerFormat(n.fieldPath)}function Lre(n){return n instanceof j1?function(t){if("=="===t.op){if(b2e(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NAN"}};if(C2e(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(b2e(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NOT_NAN"}};if(C2e(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(t.field),op:I8t(t.op),value:t.value}}}(n):n instanceof xi?function(t){const i=t.getFilters().map(s=>Lre(s));return 1===i.length?i[0]:{compositeFilter:{op:z8t(t.op),filters:i}}}(n):nn()}function P8t(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ire(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class L0{constructor(e,t,i,s,r=An.min(),o=An.min(),a=Ss.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new L0(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new L0(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new L0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new L0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zre{constructor(e){this.ct=e}}function Pre(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:RC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Yp(r=n.ct,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:y7(r,o.version.toTimestamp()),createTime:y7(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:T8(e.version)};else{if(!e.isUnknownDocument())return nn();i.unknownDocument={path:t.path.toArray(),version:T8(e.version)}}var r,o;return i}function RC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function T8(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function S8(n){const e=new us(n.seconds,n.nanoseconds);return An.fromTimestamp(e)}function A8(n,e){const t=(e.baseMutations||[]).map(r=>RP(n.ct,r));for(let r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);const i=e.mutations.map(r=>RP(n.ct,r)),s=us.fromMillis(e.localWriteTimeMs);return new SP(e.batchId,s,t,i)}function Qp(n){const e=S8(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?S8(n.lastLimboFreeSnapshotVersion):An.min();let i;return i=void 0!==n.query.documents?(bn(1===(r=n.query).documents.length),yr(d7(Cre(r.documents[0])))):function(r){return yr(Sre(r))}(n.query),new L0(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ss.fromBase64String(n.resumeToken));var r}function Nre(n,e){const t=T8(e.snapshotVersion),i=T8(e.lastLimboFreeSnapshotVersion);let s;s=TC(e.target)?wre(n.ct,e.target):DC(n.ct,e.target)._t;const r=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:x8(e.target),readTime:t,resumeToken:r,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function OP(n){const e=Sre({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?AC(e,e.limit,"L"):e}function kP(n,e){return new LP(e.largestBatchId,RP(n.ct,e.overlayMutation))}function Dre(n,e){const t=e.path.lastSegment();return[n,_r(e.path.popLast()),t]}function Rre(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:T8(i.readTime),documentKey:_r(i.documentKey.path),largestBatchId:i.largestBatchId}}class D8t{getBundleMetadata(e,t){return Ore(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:S8(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Ore(e).put({bundleId:(s=t).id,createTime:T8(js(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return kre(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:OP(r.bundledQuery),readTime:S8(r.readTime)};var r})}saveNamedQuery(e,t){return kre(e).put({name:(s=t).name,readTime:T8(js(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Ore(n){return g2(n,"bundles")}function kre(n){return g2(n,"namedQueries")}class OC{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new OC(e,t.uid||"")}getOverlay(e,t){return Jp(e).get(Dre(this.userId,t)).next(i=>i?kP(this.serializer,i):null)}getOverlays(e,t){const i=h3();return de.forEach(t,s=>this.getOverlay(e,s).next(r=>{null!==r&&i.set(s,r)})).next(()=>i)}saveOverlays(e,t,i){const s=[];return i.forEach((r,o)=>{const a=new LP(t,o);s.push(this.ht(e,a))}),de.waitFor(s)}removeOverlaysForBatchId(e,t,i){const s=new Set;t.forEach(o=>s.add(_r(o.getCollectionPath())));const r=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);r.push(Jp(e).j("collectionPathOverlayIndex",a))}),de.waitFor(r)}getOverlaysForCollection(e,t,i){const s=h3(),r=_r(t),o=IDBKeyRange.bound([this.userId,r,i],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Jp(e).U("collectionPathOverlayIndex",o).next(a=>{for(const c of a){const l=kP(this.serializer,c);s.set(l.getKey(),l)}return s})}getOverlaysForCollectionGroup(e,t,i,s){const r=h3();let o;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jp(e).J({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=kP(this.serializer,l);r.size()<s||d.largestBatchId===o?(r.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>r)}ht(e,t){return Jp(e).put(function(s,r,o){const[a,c,l]=Dre(r,o.mutation.key);return{userId:r,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Zp(s.ct,o.mutation)}}(this.serializer,this.userId,t))}}function Jp(n){return g2(n,"documentOverlays")}class R8t{Pt(e){return g2(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const i=t?.value;return i?Ss.fromUint8Array(i):Ss.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class L8{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ds(e.integerValue));else if("doubleValue"in e){const i=ds(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Dp(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),"string"==typeof i&&(i=E0(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(w0(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?x2e(e)?this.dt(t,Number.MAX_SAFE_INTEGER):wC(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):nn()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const i=e.fields||{};this.dt(t,55);for(const s of Object.keys(i))this.Vt(s,t),this.Tt(i[s],t)}wt(e,t){var i,s;const r=e.fields||{};this.dt(t,53);const o="value",a=(null===(s=null===(i=r[o].arrayValue)||void 0===i?void 0:i.values)||void 0===s?void 0:s.length)||0;this.dt(t,15),t.At(ds(a)),this.Vt(o,t),this.Tt(r[o],t)}bt(e,t){const i=e.values||[];this.dt(t,50);for(const s of i)this.Tt(s,t)}yt(e,t){this.dt(t,37),Rt.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function O8t(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Fre(n){const e=64-function(i){let s=0;for(let r=0;r<8;++r){const o=O8t(255&i[r]);if(s+=o,8!==o)break}return s}(n);return Math.ceil(e/8)}L8.vt=new L8;class k8t{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ot(i.value),i=t.next();this.Nt()}Lt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const s=t.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Bt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const s=t.codePointAt(0);this.Ot(240|s>>>18),this.Ot(128|63&s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s)}}this.Nt()}kt(e){const t=this.qt(e),i=Fre(t);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Kt(e){const t=this.qt(e),i=Fre(t);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let s=1;s<t.length;++s)t[s]^=i?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class F8t{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class V8t{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class em{constructor(){this.jt=new k8t,this.Ht=new F8t(this.jt),this.Jt=new V8t(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class I8{constructor(e,t,i,s){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=s}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new I8(this.indexId,this.documentKey,this.arrayValue,i)}}function ol(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Vre(n.arrayValue,e.arrayValue),0!==t?t:(t=Vre(n.directionalValue,e.directionalValue),0!==t?t:Rt.comparator(n.documentKey,e.documentKey)))}function Vre(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Ure{constructor(e){this.Xt=new Si((t,i)=>ts.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(bn(e.collectionGroup===this.collectionId),this.nn)return!1;const t=uP(e);if(void 0!==t&&!this.sn(t))return!1;const i=v8(e);let s=new Set,r=0,o=0;for(;r<i.length&&this.sn(i[r]);++r)s=s.add(i[r].fieldPath.canonicalString());if(r===i.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!s.has(a.field.canonicalString())){const c=i[r];if(!this.on(a,c)||!this._n(this.en[o++],c))return!1}++r}for(;r<i.length;++r)if(o>=this.en.length||!this._n(this.en[o++],i[r]))return!1;return!0}an(){if(this.nn)return null;let e=new Si(ts.comparator);const t=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new M8(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new M8(i.field,0))}for(const i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new M8(i.field,"asc"===i.dir?0:1)));return new o7(o7.UNKNOWN_ID,this.collectionId,t,a7.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Bre(n){var e,t;if(bn(n instanceof j1||n instanceof xi),n instanceof j1){if(n instanceof O2e){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(r=>j1.create(n.field,"==",r)))||[];return xi.create(s,"or")}return n}const i=n.filters.map(s=>Bre(s));return xi.create(i,n.op)}function U8t(n){if(0===n.getFilters().length)return[];const e=UP(Bre(n));return bn(Hre(e)),FP(e)||VP(e)?[e]:e.getFilters()}function FP(n){return n instanceof j1}function VP(n){return n instanceof xi&&vP(n)}function Hre(n){return FP(n)||VP(n)||function(t){if(t instanceof xi&&yP(t)){for(const i of t.getFilters())if(!FP(i)&&!VP(i))return!1;return!0}return!1}(n)}function UP(n){if(bn(n instanceof j1||n instanceof xi),n instanceof j1)return n;if(1===n.filters.length)return UP(n.filters[0]);const e=n.filters.map(i=>UP(i));let t=xi.create(e,n.op);return t=kC(t),Hre(t)?t:(bn(t instanceof xi),bn(u7(t)),bn(t.filters.length>1),t.filters.reduce((i,s)=>BP(i,s)))}function BP(n,e){let t;return bn(n instanceof j1||n instanceof xi),bn(e instanceof j1||e instanceof xi),t=n instanceof j1?e instanceof j1?xi.create([n,e],"and"):jre(n,e):e instanceof j1?jre(e,n):function(s,r){if(bn(s.filters.length>0&&r.filters.length>0),u7(s)&&u7(r))return N2e(s,r.getFilters());const o=yP(s)?s:r,a=yP(s)?r:s,c=o.filters.map(l=>BP(l,a));return xi.create(c,"or")}(n,e),kC(t)}function jre(n,e){if(u7(e))return N2e(e,n.getFilters());{const t=e.filters.map(i=>BP(n,i));return xi.create(t,"or")}}function kC(n){if(bn(n instanceof j1||n instanceof xi),n instanceof j1)return n;const e=n.getFilters();if(1===e.length)return kC(e[0]);if(z2e(n))return n;const t=e.map(s=>kC(s)),i=[];return t.forEach(s=>{s instanceof j1?i.push(s):s instanceof xi&&(s.op===n.op?i.push(...s.filters):i.push(s))}),1===i.length?i[0]:xi.create(i,n.op)}class B8t{constructor(){this.un=new HP}addToCollectionParentIndex(e,t){return this.un.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(ta.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class HP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Si(H1.comparator),r=!s.has(i);return this.index[t]=s.add(i),r}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Si(H1.comparator)).toArray()}}const FC=new Uint8Array(0);class H8t{constructor(e,t){this.databaseId=t,this.cn=new HP,this.ln=new S0(i=>x8(i),(i,s)=>Up(i,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const i=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const r={collectionId:i,parent:_r(s)};return Gre(e).put(r)}return de.resolve()}getCollectionParents(e,t){const i=[],s=IDBKeyRange.bound([t,""],[e2e(t),""],!1,!0);return Gre(e).U(s).next(r=>{for(const o of r){if(o.collectionId!==t)break;i.push(d3(o.parent))}return i})}addFieldIndex(e,t){const i=tm(e),s={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete s.indexId;const r=i.add(s);if(t.indexState){const o=C7(e);return r.next(a=>{o.put(Rre(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return r.next()}deleteFieldIndex(e,t){const i=tm(e),s=C7(e),r=M7(e);return i.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=tm(e),i=M7(e),s=C7(e);return t.j().next(()=>i.j()).next(()=>s.j())}createTargetIndexes(e,t){return de.forEach(this.hn(t),i=>this.getIndexType(e,i).next(s=>{if(0===s||1===s){const r=new Ure(i).an();if(null!=r)return this.addFieldIndex(e,r)}}))}getDocumentsMatchingTarget(e,t){const i=M7(e);let s=!0;const r=new Map;return de.forEach(this.hn(t),o=>this.Pn(e,o).next(a=>{s&&(s=!!a),r.set(o,a)})).next(()=>{if(s){let o=x1();const a=[];return de.forEach(r,(c,l)=>{var T;lt("IndexedDbIndexManager",`Using index ${T=c,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(S=>`${S.fieldPath}:${S.kind}`).join(",")}`} to execute ${x8(t)}`);const u=function(T,S){const O=uP(S);if(void 0===O)return null;for(const F of SC(T,O.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null}(l,c),d=function(T,S){const O=new Map;for(const F of v8(S))for(const N of SC(T,F.fieldPath))switch(N.op){case"==":case"in":O.set(F.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return O.set(F.fieldPath.canonicalString(),N.value),Array.from(O.values())}return null}(l,c),h=function(T,S){const O=[];let F=!0;for(const N of v8(S)){const z=0===N.kind?k2e(T,N.fieldPath,T.startAt):F2e(T,N.fieldPath,T.startAt);O.push(z.value),F&&(F=z.inclusive)}return new sl(O,F)}(l,c),m=function(T,S){const O=[];let F=!0;for(const N of v8(S)){const z=0===N.kind?F2e(T,N.fieldPath,T.endAt):k2e(T,N.fieldPath,T.endAt);O.push(z.value),F&&(F=z.inclusive)}return new sl(O,F)}(l,c),_=this.In(c,l,h),b=this.In(c,l,m),v=this.Tn(c,l,d),M=this.En(c.indexId,u,_,h.inclusive,b,m.inclusive,v);return de.forEach(M,E=>i.G(E,t.limit).next(T=>{T.forEach(S=>{const O=Rt.fromSegments(S.documentKey);o.has(O)||(o=o.add(O),a.push(O))})}))}).next(()=>a)}return de.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:U8t(xi.create(e.filters,"and")).map(i=>CP(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,i,s,r,o,a){const c=(null!=t?t.length:1)*Math.max(i.length,r.length),l=c/(null!=t?t.length:1),u=[];for(let d=0;d<c;++d){const h=t?this.dn(t[d/l]):FC,m=this.An(e,h,i[d%l],s),_=this.Rn(e,h,r[d%l],o),b=a.map(v=>this.An(e,h,v,!0));u.push(...this.createRange(m,_,b))}return u}An(e,t,i,s){const r=new I8(e,Rt.empty(),t,i);return s?r:r.Zt()}Rn(e,t,i,s){const r=new I8(e,Rt.empty(),t,i);return s?r.Zt():r}Pn(e,t){const i=new Ure(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(r=>{let o=null;for(const a of r)i.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let i=2;const s=this.hn(t);return de.forEach(s,r=>this.Pn(e,r).next(o=>{o?0!==i&&o.fields.length<function(c){let l=new Si(ts.comparator),u=!1;for(const d of c.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||("array-contains"===h.op||"array-contains-any"===h.op?u=!0:l=l.add(h.field));for(const d of c.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(u?1:0)}(r)&&(i=1):i=0})).next(()=>null!==t.limit&&s.length>1&&2===i?1:i)}Vn(e,t){const i=new em;for(const s of v8(e)){const r=t.data.field(s.fieldPath);if(null==r)return null;const o=i.Yt(s.kind);L8.vt.It(r,o)}return i.zt()}dn(e){const t=new em;return L8.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const i=new em;return L8.vt.It(b8(this.databaseId,t),i.Yt(function(r){const o=v8(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.zt()}Tn(e,t,i){if(null===i)return[];let s=[];s.push(new em);let r=0;for(const o of v8(e)){const a=i[r++];for(const c of s)if(this.fn(t,o.fieldPath)&&kp(a))s=this.gn(s,o,a);else{const l=c.Yt(o.kind);L8.vt.It(a,l)}}return this.pn(s)}In(e,t,i){return this.Tn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].zt();return t}gn(e,t,i){const s=[...e],r=[];for(const o of i.arrayValue.values||[])for(const a of s){const c=new em;c.seed(a.zt()),L8.vt.It(o,c.Yt(t.kind)),r.push(c)}return r}fn(e,t){return!!e.filters.find(i=>i instanceof j1&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=tm(e),s=C7(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(r=>{const o=[];return de.forEach(r,a=>s.get([a.indexId,this.uid]).next(c=>{o.push(function(u,d){const h=d?new a7(d.sequenceNumber,new ta(S8(d.readTime),new Rt(d3(d.documentKey)),d.largestBatchId)):a7.empty(),m=u.fields.map(([_,b])=>new M8(ts.fromServerFormat(_),b));return new o7(u.indexId,u.collectionGroup,m,h)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,s)=>{const r=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==r?r:s1(i.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const s=tm(e),r=C7(e);return this.yn(e).next(o=>s.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>de.forEach(a,c=>r.put(Rre(c.indexId,this.uid,o,i)))))}updateIndexEntries(e,t){const i=new Map;return de.forEach(t,(s,r)=>{const o=i.get(s.collectionGroup);return(o?de.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(i.set(s.collectionGroup,a),de.forEach(a,c=>this.wn(e,s,c).next(l=>{const u=this.Sn(r,c);return l.isEqual(u)?de.resolve():this.bn(e,r,c,l,u)}))))})}Dn(e,t,i,s){return M7(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,s){return M7(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const s=M7(e);let r=new Si(ol);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(o,a)=>{r=r.add(new I8(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>r)}Sn(e,t){let i=new Si(ol);const s=this.Vn(t,e);if(null==s)return i;const r=uP(t);if(null!=r){const o=e.data.field(r.fieldPath);if(kp(o))for(const a of o.arrayValue.values||[])i=i.add(new I8(t.indexId,e.key,this.dn(a),s))}else i=i.add(new I8(t.indexId,e.key,FC,s));return i}bn(e,t,i,s,r){lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(c,l,u,d,h){const m=c.getIterator(),_=l.getIterator();let b=c7(m),v=c7(_);for(;b||v;){let M=!1,E=!1;if(b&&v){const T=u(b,v);T<0?E=!0:T>0&&(M=!0)}else null!=b?E=!0:M=!0;M?(d(v),v=c7(_)):E?(h(b),b=c7(m)):(b=c7(m),v=c7(_))}}(s,r,ol,a=>{o.push(this.Dn(e,t,i,a))},a=>{o.push(this.vn(e,t,i,a))}),de.waitFor(o)}yn(e){let t=1;return C7(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,r)=>{r.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((o,a)=>ol(o,a)).filter((o,a,c)=>!a||0!==ol(o,c[a-1]));const s=[];s.push(e);for(const o of i){const a=ol(o,e),c=ol(o,t);if(0===a)s[0]=e.Zt();else if(a>0&&c<0)s.push(o),s.push(o.Zt());else if(c>0)break}s.push(t);const r=[];for(let o=0;o<s.length;o+=2){if(this.Cn(s[o],s[o+1]))return[];r.push(IDBKeyRange.bound([s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,FC,[]],[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,FC,[]]))}return r}Cn(e,t){return ol(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($re)}getMinOffset(e,t){return de.mapArray(this.hn(t),i=>this.Pn(e,i).next(s=>s||nn())).next($re)}}function Gre(n){return g2(n,"collectionParents")}function M7(n){return g2(n,"indexEntries")}function tm(n){return g2(n,"indexConfiguration")}function C7(n){return g2(n,"indexState")}function $re(n){bn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;dP(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new ta(e.readTime,e.documentKey,t)}const Wre={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qre(n,e,t){const i=n.store("mutations"),s=n.store("documentMutations"),r=[],o=IDBKeyRange.only(t.batchId);let a=0;const c=i.J({range:o},(u,d,h)=>(a++,h.delete()));r.push(c.next(()=>{bn(1===a)}));const l=[];for(const u of t.mutations){const d=u2e(e,u.key.path,t.batchId);r.push(s.delete(d)),l.push(u.key)}return de.waitFor(r).next(()=>l)}function VC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nn();e=n.noDocument}return JSON.stringify(e).length}vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(41943040,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);class UC{constructor(e,t,i,s){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=s,this.Fn={}}static lt(e,t,i,s){bn(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new UC(r,t,i,s)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return al(e).J({index:"userMutationsIndex",range:i},(s,r,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,s){const r=b7(e),o=al(e);return o.add({}).next(a=>{bn("number"==typeof a);const c=new SP(a,t,i,s),l=function(m,_,b){const v=b.baseMutations.map(E=>Zp(m.ct,E)),M=b.mutations.map(E=>Zp(m.ct,E));return{userId:_,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:v,mutations:M}}(this.serializer,this.userId,c),u=[];let d=new Si((h,m)=>s1(h.canonicalString(),m.canonicalString()));for(const h of s){const m=u2e(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(l)),u.push(r.put(m,L6t))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),de.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return al(e).get(t).next(i=>i?(bn(i.userId===this.userId),A8(this.serializer,i)):null)}Mn(e,t){return this.Fn[t]?de.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const s=i.keys();return this.Fn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=IDBKeyRange.lowerBound([this.userId,i]);let r=null;return al(e).J({index:"userMutationsIndex",range:s},(o,a,c)=>{a.userId===this.userId&&(bn(a.batchId>=i),r=A8(this.serializer,a)),c.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return al(e).J({index:"userMutationsIndex",range:t,reverse:!0},(s,r,o)=>{i=r.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return al(e).U("userMutationsIndex",t).next(i=>i.map(s=>A8(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=yC(this.userId,t.path),s=IDBKeyRange.lowerBound(i),r=[];return b7(e).J({range:s},(o,a,c)=>{const[l,u,d]=o,h=d3(u);if(l===this.userId&&t.path.isEqual(h))return al(e).get(d).next(m=>{if(!m)throw nn();bn(m.userId===this.userId),r.push(A8(this.serializer,m))});c.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Si(s1);const s=[];return t.forEach(r=>{const o=yC(this.userId,r.path),a=IDBKeyRange.lowerBound(o),c=b7(e).J({range:a},(l,u,d)=>{const[h,m,_]=l,b=d3(m);h===this.userId&&r.path.isEqual(b)?i=i.add(_):d.done()});s.push(c)}),de.waitFor(s).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1,r=yC(this.userId,i),o=IDBKeyRange.lowerBound(r);let a=new Si(s1);return b7(e).J({range:o},(c,l,u)=>{const[d,h,m]=c,_=d3(h);d===this.userId&&i.isPrefixOf(_)?_.length===s&&(a=a.add(m)):u.done()}).next(()=>this.xn(e,a))}xn(e,t){const i=[],s=[];return t.forEach(r=>{s.push(al(e).get(r).next(o=>{if(null===o)throw nn();bn(o.userId===this.userId),i.push(A8(this.serializer,o))}))}),de.waitFor(s).next(()=>i)}removeMutationBatch(e,t){return qre(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),de.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return b7(e).J({range:i},(r,o,a)=>{if(r[0]===this.userId){const c=d3(r[1]);s.push(c)}else a.done()}).next(()=>{bn(0===s.length)})})}containsKey(e,t){return Kre(e,this.userId,t)}Nn(e){return Xre(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kre(n,e,t){const i=yC(e,t.path),s=i[1],r=IDBKeyRange.lowerBound(i);let o=!1;return b7(n).J({range:r,H:!0},(a,c,l)=>{const[u,d,h]=a;u===e&&d===s&&(o=!0),l.done()}).next(()=>o)}function al(n){return g2(n,"mutations")}function b7(n){return g2(n,"documentMutations")}function Xre(n){return g2(n,"mutationQueues")}class z8{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new z8(0)}static kn(){return new z8(-1)}}class j8t{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const i=new z8(t.highestTargetId);return t.highestTargetId=i.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>An.fromTimestamp(new us(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.qn(e).next(s=>(s.highestListenSequenceNumber=t,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Qn(e,s)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(t,i),this.Qn(e,i))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>x7(e).delete(t.targetId)).next(()=>this.qn(e)).next(i=>(bn(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,t,i){let s=0;const r=[];return x7(e).J((o,a)=>{const c=Qp(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(s++,r.push(this.removeTargetData(e,c)))}).next(()=>de.waitFor(r)).next(()=>s)}forEachTarget(e,t){return x7(e).J((i,s)=>{const r=Qp(s);t(r)})}qn(e){return Yre(e).get("targetGlobalKey").next(t=>(bn(null!==t),t))}Qn(e,t){return Yre(e).put("targetGlobalKey",t)}Kn(e,t){return x7(e).put(Nre(this.serializer,t))}$n(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=x8(t),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let r=null;return x7(e).J({range:s,index:"queryTargetsIndex"},(o,a,c)=>{const l=Qp(a);Up(t,l.target)&&(r=l,c.done())}).next(()=>r)}addMatchingKeys(e,t,i){const s=[],r=cl(e);return t.forEach(o=>{const a=_r(o.path);s.push(r.put({targetId:i,path:a})),s.push(this.referenceDelegate.addReference(e,i,o))}),de.waitFor(s)}removeMatchingKeys(e,t,i){const s=cl(e);return de.forEach(t,r=>{const o=_r(r.path);return de.waitFor([s.delete([i,o]),this.referenceDelegate.removeReference(e,i,r)])})}removeMatchingKeysForTargetId(e,t){const i=cl(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),s=cl(e);let r=x1();return s.J({range:i,H:!0},(o,a,c)=>{const l=d3(o[1]),u=new Rt(l);r=r.add(u)}).next(()=>r)}containsKey(e,t){const i=_r(t.path),s=IDBKeyRange.bound([i],[e2e(i)],!1,!0);let r=0;return cl(e).J({index:"documentTargetsIndex",H:!0,range:s},([o,a],c,l)=>{0!==o&&(r++,l.done())}).next(()=>r>0)}ot(e,t){return x7(e).get(t).next(i=>i?Qp(i):null)}}function x7(n){return g2(n,"targets")}function Yre(n){return g2(n,"targetGlobal")}function cl(n){return g2(n,"targetDocuments")}function Zre([n,e],[t,i]){const s=s1(n,t);return 0===s?s1(e,i):s}class G8t{constructor(e){this.Un=e,this.buffer=new Si(Zre),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Zre(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qre{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var t=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ne.A)(function*(){t.jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Q4(i)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Z4(i)}yield t.Hn(3e5)}))}}class $8t{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return de.resolve(na.oe);const i=new G8t(t);return this.Jn.forEachTarget(e,s=>i.zn(s.sequenceNumber)).next(()=>this.Jn.Zn(e,s=>i.zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Wre)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wre):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,s,r,o,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,t))).next(d=>(r=d,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(l=Date.now(),s7()<=l3.$b.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${s} in `+(a-o)+`ms\n\tRemoved ${r} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:d})))}}class W8t{constructor(e,t){this.db=e,this.garbageCollector=function Jre(n,e){return new $8t(n,e)}(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(i,s)=>t(s))}addReference(e,t,i){return BC(e,i)}removeReference(e,t,i){return BC(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return BC(e,t)}nr(e,t){return function(s,r){let o=!1;return Xre(s).Y(a=>Kre(s,a,r).next(c=>(c&&(o=!0),de.resolve(!c)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let r=0;return this.tr(e,(o,a)=>{if(a<=t){const c=this.nr(e,o).next(l=>{if(!l)return r++,i.getEntry(e,o).next(()=>(i.removeEntry(o,An.min()),cl(e).delete([0,_r(o.path)])))});s.push(c)}}).next(()=>de.waitFor(s)).next(()=>i.apply(e)).next(()=>r)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return BC(e,t)}tr(e,t){const i=cl(e);let s,r=na.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:l})=>{0===o?(r!==na.oe&&t(new Rt(d3(s)),r),r=l,s=c):r=na.oe}).next(()=>{r!==na.oe&&t(new Rt(d3(s)),r)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function BC(n,e){return cl(n).put((s=n.currentSequenceNumber,{targetId:0,path:_r(e.path),sequenceNumber:s}));var s}class eoe{constructor(){this.changes=new S0(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ns.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class q8t{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return P8(e).put(i)}removeEntry(e,t,i){return P8(e).delete(function(r,o){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],RC(o),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.rr(e,i)))}getEntry(e,t){let i=ns.newInvalidDocument(t);return P8(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(nm(t))},(s,r)=>{i=this.ir(t,r)}).next(()=>i)}sr(e,t){let i={size:0,document:ns.newInvalidDocument(t)};return P8(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(nm(t))},(s,r)=>{i={document:this.ir(t,r),size:VC(r)}}).next(()=>i)}getEntries(e,t){let i=Mo();return this._r(e,t,(s,r)=>{const o=this.ir(s,r);i=i.insert(s,o)}).next(()=>i)}ar(e,t){let i=Mo(),s=new Yi(Rt.comparator);return this._r(e,t,(r,o)=>{const a=this.ir(r,o);i=i.insert(r,a),s=s.insert(r,VC(o))}).next(()=>({documents:i,ur:s}))}_r(e,t,i){if(t.isEmpty())return de.resolve();let s=new Si(soe);t.forEach(c=>s=s.add(c));const r=IDBKeyRange.bound(nm(s.first()),nm(s.last())),o=s.getIterator();let a=o.getNext();return P8(e).J({index:"documentKeyIndex",range:r},(c,l,u)=>{const d=Rt.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&soe(a,d)<0;)i(a,null),a=o.getNext();a&&a.isEqual(d)&&(i(a,l),a=o.hasNext()?o.getNext():null),a?u.$(nm(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,i,s,r){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),RC(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return P8(e).U(IDBKeyRange.bound(a,c,!0)).next(l=>{r?.incrementDocumentReadCount(l.length);let u=Mo();for(const d of l){const h=this.ir(Rt.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Hp(t,h)||s.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,t,i,s){let r=Mo();const o=ioe(t,i),a=ioe(t,ta.max());return P8(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,l,u)=>{const d=this.ir(Rt.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);r=r.insert(d.key,d),r.size===s&&u.done()}).next(()=>r)}newChangeBuffer(e){return new K8t(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return noe(e).get("remoteDocumentGlobalKey").next(t=>(bn(!!t),t))}rr(e,t){return noe(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const i=function N8t(n,e){let t;if(e.document)t=Ere(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Rt.fromSegments(e.noDocument.path),s=S8(e.noDocument.readTime);t=ns.newNoDocument(i,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return nn();{const i=Rt.fromSegments(e.unknownDocument.path),s=S8(e.unknownDocument.version);t=ns.newUnknownDocument(i,s)}}return e.readTime&&t.setReadTime(function(s){const r=new us(s[0],s[1]);return An.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(An.min()))return i}return ns.newInvalidDocument(e)}}function toe(n){return new q8t(n)}class K8t extends eoe{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new S0(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(e){const t=[];let i=0,s=new Si((r,o)=>s1(r.canonicalString(),o.canonicalString()));return this.changes.forEach((r,o)=>{const a=this.lr.get(r);if(t.push(this.cr.removeEntry(e,r,a.readTime)),o.isValidDocument()){const c=Pre(this.cr.serializer,o);s=s.add(r.path.popLast());const l=VC(c);i+=l-a.size,t.push(this.cr.addEntry(e,r,c))}else if(i-=a.size,this.trackRemovals){const c=Pre(this.cr.serializer,o.convertToNoDocument(An.min()));t.push(this.cr.addEntry(e,r,c))}}),s.forEach(r=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,r))}),t.push(this.cr.updateMetadata(e,i)),de.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(i=>(this.lr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:i,ur:s})=>(s.forEach((r,o)=>{this.lr.set(r,{size:o,readTime:i.get(r).readTime})}),i))}}function noe(n){return g2(n,"remoteDocumentGlobal")}function P8(n){return g2(n,"remoteDocumentsV14")}function nm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ioe(n,e){const t=e.documentKey.path.toArray();return[n,RC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function soe(n,e){const t=n.path.toArray(),i=e.path.toArray();let s=0;for(let r=0;r<t.length-2&&r<i.length-2;++r)if(s=s1(t[r],i[r]),s)return s;return s=s1(t.length,i.length),s||(s=s1(t[t.length-2],i[i.length-2]),s||s1(t[t.length-1],i[i.length-1]))}class X8t{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class roe{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==i&&Wp(i.mutation,s,vo.empty(),us.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,x1()).next(()=>i))}getLocalViewOfDocuments(e,t,i=x1()){const s=h3();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(r=>{let o=jp();return r.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=h3();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,x1()))}populateOverlays(e,t,i){const s=[];return i.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,s){let r=Mo();const o=Gp(),a=Gp();return t.forEach((c,l)=>{const u=i.get(l.key);s.has(l.key)&&(void 0===u||u.mutation instanceof A0)?r=r.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),Wp(u.mutation,l,u.mutation.getFieldMask(),us.now())):o.set(l.key,vo.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((l,u)=>o.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new X8t(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Gp();let s=new Yi((o,a)=>o-a),r=x1();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=i.get(c)||vo.empty();u=a.applyToLocalView(l,u),i.set(c,u);const d=(s.get(a.batchId)||x1()).add(c);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=K2e();u.forEach(h=>{if(!r.has(h)){const m=nre(t.get(h),i.get(h));null!==m&&d.set(h,m),r=r.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return de.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return Rt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):bP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s);var o}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-r.size):de.resolve(h3());let a=-1,c=r;return o.next(l=>de.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(u)?de.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,r)).next(()=>this.computeViews(e,c,l,x1())).next(u=>({batchId:a,changes:q2e(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next(i=>{let s=jp();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const r=t.collectionGroup;let o=jp();return this.indexManager.getCollectionParents(e,r).next(a=>de.forEach(a,c=>{const l=(d=t,h=c.child(r),new T0(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,l,i,s).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r,s))).next(o=>{r.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,ns.newInvalidDocument(u)))});let a=jp();return o.forEach((c,l)=>{const u=r.get(c);void 0!==u&&Wp(u.mutation,l,vo.empty(),us.now()),Hp(t,l)&&(a=a.insert(c,l))}),a})}}class Y8t{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return de.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(s=t).id,version:s.version,createTime:js(s.createTime)}),de.resolve();var s}getNamedQuery(e,t){return de.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(s=t).name,query:OP(s.bundledQuery),readTime:js(s.readTime)}),de.resolve();var s}}class Z8t{constructor(){this.overlays=new Yi(Rt.comparator),this.Ir=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=h3();return de.forEach(t,s=>this.getOverlay(e,s).next(r=>{null!==r&&i.set(s,r)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,r)=>{this.ht(e,t,r)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Ir.get(i);return void 0!==s&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Ir.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const s=h3(),r=t.length+1,o=new Rt(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===r&&c.largestBatchId>i&&s.set(c.getKey(),c)}return de.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let r=new Yi((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=r.get(l.largestBatchId);null===u&&(u=h3(),r=r.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=h3(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return de.resolve(a)}ht(e,t,i){const s=this.overlays.get(i.key);if(null!==s){const o=this.Ir.get(s.largestBatchId).delete(i.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new LP(t,i));let r=this.Ir.get(t);void 0===r&&(r=x1(),this.Ir.set(t,r)),this.Ir.set(t,r.add(i.key))}}class Q8t{constructor(){this.sessionToken=Ss.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}class jP{constructor(){this.Tr=new Si(P2.Er),this.dr=new Si(P2.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new P2(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new P2(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new Rt(new H1([])),i=new P2(t,e),s=new P2(t,e+1),r=[];return this.dr.forEachInRange([i,s],o=>{this.Vr(o),r.push(o.key)}),r}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Rt(new H1([])),i=new P2(t,e),s=new P2(t,e+1);let r=x1();return this.dr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const t=new P2(e,0),i=this.Tr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class P2{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Rt.comparator(e.key,t.key)||s1(e.wr,t.wr)}static Ar(e,t){return s1(e.wr,t.wr)||Rt.comparator(e.key,t.key)}}class J8t{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Si(P2.Er)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,s){const r=this.Sr;this.Sr++;const o=new SP(r,t,i,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new P2(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return de.resolve(o)}lookupMutationBatch(e,t){return de.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.vr(t+1),r=s<0?0:s;return de.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new P2(t,0),s=new P2(t,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([i,s],o=>{const a=this.Dr(o.wr);r.push(a)}),de.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Si(s1);return t.forEach(s=>{const r=new P2(s,0),o=new P2(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([r,o],a=>{i=i.add(a.wr)})}),de.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let r=i;Rt.isDocumentKey(r)||(r=r.child(""));const o=new P2(new Rt(r),0);let a=new Si(s1);return this.br.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.wr)),!0)},o),de.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(i=>{const s=this.Dr(i);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){bn(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return de.forEach(t.mutations,s=>{const r=new P2(s.key,t.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new P2(t,0),s=this.br.firstAfterOrEqual(i);return de.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return de.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class e5t{constructor(e){this.Mr=e,this.docs=new Yi(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),r=s?s.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():ns.newInvalidDocument(t))}getEntries(e,t){let i=Mo();return t.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():ns.newInvalidDocument(s))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let r=Mo();const o=t.path,a=new Rt(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||dP(n2e(u),i)<=0||(s.has(u.key)||Hp(t,u))&&(r=r.insert(u.key,u.mutableCopy()))}return de.resolve(r)}getAllFromCollectionGroup(e,t,i,s){nn()}Or(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new t5t(this)}getSize(e){return de.resolve(this.size)}}class t5t extends eoe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class n5t{constructor(e){this.persistence=e,this.Nr=new S0(t=>x8(t),Up),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.Lr=0,this.Br=new jP,this.targetCount=0,this.kr=z8.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,s)=>t(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),de.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new z8(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Kn(t),de.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let s=0;const r=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Nr.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),de.waitFor(r).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),de.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.Br.containsKey(t))}}class GP{constructor(e,t){this.qr={},this.overlays={},this.Qr=new na(0),this.Kr=!1,this.Kr=!0,this.$r=new Q8t,this.referenceDelegate=e(this),this.Ur=new n5t(this),this.indexManager=new B8t,this.remoteDocumentCache=new e5t(i=>this.referenceDelegate.Wr(i)),this.serializer=new zre(t),this.Gr=new Y8t(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Z8t,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new J8t(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){lt("MemoryPersistence","Starting transaction:",e);const s=new i5t(this.Qr.next());return this.referenceDelegate.zr(),i(s).next(r=>this.referenceDelegate.jr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Hr(e,t){return de.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class i5t extends s2e{constructor(e){super(),this.currentSequenceNumber=e}}class HC{constructor(e){this.persistence=e,this.Jr=new jP,this.Yr=null}static Zr(e){return new HC(e)}get Xr(){if(this.Yr)return this.Yr;throw nn()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),de.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.Xr.add(r.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xr,i=>{const s=Rt.fromPath(i);return this.ei(e,s).next(r=>{r||t.removeEntry(s,An.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return de.or([()=>de.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class s5t{constructor(e){this.serializer=e}O(e,t,i,s){const r=new _C("createOrUpgrade",t);var c;i<1&&s>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",l2e,{unique:!0}),c.createObjectStore("documentMutations"),ooe(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=de.resolve();return i<3&&s>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),ooe(e)),o=o.next(()=>function(c){const l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:An.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(r))),i<4&&s>=4&&(0!==i&&(o=o.next(()=>function(c,l){return l.store("mutations").U().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",l2e,{unique:!0});const d=l.store("mutations"),h=u.map(m=>d.put(m));return de.waitFor(h)})}(e,r))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&s>=5&&(o=o.next(()=>this.ni(r))),i<6&&s>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(r)))),i<7&&s>=7&&(o=o.next(()=>this.ii(r))),i<8&&s>=8&&(o=o.next(()=>this.si(e,r))),i<9&&s>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&s>=10&&(o=o.next(()=>this.oi(r))),i<11&&s>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&s>=12&&(o=o.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:B6t});l.createIndex("collectionPathOverlayIndex",H6t,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",j6t,{unique:!1})}(e)})),i<13&&s>=13&&(o=o.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:I6t});l.createIndex("documentKeyIndex",z6t),l.createIndex("collectionGroupIndex",P6t)}(e)).next(()=>this._i(e,r)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&s>=14&&(o=o.next(()=>this.ai(e,r))),i<15&&s>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:k6t}).createIndex("sequenceNumberIndex",F6t,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:V6t}).createIndex("documentKeyIndex",U6t,{unique:!1})}(e))),i<16&&s>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),i<17&&s>=17&&(o=o.next(()=>{!function(c){c.createObjectStore("globals",{keyPath:"name"})}(e)})),o}ri(e){let t=0;return e.store("remoteDocuments").J((i,s)=>{t+=VC(s)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(s=>de.forEach(s,r=>{const o=IDBKeyRange.bound([r.userId,-1],[r.userId,r.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>de.forEach(a,c=>{bn(c.userId===r.userId);const l=A8(this.serializer,c);return qre(e,r.userId,l).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const r=[];return i.J((o,a)=>{const c=new H1(o),l=[0,_r(c)];r.push(t.get(l).next(u=>u?de.resolve():t.put({targetId:0,path:_r(c),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>de.waitFor(r))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:O6t});const i=t.store("collectionParents"),s=new HP,r=o=>{if(s.add(o)){const a=o.lastSegment(),c=o.popLast();return i.put({collectionId:a,parent:_r(c)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{const c=new H1(o);return r(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,c],l)=>{const u=d3(a);return r(u.popLast())}))}oi(e){const t=e.store("targets");return t.J((i,s)=>{const r=Qp(s),o=Nre(this.serializer,r);return t.put(o)})}_i(e,t){const i=t.store("remoteDocuments"),s=[];return i.J((r,o)=>{const a=t.store("remoteDocumentsV14"),c=(d=o,d.document?new Rt(H1.fromString(d.document.name).popFirst(5)):d.noDocument?Rt.fromSegments(d.noDocument.path):d.unknownDocument?Rt.fromSegments(d.unknownDocument.path):nn()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var d;s.push(a.put(l))}).next(()=>de.waitFor(s))}ai(e,t){const i=t.store("mutations"),s=toe(this.serializer),r=new GP(HC.Zr,this.serializer.ct);return i.U().next(o=>{const a=new Map;return o.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:x1();A8(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),de.forEach(a,(c,l)=>{const u=new z2(l),d=OC.lt(this.serializer,u),h=r.getIndexManager(u),m=UC.lt(u,this.serializer,h,r.referenceDelegate);return new roe(s,m,d,h).recalculateAndSaveOverlaysForDocumentKeys(new mP(t,na.oe),c).next()})})}}function ooe(n){n.createObjectStore("targetDocuments",{keyPath:D6t}).createIndex("documentTargetsIndex",R6t,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",N6t,{unique:!0}),n.createObjectStore("targetGlobal")}const $P="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class WP{constructor(e,t,i,s,r,o,a,c,l,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ui=r,this.window=o,this.document=a,this.ci=l,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!WP.D())throw new et(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new W8t(this,s),this.Ai=t+"main",this.serializer=new zre(c),this.Ri=new u3(this.Ai,this.hi,new s5t(this.serializer)),this.$r=new R8t,this.Ur=new j8t(this.referenceDelegate,this.serializer),this.remoteDocumentCache=toe(this.serializer),this.Gr=new D8t,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===u&&Hs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(ve.FAILED_PRECONDITION,$P);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new na(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var t=this;return this.di=function(){var i=(0,Ne.A)(function*(s){if(t.started)return e(s)});return function(s){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var t=(0,Ne.A)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,Ne.A)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Q4(e))return lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return im(e).get("owner").next(t=>de.resolve(this.vi(t)))}Ci(e){return GC(e).delete(this.clientId)}Fi(){var e=this;return(0,Ne.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const s=g2(i,"clientMetadata");return s.U().next(r=>{const o=e.xi(r,18e5),a=r.filter(c=>-1===o.indexOf(c));return de.forEach(a,c=>s.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Vi)for(const i of t)e.Vi.removeItem(e.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?de.resolve(!0):im(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new et(ve.FAILED_PRECONDITION,$P);return!1}}return!(!this.networkEnabled||!this.inForeground)||GC(e).U().next(i=>void 0===this.xi(i,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new mP(t,na.oe);return e.bi(i).next(()=>e.Ci(i))}),e.Ri.close(),e.qi()})()}xi(e,t){return e.filter(i=>this.Mi(i.updateTimeMs,t)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>GC(e).U().next(t=>this.xi(t,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return UC.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new H8t(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return OC.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,i){lt("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",r=17===(c=this.hi)?W6t:16===c?$6t:15===c?pP:14===c?h2e:13===c?f2e:12===c?G6t:11===c?d2e:void nn();var c;let o;return this.Ri.runTransaction(e,s,r,a=>(o=new mP(a,this.Qr?this.Qr.next():na.oe),"readwrite-primary"===t?this.wi(o).next(c=>!!c||this.Si(o)).next(c=>{if(!c)throw Hs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new et(ve.FAILED_PRECONDITION,i2e);return i(o)}).next(c=>this.Di(o).next(()=>c)):this.Ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return im(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new et(ve.FAILED_PRECONDITION,$P)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return im(e).put("owner",t)}static D(){return u3.D()}bi(e){const t=im(e);return t.get("owner").next(i=>this.vi(i)?(lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Hs(`Detected an update time that is in the future: ${e} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;(0,pi.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const i=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return lt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Hs("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Hs("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function im(n){return g2(n,"owner")}function GC(n){return g2(n,"clientMetadata")}function qP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class KP{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=s}static Wi(e,t){let i=x1(),s=x1();for(const r of t.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new KP(e,t.fromCache,i,s)}}class r5t{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aoe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,pi.nr)()?8:r2e((0,pi.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,s){const r={result:null};return this.Yi(e,t).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.Zi(e,t,s,i).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new r5t;return this.Xi(e,t,o).next(a=>{if(r.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>r.result)}es(e,t,i,s){return i.documentReadCount<this.ji?(s7()<=l3.$b.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",h7(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),de.resolve()):(s7()<=l3.$b.DEBUG&&lt("QueryEngine","Query:",h7(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Hi*s?(s7()<=l3.$b.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",h7(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):de.resolve())}Yi(e,t){if(U2e(t))return de.resolve(null);let i=yr(t);return this.indexManager.getIndexType(e,i).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=AC(t,null,"F"),i=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=x1(...r);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const l=this.ts(t,a);return this.ns(t,l,o,c.readTime)?this.Yi(e,AC(t,null,"F")):this.rs(e,l,t,c)}))})))}Zi(e,t,i,s){return U2e(t)||s.isEqual(An.min())?de.resolve(null):this.Ji.getDocuments(e,i).next(r=>{const o=this.ts(t,r);return this.ns(t,o,i,s)?de.resolve(null):(s7()<=l3.$b.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),h7(t)),this.rs(e,o,t,t2e(s,-1)).next(a=>a))})}ts(e,t){let i=new Si($2e(e));return t.forEach((s,r)=>{Hp(e,r)&&(i=i.add(r))}),i}ns(e,t,i,s){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Xi(e,t,i){return s7()<=l3.$b.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",h7(t)),this.Ji.getDocumentsMatchingQuery(e,t,ta.min(),i)}rs(e,t,i,s){return this.Ji.getDocumentsMatchingQuery(e,i,s).next(r=>(t.forEach(o=>{r=r.insert(o.key,o)}),r))}}class o5t{constructor(e,t,i,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new Yi(s1),this._s=new S0(r=>x8(r),Up),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new roe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function coe(n,e,t,i){return new o5t(n,e,t,i)}function loe(n,e){return XP.apply(this,arguments)}function XP(){return(XP=(0,Ne.A)(function*(n,e){const t=zt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let c=x1();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of r){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function uoe(n){const e=zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function doe(n,e,t){let i=x1(),s=x1();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let o=Mo();return t.forEach((a,c)=>{const l=r.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(An.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):lt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function l5t(n,e){const t=zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function E7(n,e){const t=zt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Ur.getTargetData(i,e).next(r=>r?(s=r,de.resolve(s)):t.Ur.allocateTargetId(i).next(o=>(s=new L0(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.os.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function w7(n,e,t){return YP.apply(this,arguments)}function YP(){return(YP=(0,Ne.A)(function*(n,e,t){const i=zt(n),s=i.os.get(e),r=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Q4(o))throw o;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(s.target)})).apply(this,arguments)}function $C(n,e,t){const i=zt(n);let s=An.min(),r=x1();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=zt(c),h=d._s.get(u);return void 0!==h?de.resolve(d.os.get(h)):d.Ur.getTargetData(l,u)}(i,o,yr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{r=c})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?s:An.min(),t?r:x1())).next(a=>(poe(i,G2e(e),a),{documents:a,Ts:r})))}function foe(n,e){const t=zt(n),i=zt(t.Ur),s=t.os.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",r=>i.ot(r,e).next(o=>o?o.target:null))}function hoe(n,e){const t=zt(n),i=t.us.get(e)||An.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.cs.getAllFromCollectionGroup(s,e,t2e(i,-1),Number.MAX_SAFE_INTEGER)).then(s=>(poe(t,e,s),s))}function poe(n,e,t){let i=n.us.get(e)||An.min();t.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.us.set(e,i)}function ZP(){return(ZP=(0,Ne.A)(function*(n,e,t,i){const s=zt(n);let r=x1(),o=Mo();for(const l of t){const u=e.Es(l.metadata.name);l.document&&(r=r.add(u));const d=e.ds(l);d.setReadTime(e.As(l.metadata.readTime)),o=o.insert(u,d)}const a=s.cs.newChangeBuffer({trackRemovals:!0}),c=yield E7(s,(u=i,yr(d7(H1.fromString(`__bundle__/docs/${u}`)))));var u;return s.persistence.runTransaction("Apply bundle documents","readwrite",l=>doe(l,a,o).next(u=>(a.apply(l),u)).next(u=>s.Ur.removeMatchingKeysForTargetId(l,c.targetId).next(()=>s.Ur.addMatchingKeys(l,r,c.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(l,u.Ps,u.Is)).next(()=>u.Ps)))})).apply(this,arguments)}function d5t(n,e){return QP.apply(this,arguments)}function QP(){return(QP=(0,Ne.A)(function*(n,e,t=x1()){const i=yield E7(n,yr(OP(e.bundledQuery))),s=zt(n);return s.persistence.runTransaction("Save named query","readwrite",r=>{const o=js(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return s.Gr.saveNamedQuery(r,e);const a=i.withResumeToken(Ss.EMPTY_BYTE_STRING,o);return s.os=s.os.insert(a.targetId,a),s.Ur.updateTargetData(r,a).next(()=>s.Ur.removeMatchingKeysForTargetId(r,i.targetId)).next(()=>s.Ur.addMatchingKeys(r,t,i.targetId)).next(()=>s.Gr.saveNamedQuery(r,e))})})).apply(this,arguments)}function moe(n,e){return`firestore_clients_${n}_${e}`}function goe(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function JP(n,e){return`firestore_targets_${n}_${e}`}class WC{constructor(e,t,i,s){this.user=e,this.batchId=t,this.state=i,this.error=s}static Rs(e,t,i){const s=JSON.parse(i);let r,o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code,o&&(r=new et(s.error.code,s.error.message))),o?new WC(e,t,s.state,r):(Hs("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sm{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Rs(e,t){const i=JSON.parse(t);let s,r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code,r&&(s=new et(i.error.code,i.error.message))),r?new sm(e,i.state,s):(Hs("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const i=JSON.parse(t);let s="object"==typeof i&&i.activeTargetIds instanceof Array,r=EP();for(let o=0;s&&o<i.activeTargetIds.length;++o)s=a2e(i.activeTargetIds[o]),r=r.add(i.activeTargetIds[o]);return s?new qC(e,r):(Hs("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eN{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eN(t.clientId,t.onlineState):(Hs("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tN{constructor(){this.activeTargetIds=EP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nN{constructor(e,t,i,s,r){this.window=e,this.ui=t,this.persistenceKey=i,this.ps=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Yi(s1),this.started=!1,this.bs=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Ds=moe(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new tN),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.A)(function*(){const t=yield e.syncEngine.Qi();for(const s of t){if(s===e.ps)continue;const r=e.getItem(moe(e.persistenceKey,s));if(r){const o=qC.Rs(s,r);o&&(e.Ss=e.Ss.insert(o.clientId,o))}}e.Ns();const i=e.storage.getItem(e.xs);if(i){const s=e.Ls(i);s&&e.Bs(s)}for(const s of e.bs)e.ws(s);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((i,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,i){this.qs(e,t,i),this.Qs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(JP(this.persistenceKey,e));if(i){const s=sm.Rs(e,i);s&&(t=s.state)}}return this.Ks.fs(e),this.Ns(),t}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(JP(this.persistenceKey,e))}updateQueryState(e,t,i){this.$s(e,t,i)}handleUserChange(e,t,i){t.forEach(s=>{this.Qs(s)}),this.currentUser=e,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return lt("SharedClientState","READ",e,t),t}setItem(e,t){lt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var t=this;const i=e;if(i.storageArea===this.storage){if(lt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void Hs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Ne.A)(function*(){if(t.started){if(null!==i.key)if(t.Cs.test(i.key)){if(null==i.newValue){const s=t.Gs(i.key);return t.zs(s,null)}{const s=t.js(i.key,i.newValue);if(s)return t.zs(s.clientId,s)}}else if(t.Fs.test(i.key)){if(null!==i.newValue){const s=t.Hs(i.key,i.newValue);if(s)return t.Js(s)}}else if(t.Ms.test(i.key)){if(null!==i.newValue){const s=t.Ys(i.key,i.newValue);if(s)return t.Zs(s)}}else if(i.key===t.xs){if(null!==i.newValue){const s=t.Ls(i.newValue);if(s)return t.Bs(s)}}else if(i.key===t.vs){const s=function(o){let a=na.oe;if(null!=o)try{const c=JSON.parse(o);bn("number"==typeof c),a=c}catch(c){Hs("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);s!==na.oe&&t.sequenceNumberHandler(s)}else if(i.key===t.Os){const s=t.Xs(i.newValue);yield Promise.all(s.map(r=>t.syncEngine.eo(r)))}}else t.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,i){const s=new WC(this.currentUser,e,t,i),r=goe(this.persistenceKey,this.currentUser,e);this.setItem(r,s.Vs())}Qs(e){const t=goe(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,t,i){const s=JP(this.persistenceKey,e),r=new sm(e,t,i);this.setItem(s,r.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const i=this.Gs(e);return qC.Rs(i,t)}Hs(e,t){const i=this.Fs.exec(e),s=Number(i[1]);return WC.Rs(new z2(void 0!==i[2]?i[2]:null),s,t)}Ys(e,t){const i=this.Ms.exec(e),s=Number(i[1]);return sm.Rs(s,t)}Ls(e){return eN.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var t=this;return(0,Ne.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.no(e.batchId,e.state,e.error);lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const i=t?this.Ss.insert(e,t):this.Ss.remove(e),s=this.ks(this.Ss),r=this.ks(i),o=[],a=[];return r.forEach(c=>{s.has(c)||o.push(c)}),s.forEach(c=>{r.has(c)||a.push(c)}),this.syncEngine.io(o,a).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=EP();return e.forEach((i,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class _oe{constructor(){this.so=new tN,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tN,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class f5t{_o(e){}shutdown(){}}class yoe{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let KC=null;function iN(){return null===KC?KC=268435456+Math.round(2147483648*Math.random()):KC++,"0x"+KC.toString(16)}const h5t={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p5t{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Mr="WebChannelConnection";class m5t extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${s}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Fo(){return!1}Mo(t,i,s,r,o){const a=iN(),c=this.xo(t,i.toUriEncodedString());lt("RestConnection",`Sending RPC '${t}' ${a}:`,c,s);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,r,o),this.No(t,c,l,s).then(u=>(lt("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw yo("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",c,"request:",s),u})}Lo(t,i,s,r,o,a){return this.Mo(t,i,s,r,o)}Oo(t,i,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+i7,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>t[o]=r),s&&s.headers.forEach((r,o)=>t[o]=r)}xo(t,i){return`${this.Do}/v1/${i}:${h5t[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,s){const r=iN();return new Promise((o,a)=>{const c=new Gse;c.setWithCredentials(!0),c.listenOnce(Wse.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case gC.NO_ERROR:const u=c.getResponseJson();lt(Mr,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(u)),o(u);break;case gC.TIMEOUT:lt(Mr,`RPC '${e}' ${r} timed out`),a(new et(ve.DEADLINE_EXCEEDED,"Request time out"));break;case gC.HTTP_ERROR:const d=c.getStatus();if(lt(Mr,`RPC '${e}' ${r} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h?.error;if(m&&m.status&&m.message){const _=function(v){const M=v.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(M)>=0?M:ve.UNKNOWN}(m.status);a(new et(_,m.message))}else a(new et(ve.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new et(ve.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{lt(Mr,`RPC '${e}' ${r} completed.`)}});const l=JSON.stringify(s);lt(Mr,`RPC '${e}' ${r} sending request:`,s),c.send(t,"POST",l,i,15)})}Bo(e,t,i){const s=iN(),r=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xse(),a=Kse(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new $se({})),this.Oo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const u=r.join("");lt(Mr,`Creating RPC '${e}' stream ${s}: ${u}`,c);const d=o.createWebChannel(u,c);let h=!1,m=!1;const _=new p5t({Io:v=>{m?lt(Mr,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(h||(lt(Mr,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),lt(Mr,`RPC '${e}' stream ${s} sending:`,v),d.send(v))},To:()=>d.close()}),b=(v,M,E)=>{v.listen(M,T=>{try{E(T)}catch(S){setTimeout(()=>{throw S},0)}})};return b(d,Ip.EventType.OPEN,()=>{m||(lt(Mr,`RPC '${e}' stream ${s} transport opened.`),_.yo())}),b(d,Ip.EventType.CLOSE,()=>{m||(m=!0,lt(Mr,`RPC '${e}' stream ${s} transport closed`),_.So())}),b(d,Ip.EventType.ERROR,v=>{m||(m=!0,yo(Mr,`RPC '${e}' stream ${s} transport errored:`,v),_.So(new et(ve.UNAVAILABLE,"The operation could not be completed")))}),b(d,Ip.EventType.MESSAGE,v=>{var M;if(!m){const E=v.data[0];bn(!!E);const S=E.error||(null===(M=E[0])||void 0===M?void 0:M.error);if(S){lt(Mr,`RPC '${e}' stream ${s} received error:`,S);const O=S.status;let F=function(L){const I=t2[L];if(void 0!==I)return lre(I)}(O),N=S.message;void 0===F&&(F=ve.INTERNAL,N="Unknown error status: "+O+" with message "+S.message),m=!0,_.So(new et(F,N)),d.close()}else lt(Mr,`RPC '${e}' stream ${s} received:`,E),_.bo(E)}}),b(a,qse.STAT_EVENT,v=>{v.stat===cP.PROXY?lt(Mr,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===cP.NOPROXY&&lt(Mr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function voe(){return typeof window<"u"?window:null}function XC(){return typeof document<"u"?document:null}function rm(n){return new x8t(n,!0)}class sN{constructor(e,t,i=1e3,s=1.5,r=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=s,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-i);s>0&&lt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Moe{constructor(e,t,i,s,r,o,a,c){this.ui=e,this.Ho=i,this.Jo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sN(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,Ne.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,Ne.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var i=this;return(0,Ne.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==e?i.t_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(Hs(t.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):t&&t.code===ve.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Yo===t&&this.P_(i,s)},i=>{e(()=>{const s=new et(ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(s)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{i(()=>this.I_(s))}),this.stream.onMessage(s=>{i(()=>1==++this.e_?this.E_(s):this.onNext(s))})}i_(){var e=this;this.state=5,this.t_.Go((0,Ne.A)(function*(){e.state=0,e.start()}))}I_(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g5t extends Moe{constructor(e,t,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,o),this.serializer=r}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function T8t(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:nn(),s=e.targetChange.targetIds||[],r=function(l,u){return l.useProto3Json?(bn(void 0===u||"string"==typeof u),Ss.fromBase64String(u||"")):(bn(void 0===u||u instanceof Buffer||u instanceof Uint8Array),Ss.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?ve.UNKNOWN:lre(l.code);return new et(u,l.message||"")}(o);t=new pre(i,s,r,a||null)}else if("documentChange"in e){const i=e.documentChange,s=p3(n,i.document.name),r=js(i.document.updateTime),o=i.document.createTime?js(i.document.createTime):An.min(),a=new q2({mapValue:{fields:i.document.fields}}),c=ns.newFoundDocument(s,r,o,a);t=new NC(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,s=p3(n,i.document),r=i.readTime?js(i.readTime):An.min(),o=ns.newNoDocument(s,r);t=new NC([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,s=p3(n,i.document);t=new NC([],i.removedTargetIds||[],s,null)}else{if(!("filter"in e))return nn();{const i=e.filter,{count:s=0,unchangedNames:r}=i,o=new _8t(s,r);t=new hre(i.targetId,o)}}var l;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return An.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?An.min():o.readTime?js(o.readTime):An.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=DP(this.serializer),t.addTarget=function(r,o){let a;const c=o.target;if(a=TC(c)?{documents:wre(r,c)}:{query:DC(r,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yre(r,o.resumeToken);const l=zP(r,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(An.min())>0){a.readTime=y7(r,o.snapshotVersion.toTimestamp());const l=zP(r,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const i=function A8t(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=DP(this.serializer),t.removeTarget=e,this.a_(t)}}class _5t extends Moe{constructor(e,t,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,o),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return bn(!!e.streamToken),this.lastStreamToken=e.streamToken,bn(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function S8t(n,e){return n&&n.length>0?(bn(void 0!==e),n.map(t=>function(s,r){let o=js(s.updateTime?s.updateTime:r);return o.isEqual(An.min())&&(o=js(r)),new p8t(o,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=js(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=DP(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Zp(this.serializer,i))};this.a_(t)}}class y5t extends class{}{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new et(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Mo(e,NP(t,i),s,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new et(ve.UNKNOWN,r.toString())})}Lo(e,t,i,s,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,NP(t,i),s,o,a,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(ve.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class v5t{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hs(t),this.D_=!1):lt("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class M5t{constructor(e,t,i,s,r){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(a=>{i.enqueueAndForget((0,Ne.A)(function*(){var c;ll(o)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,Ne.A)(function*(u){const d=zt(u);d.L_.add(4),yield T7(d),d.q_.set("Unknown"),d.L_.delete(4),yield om(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.q_=new v5t(i,s)}}function om(n){return rN.apply(this,arguments)}function rN(){return(rN=(0,Ne.A)(function*(n){if(ll(n))for(const e of n.B_)yield e(!0)})).apply(this,arguments)}function T7(n){return oN.apply(this,arguments)}function oN(){return(oN=(0,Ne.A)(function*(n){for(const e of n.B_)yield e(!1)})).apply(this,arguments)}function YC(n,e){const t=zt(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),lN(t)?cN(t):L7(t).r_()&&aN(t,e))}function S7(n,e){const t=zt(n),i=L7(t);t.N_.delete(e),i.r_()&&Coe(t,e),0===t.N_.size&&(i.r_()?i.o_():ll(t)&&t.q_.set("Unknown"))}function aN(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(An.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}L7(n).A_(e)}function Coe(n,e){n.Q_.xe(e),L7(n).R_(e)}function cN(n){n.Q_=new v8t({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),L7(n).start(),n.q_.v_()}function lN(n){return ll(n)&&!L7(n).n_()&&n.N_.size>0}function ll(n){return 0===zt(n).L_.size}function boe(n){n.Q_=void 0}function C5t(n){return uN.apply(this,arguments)}function uN(){return(uN=(0,Ne.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function b5t(n){return dN.apply(this,arguments)}function dN(){return(dN=(0,Ne.A)(function*(n){n.N_.forEach((e,t)=>{aN(n,e)})})).apply(this,arguments)}function x5t(n,e){return fN.apply(this,arguments)}function fN(){return(fN=(0,Ne.A)(function*(n,e){boe(n),lN(n)?(n.q_.M_(e),cN(n)):n.q_.set("Unknown")})).apply(this,arguments)}function E5t(n,e,t){return hN.apply(this,arguments)}function hN(){return hN=(0,Ne.A)(function*(n,e,t){if(n.q_.set("Online"),e instanceof pre&&2===e.state&&e.cause)try{yield(i=(0,Ne.A)(function*(r,o){const a=o.cause;for(const c of o.targetIds)r.N_.has(c)&&(yield r.remoteSyncer.rejectListen(c,a),r.N_.delete(c),r.Q_.removeTarget(c))}),function s(r,o){return i.apply(this,arguments)})(n,e)}catch(i){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ZC(n,i)}else if(e instanceof NC?n.Q_.Ke(e):e instanceof hre?n.Q_.He(e):n.Q_.We(e),!t.isEqual(An.min()))try{const i=yield uoe(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const a=r.Q_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=r.N_.get(l);u&&r.N_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=r.N_.get(c);if(!u)return;r.N_.set(c,u.withResumeToken(Ss.EMPTY_BYTE_STRING,u.snapshotVersion)),Coe(r,c);const d=new L0(u.target,c,l,u.sequenceNumber);aN(r,d)}),r.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){lt("RemoteStore","Failed to raise snapshot:",i),yield ZC(n,i)}var i}),hN.apply(this,arguments)}function ZC(n,e,t){return pN.apply(this,arguments)}function pN(){return(pN=(0,Ne.A)(function*(n,e,t){if(!Q4(e))throw e;n.L_.add(1),yield T7(n),n.q_.set("Offline"),t||(t=()=>uoe(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.A)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield om(n)}))})).apply(this,arguments)}function xoe(n,e){return e().catch(t=>ZC(n,t,e))}function A7(n){return mN.apply(this,arguments)}function mN(){return(mN=(0,Ne.A)(function*(n){const e=zt(n),t=ul(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;w5t(e);)try{const s=yield l5t(e.localStore,i);if(null===s){0===e.O_.length&&t.o_();break}i=s.batchId,T5t(e,s)}catch(s){yield ZC(e,s)}Eoe(e)&&woe(e)})).apply(this,arguments)}function w5t(n){return ll(n)&&n.O_.length<10}function T5t(n,e){n.O_.push(e);const t=ul(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Eoe(n){return ll(n)&&!ul(n).n_()&&n.O_.length>0}function woe(n){ul(n).start()}function S5t(n){return gN.apply(this,arguments)}function gN(){return(gN=(0,Ne.A)(function*(n){ul(n).p_()})).apply(this,arguments)}function A5t(n){return _N.apply(this,arguments)}function _N(){return(_N=(0,Ne.A)(function*(n){const e=ul(n);for(const t of n.O_)e.m_(t.mutations)})).apply(this,arguments)}function L5t(n,e,t){return yN.apply(this,arguments)}function yN(){return(yN=(0,Ne.A)(function*(n,e,t){const i=n.O_.shift(),s=AP.from(i,e,t);yield xoe(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield A7(n)})).apply(this,arguments)}function I5t(n,e){return vN.apply(this,arguments)}function vN(){return vN=(0,Ne.A)(function*(n,e){var t;e&&ul(n).V_&&(yield(t=(0,Ne.A)(function*(s,r){if(cre(a=r.code)&&a!==ve.ABORTED){const o=s.O_.shift();ul(s).s_(),yield xoe(s,()=>s.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield A7(s)}var a}),function i(s,r){return t.apply(this,arguments)})(n,e)),Eoe(n)&&woe(n)}),vN.apply(this,arguments)}function Toe(n,e){return MN.apply(this,arguments)}function MN(){return(MN=(0,Ne.A)(function*(n,e){const t=zt(n);t.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const i=ll(t);t.L_.add(3),yield T7(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield om(t)})).apply(this,arguments)}function CN(n,e){return bN.apply(this,arguments)}function bN(){return(bN=(0,Ne.A)(function*(n,e){const t=zt(n);e?(t.L_.delete(2),yield om(t)):e||(t.L_.add(2),yield T7(t),t.q_.set("Unknown"))})).apply(this,arguments)}function L7(n){return n.K_||(n.K_=function(t,i,s){const r=zt(t);return r.w_(),new g5t(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{Eo:C5t.bind(null,n),Ro:b5t.bind(null,n),mo:x5t.bind(null,n),d_:E5t.bind(null,n)}),n.B_.push(function(){var e=(0,Ne.A)(function*(t){t?(n.K_.s_(),lN(n)?cN(n):n.q_.set("Unknown")):(yield n.K_.stop(),boe(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function ul(n){return n.U_||(n.U_=function(t,i,s){const r=zt(t);return r.w_(),new _5t(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:S5t.bind(null,n),mo:I5t.bind(null,n),f_:A5t.bind(null,n),g_:L5t.bind(null,n)}),n.B_.push(function(){var e=(0,Ne.A)(function*(t){t?(n.U_.s_(),yield A7(n)):(yield n.U_.stop(),n.O_.length>0&&(lt("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class xN{constructor(e,t,i,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new m2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,r){const o=Date.now()+i,a=new xN(e,t,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I7(n,e){if(Hs("AsyncQueue",`${e}: ${n}`),Q4(n))return new et(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class z7{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Rt.comparator(t.key,i.key):(t,i)=>Rt.comparator(t.key,i.key),this.keyedMap=jp(),this.sortedSet=new Yi(this.comparator)}static emptySet(e){return new z7(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof z7)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new z7;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Soe{constructor(){this.W_=new Yi(Rt.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?0!==e.type&&3===i.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==i.type?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.W_=this.W_.remove(t):1===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):nn():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class P7{constructor(e,t,i,s,r,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,s,r){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new P7(e,t,z7.emptySet(t),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}class z5t{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class P5t{constructor(){this.queries=Aoe(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,i){const s=zt(t),r=s.queries;s.queries=Aoe(),r.forEach((o,a)=>{for(const c of a.j_)c.onError(i)})}(this,new et(ve.ABORTED,"Firestore shutting down"))}}function Aoe(){return new S0(n=>j2e(n),Bp)}function EN(n,e){return wN.apply(this,arguments)}function wN(){return(wN=(0,Ne.A)(function*(n,e){const t=zt(n);let i=3;const s=e.query;let r=t.queries.get(s);r?!r.H_()&&e.J_()&&(i=2):(r=new z5t,i=e.J_()?0:1);try{switch(i){case 0:r.z_=yield t.onListen(s,!0);break;case 1:r.z_=yield t.onListen(s,!1);break;case 2:yield t.onFirstRemoteStoreListen(s)}}catch(o){const a=I7(o,`Initialization of query '${h7(e.query)}' failed`);return void e.onError(a)}t.queries.set(s,r),r.j_.push(e),e.Z_(t.onlineState),r.z_&&e.X_(r.z_)&&AN(t)})).apply(this,arguments)}function TN(n,e){return SN.apply(this,arguments)}function SN(){return(SN=(0,Ne.A)(function*(n,e){const t=zt(n),i=e.query;let s=3;const r=t.queries.get(i);if(r){const o=r.j_.indexOf(e);o>=0&&(r.j_.splice(o,1),0===r.j_.length?s=e.J_()?0:1:!r.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function N5t(n,e){const t=zt(n);let i=!1;for(const s of e){const o=t.queries.get(s.query);if(o){for(const a of o.j_)a.X_(s)&&(i=!0);o.z_=s}}i&&AN(t)}function D5t(n,e,t){const i=zt(n),s=i.queries.get(e);if(s)for(const r of s.j_)r.onError(t);i.queries.delete(e)}function AN(n){n.Y_.forEach(e=>{e.next()})}var LN,Loe;(Loe=LN||(LN={})).ea="default",Loe.Cache="cache";class IN{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)3!==s.type&&i.push(s);e=new P7(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=P7.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==LN.Cache}}class R5t{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class Ioe{constructor(e){this.serializer=e}Es(e){return p3(this.serializer,e)}ds(e){return e.metadata.exists?Ere(this.serializer,e.document,!1):ns.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return js(e)}}class O5t{constructor(e,t,i){this.ca=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zoe(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const i=H1.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,i=new Ioe(this.serializer);for(const s of e)if(s.metadata.queries){const r=i.Es(s.metadata.name);for(const o of s.metadata.queries){const a=(t.get(o)||x1()).add(r);t.set(o,a)}}return t}complete(){var e=this;return(0,Ne.A)(function*(){const t=yield function u5t(n,e,t,i){return ZP.apply(this,arguments)}(e.localStore,new Ioe(e.serializer),e.documents,e.ca.id),i=e.ha(e.documents);for(const s of e.queries)yield d5t(e.localStore,s,i.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:t}})()}}function zoe(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Poe{constructor(e){this.key=e}}class Noe{constructor(e){this.key=e}}class Doe{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=x1(),this.mutatedKeys=x1(),this.Aa=$2e(e),this.Ra=new z7(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new Soe,s=t?t.Ra:this.Ra;let r=t?t.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,l="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),m=Hp(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?_!==b&&(i.track({type:3,doc:m}),v=!0):this.ga(h,m)||(i.track({type:2,doc:m}),v=!0,(c&&this.Aa(m,c)>0||l&&this.Aa(m,l)<0)&&(a=!0)):!h&&m?(i.track({type:0,doc:m}),v=!0):h&&!m&&(i.track({type:1,doc:h}),v=!0,(c||l)&&(a=!0)),v&&(m?(o=o.add(m),r=b?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{Ra:o,fa:i,ns:a,mutatedKeys:r}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const r=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(m,_){const b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return b(m)-b(_)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(i),s=null!=s&&s;const a=t&&!s?this.ya():[],c=0===this.da.size&&this.current&&!s?1:0,l=c!==this.Ea;return this.Ea=c,0!==o.length||l?{snapshot:new P7(this.query,e.Ra,r,o,e.mutatedKeys,0===c,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Soe,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=x1(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new Noe(i))}),this.da.forEach(i=>{e.has(i)||t.push(new Poe(i))}),t}ba(e){this.Ta=e.Ts,this.da=x1();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return P7.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class k5t{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class F5t{constructor(e){this.key=e,this.va=!1}}class V5t{constructor(e,t,i,s,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new S0(a=>j2e(a),Bp),this.Ma=new Map,this.xa=new Set,this.Oa=new Yi(Rt.comparator),this.Na=new Map,this.La=new jP,this.Ba={},this.ka=new Map,this.qa=z8.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function U5t(n,e){return zN.apply(this,arguments)}function zN(){return(zN=(0,Ne.A)(function*(n,e,t=!0){const i=QC(n);let s;const r=i.Fa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Da()):s=yield Roe(i,e,t,!0),s})).apply(this,arguments)}function B5t(n,e){return PN.apply(this,arguments)}function PN(){return(PN=(0,Ne.A)(function*(n,e){const t=QC(n);yield Roe(t,e,!0,!1)})).apply(this,arguments)}function Roe(n,e,t,i){return NN.apply(this,arguments)}function NN(){return(NN=(0,Ne.A)(function*(n,e,t,i){const s=yield E7(n.localStore,yr(e)),r=s.targetId,o=t?n.sharedClientState.addLocalQueryTarget(r):"not-current";let a;return i&&(a=yield DN(n,e,r,"current"===o,s.resumeToken)),n.isPrimaryClient&&t&&YC(n.remoteStore,s),a})).apply(this,arguments)}function DN(n,e,t,i,s){return RN.apply(this,arguments)}function RN(){return RN=(0,Ne.A)(function*(n,e,t,i,s){n.Ka=(d,h,m)=>{return(_=(0,Ne.A)(function*(v,M,E,T){let S=M.view.ma(E);S.ns&&(S=yield $C(v.localStore,M.query,!1).then(({documents:z})=>M.view.ma(z,S)));const O=T&&T.targetChanges.get(M.targetId),F=T&&null!=T.targetMismatches.get(M.targetId),N=M.view.applyChanges(S,v.isPrimaryClient,O,F);return WN(v,M.targetId,N.wa),N.snapshot}),function b(v,M,E,T){return _.apply(this,arguments)})(n,d,h,m);var _};const r=yield $C(n.localStore,e,!0),o=new Doe(e,r.Ts),a=o.ma(r.documents),c=Xp.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,s),l=o.applyChanges(a,n.isPrimaryClient,c);WN(n,t,l.wa);const u=new k5t(e,t,o);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot}),RN.apply(this,arguments)}function H5t(n,e,t){return ON.apply(this,arguments)}function ON(){return(ON=(0,Ne.A)(function*(n,e,t){const i=zt(n),s=i.Fa.get(e),r=i.Ma.get(s.targetId);if(r.length>1)return i.Ma.set(s.targetId,r.filter(o=>!Bp(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||(yield w7(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&S7(i.remoteStore,s.targetId),N7(i,s.targetId)}).catch(Z4))):(N7(i,s.targetId),yield w7(i.localStore,s.targetId,!0))})).apply(this,arguments)}function j5t(n,e){return kN.apply(this,arguments)}function kN(){return(kN=(0,Ne.A)(function*(n,e){const t=zt(n),i=t.Fa.get(e),s=t.Ma.get(i.targetId);t.isPrimaryClient&&1===s.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),S7(t.remoteStore,i.targetId))})).apply(this,arguments)}function FN(){return(FN=(0,Ne.A)(function*(n,e,t){const i=iD(n);try{const s=yield function(o,a){const c=zt(o),l=us.now(),u=a.reduce((m,_)=>m.add(_.key),x1());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=Mo(),b=x1();return c.cs.getEntries(m,u).next(v=>{_=v,_.forEach((M,E)=>{E.isValidDocument()||(b=b.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,_)).next(v=>{d=v;const M=[];for(const E of a){const T=g8t(E,d.get(E.key).overlayedDocument);null!=T&&M.push(new A0(E.key,T,S2e(T.value.mapValue),fs.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,M,a)}).next(v=>{h=v;const M=v.applyToLocalDocumentSet(d,b);return c.documentOverlayCache.saveOverlays(m,v.batchId,M)})}).then(()=>({batchId:h.batchId,changes:q2e(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Ba[o.currentUser.toKey()];l||(l=new Yi(s1)),l=l.insert(a,c),o.Ba[o.currentUser.toKey()]=l}(i,s.batchId,t),yield I0(i,s.changes),yield A7(i.remoteStore)}catch(s){const r=I7(s,"Failed to persist write");t.reject(r)}})).apply(this,arguments)}function Ooe(n,e){return VN.apply(this,arguments)}function VN(){return(VN=(0,Ne.A)(function*(n,e){const t=zt(n);try{const i=yield function c5t(n,e){const t=zt(n),i=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const a=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;a.push(t.Ur.removeMatchingKeys(r,u.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(r,u.addedDocuments,d)));let m=h.withSequenceNumber(r.currentSequenceNumber);var b,v,M;null!==e.targetMismatches.get(d)?m=m.withResumeToken(Ss.EMPTY_BYTE_STRING,An.min()).withLastLimboFreeSnapshotVersion(An.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,i)),s=s.insert(d,m),v=m,M=u,(0===(b=h).resumeToken.approximateByteSize()||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(r,m))});let c=Mo(),l=x1();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(doe(r,o,e.documentUpdates).next(u=>{c=u.Ps,l=u.Is})),!i.isEqual(An.min())){const u=t.Ur.getLastRemoteSnapshotVersion(r).next(d=>t.Ur.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return de.waitFor(a).next(()=>o.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,c,l)).next(()=>c)}).then(r=>(t.os=s,r))}(t.localStore,e);e.targetChanges.forEach((s,r)=>{const o=t.Na.get(r);o&&(bn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?bn(o.va):s.removedDocuments.size>0&&(bn(o.va),o.va=!1))}),yield I0(t,i,e)}catch(i){yield Z4(i)}})).apply(this,arguments)}function koe(n,e,t){const i=zt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const s=[];i.Fa.forEach((r,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=zt(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const h of d.j_)h.Z_(a)&&(l=!0)}),l&&AN(c)}(i.eventManager,e),s.length&&i.Ca.d_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function $5t(n,e,t){return UN.apply(this,arguments)}function UN(){return(UN=(0,Ne.A)(function*(n,e,t){const i=zt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Na.get(e),r=s&&s.key;if(r){let o=new Yi(Rt.comparator);o=o.insert(r,ns.newNoDocument(r,An.min()));const a=x1().add(r),c=new Kp(An.min(),new Map,new Yi(s1),o,a);yield Ooe(i,c),i.Oa=i.Oa.remove(r),i.Na.delete(e),qN(i)}else yield w7(i.localStore,e,!1).then(()=>N7(i,e,t)).catch(Z4)})).apply(this,arguments)}function W5t(n,e){return BN.apply(this,arguments)}function BN(){return(BN=(0,Ne.A)(function*(n,e){const t=zt(n),i=e.batch.batchId;try{const s=yield function a5t(n,e){const t=zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,h=d.keys();let m=de.resolve();return h.forEach(_=>{m=m.next(()=>u.getEntry(c,_)).next(b=>{const v=l.docVersions.get(_);bn(null!==v),b.version.compareTo(v)<0&&(d.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),u.addEntry(b)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(t,i,e,r).next(()=>r.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=x1();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}(t.localStore,e);$N(t,i,null),GN(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield I0(t,s)}catch(s){yield Z4(s)}})).apply(this,arguments)}function q5t(n,e,t){return HN.apply(this,arguments)}function HN(){return(HN=(0,Ne.A)(function*(n,e,t){const i=zt(n);try{const s=yield function(o,a){const c=zt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(bn(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);$N(i,e,t),GN(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield I0(i,s)}catch(s){yield Z4(s)}})).apply(this,arguments)}function jN(){return(jN=(0,Ne.A)(function*(n,e){const t=zt(n);ll(t.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=zt(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const s=t.ka.get(i)||[];s.push(e),t.ka.set(i,s)}catch(i){const s=I7(i,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}})).apply(this,arguments)}function GN(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function $N(n,e,t){const i=zt(n);let s=i.Ba[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),i.Ba[i.currentUser.toKey()]=s}}function N7(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||Foe(n,i)})}function Foe(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(S7(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),qN(n))}function WN(n,e,t){for(const i of t)i instanceof Poe?(n.La.addReference(i.key,e),X5t(n,i)):i instanceof Noe?(lt("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||Foe(n,i.key)):nn()}function X5t(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(lt("SyncEngine","New document in limbo: "+t),n.xa.add(i),qN(n))}function qN(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Rt(H1.fromString(e)),i=n.qa.next();n.Na.set(i,new F5t(t)),n.Oa=n.Oa.insert(t,i),YC(n.remoteStore,new L0(yr(d7(t.path)),i,"TargetPurposeLimboResolution",na.oe))}}function I0(n,e,t){return KN.apply(this,arguments)}function KN(){return KN=(0,Ne.A)(function*(n,e,t){const i=zt(n),s=[],r=[],o=[];var a;i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{o.push(i.Ka(c,e,t).then(l=>{var u;if((l||t)&&i.isPrimaryClient){const d=l?!l.fromCache:null===(u=t?.targetChanges.get(c.targetId))||void 0===u?void 0:u.current;i.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){s.push(l);const d=KP.Wi(c.targetId,l);r.push(d)}}))}),yield Promise.all(o),i.Ca.d_(s),yield(a=(0,Ne.A)(function*(l,u){const d=zt(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>de.forEach(u,m=>de.forEach(m.$i,_=>d.persistence.referenceDelegate.addReference(h,m.targetId,_)).next(()=>de.forEach(m.Ui,_=>d.persistence.referenceDelegate.removeReference(h,m.targetId,_)))))}catch(h){if(!Q4(h))throw h;lt("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const _=d.os.get(m),v=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);d.os=d.os.insert(m,v)}}}),function c(l,u){return a.apply(this,arguments)})(i.localStore,r))}),KN.apply(this,arguments)}function Y5t(n,e){return XN.apply(this,arguments)}function XN(){return(XN=(0,Ne.A)(function*(n,e){const t=zt(n);if(!t.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const i=yield loe(t.localStore,e);t.currentUser=e,(r=t).ka.forEach(a=>{a.forEach(c=>{c.reject(new et(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ka.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield I0(t,i.hs)}var r})).apply(this,arguments)}function Z5t(n,e){const t=zt(n),i=t.Na.get(e);if(i&&i.va)return x1().add(i.key);{let s=x1();const r=t.Ma.get(e);if(!r)return s;for(const o of r){const a=t.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function Q5t(n,e){return YN.apply(this,arguments)}function YN(){return(YN=(0,Ne.A)(function*(n,e){const t=zt(n),i=yield $C(t.localStore,e.query,!0),s=e.view.ba(i);return t.isPrimaryClient&&WN(t,e.targetId,s.wa),s})).apply(this,arguments)}function J5t(n,e){return ZN.apply(this,arguments)}function ZN(){return(ZN=(0,Ne.A)(function*(n,e){const t=zt(n);return hoe(t.localStore,e).then(i=>I0(t,i))})).apply(this,arguments)}function eut(n,e,t,i){return QN.apply(this,arguments)}function QN(){return(QN=(0,Ne.A)(function*(n,e,t,i){const s=zt(n),r=yield function(a,c){const l=zt(a),u=zt(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.Mn(d,c).next(h=>h?l.localDocuments.getDocuments(d,h):de.resolve(null)))}(s.localStore,e);var c;null!==r?("pending"===t?yield A7(s.remoteStore):"acknowledged"===t||"rejected"===t?($N(s,e,i||null),GN(s,e),c=e,zt(zt(s.localStore).mutationQueue).On(c)):nn(),yield I0(s,r)):lt("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function JN(){return(JN=(0,Ne.A)(function*(n,e){const t=zt(n);if(QC(t),iD(t),!0===e&&!0!==t.Qa){const i=t.sharedClientState.getAllActiveQueryTargets(),s=yield Voe(t,i.toArray());t.Qa=!0,yield CN(t.remoteStore,!0);for(const r of s)YC(t.remoteStore,r)}else if(!1===e&&!1!==t.Qa){const i=[];let s=Promise.resolve();t.Ma.forEach((r,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):s=s.then(()=>(N7(t,o),w7(t.localStore,o,!0))),S7(t.remoteStore,o)}),yield s,yield Voe(t,i),function(o){const a=zt(o);a.Na.forEach((c,l)=>{S7(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new Yi(Rt.comparator)}(t),t.Qa=!1,yield CN(t.remoteStore,!1)}})).apply(this,arguments)}function Voe(n,e,t){return eD.apply(this,arguments)}function eD(){return(eD=(0,Ne.A)(function*(n,e,t){const i=zt(n),s=[],r=[];for(const o of e){let a;const c=i.Ma.get(o);if(c&&0!==c.length){a=yield E7(i.localStore,yr(c[0]));for(const l of c){const u=i.Fa.get(l),d=yield Q5t(i,u);d.snapshot&&r.push(d.snapshot)}}else{const l=yield foe(i.localStore,o);a=yield E7(i.localStore,l),yield DN(i,Uoe(l),o,!1,a.resumeToken)}s.push(a)}return i.Ca.d_(r),s})).apply(this,arguments)}function Uoe(n){return V2e(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function nut(n){return t=zt(n).localStore,zt(zt(t).persistence).Qi();var t}function iut(n,e,t,i){return tD.apply(this,arguments)}function tD(){return(tD=(0,Ne.A)(function*(n,e,t,i){const s=zt(n);if(s.Qa)return void lt("SyncEngine","Ignoring unexpected query state notification.");const r=s.Ma.get(e);if(r&&r.length>0)switch(t){case"current":case"not-current":{const o=yield hoe(s.localStore,G2e(r[0])),a=Kp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ss.EMPTY_BYTE_STRING);yield I0(s,o,a);break}case"rejected":yield w7(s.localStore,e,!0),N7(s,e,i);break;default:nn()}})).apply(this,arguments)}function sut(n,e,t){return nD.apply(this,arguments)}function nD(){return(nD=(0,Ne.A)(function*(n,e,t){const i=QC(n);if(i.Qa){for(const s of e){if(i.Ma.has(s)&&i.sharedClientState.isActiveQueryTarget(s)){lt("SyncEngine","Adding an already active target "+s);continue}const r=yield foe(i.localStore,s),o=yield E7(i.localStore,r);yield DN(i,Uoe(r),o.targetId,!1,o.resumeToken),YC(i.remoteStore,o)}for(const s of t)i.Ma.has(s)&&(yield w7(i.localStore,s,!1).then(()=>{S7(i.remoteStore,s),N7(i,s)}).catch(Z4))}})).apply(this,arguments)}function QC(n){const e=zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ooe.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z5t.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$5t.bind(null,e),e.Ca.d_=N5t.bind(null,e.eventManager),e.Ca.$a=D5t.bind(null,e.eventManager),e}function iD(n){const e=zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W5t.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q5t.bind(null,e),e}class D7{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.A)(function*(){t.serializer=rm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return coe(this.persistence,new aoe,e.initialUser,this.serializer)}createPersistence(e){return new GP(HC.Zr,this.serializer)}createSharedClientState(e){return new _oe}terminate(){var e=this;return(0,Ne.A)(function*(){var t,i;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sD extends D7{constructor(e,t,i){super(),this.Wa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ne.A)(function*(){yield t().call(i,e),yield i.Wa.initialize(i,e),yield iD(i.Wa.syncEngine),yield A7(i.Wa.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return coe(this.persistence,new aoe,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Qre(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new S6t(t,this.persistence);return new T6t(e.asyncQueue,i)}createPersistence(e){const t=qP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new WP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,voe(),XC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _oe}}class Boe extends sD{constructor(e,t){super(e,t,!1),this.Wa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ne.A)(function*(){yield t().call(i,e);const s=i.Wa.syncEngine;i.sharedClientState instanceof nN&&(i.sharedClientState.syncEngine={no:eut.bind(null,s),ro:iut.bind(null,s),io:sut.bind(null,s),Qi:nut.bind(null,s),eo:J5t.bind(null,s)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var r=(0,Ne.A)(function*(o){yield function tut(n,e){return JN.apply(this,arguments)}(i.Wa.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return r.apply(this,arguments)}}())})()}createSharedClientState(e){const t=voe();if(!nN.D(t))throw new et(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=qP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nN(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class R7{initialize(e,t){var i=this;return(0,Ne.A)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>koe(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=Y5t.bind(null,i.syncEngine),yield CN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new P5t}createDatastore(e){const t=rm(e.databaseInfo.databaseId),i=new m5t(e.databaseInfo);return new y5t(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,s=this.datastore,r=e.asyncQueue,o=t=>koe(this.syncEngine,t,0),a=yoe.D()?new yoe:new f5t,new M5t(i,s,r,o,a);var i,s,r,o,a}createSyncEngine(e,t){return function(s,r,o,a,c,l,u){const d=new V5t(s,r,o,a,c,l);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,Ne.A)(function*(){var t,i,s;yield(s=(0,Ne.A)(function*(o){const a=zt(o);lt("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield T7(a),a.k_.shutdown(),a.q_.set("Unknown")}),function r(o){return s.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate(),null===(i=e.eventManager)||void 0===i||i.terminate()})()}}function Hoe(n,e=10240){let t=0;return{read:()=>(0,Ne.A)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ne.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class JC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Hs("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class aut{constructor(e,t){this.ja=e,this.serializer=t,this.metadata=new m2,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.ja.cancel()}getMetadata(){var e=this;return(0,Ne.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,Ne.A)(function*(){return yield e.getMetadata(),e.Ja()})()}Ja(){var e=this;return(0,Ne.A)(function*(){const t=yield e.Ya();if(null===t)return null;const i=e.Ha.decode(t),s=Number(i);isNaN(s)&&e.Za(`length string (${i}) is not valid number`);const r=yield e.Xa(s);return new R5t(JSON.parse(r),t.length+s)})()}eu(){return this.buffer.findIndex(e=>123===e)}Ya(){var e=this;return(0,Ne.A)(function*(){for(;e.eu()<0&&!(yield e.tu()););if(0===e.buffer.length)return null;const t=e.eu();t<0&&e.Za("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Xa(e){var t=this;return(0,Ne.A)(function*(){for(;t.buffer.length<e;)(yield t.tu())&&t.Za("Reached the end of bundle when more is expected.");const i=t.Ha.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){var e=this;return(0,Ne.A)(function*(){const t=yield e.ja.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class cut{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new et(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const i=yield(s=(0,Ne.A)(function*(o,a){const c=zt(o),l={documents:a.map(m=>Yp(c.serializer,m))},u=yield c.Lo("BatchGetDocuments",c.serializer.databaseId,H1.emptyPath(),l,a.length),d=new Map;u.forEach(m=>{const _=function w8t(n,e){return"found"in e?function(i,s){bn(!!s.found);const r=p3(i,s.found.name),o=js(s.found.updateTime),a=s.found.createTime?js(s.found.createTime):An.min(),c=new q2({mapValue:{fields:s.found.fields}});return ns.newFoundDocument(r,o,a,c)}(n,e):"missing"in e?function(i,s){bn(!!s.missing),bn(!!s.readTime);const r=p3(i,s.missing),o=js(s.readTime);return ns.newNoDocument(r,o)}(n,e):nn()}(c.serializer,m);d.set(_.key.toString(),_)});const h=[];return a.forEach(m=>{const _=d.get(m.toString());bn(!!_),h.push(_)}),h}),function r(o,a){return s.apply(this,arguments)})(t.datastore,e);var s;return i.forEach(s=>t.recordVersion(s)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new _7(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,s)=>{const r=Rt.fromPath(s);e.mutations.push(new TP(r,e.precondition(r)))}),yield(i=(0,Ne.A)(function*(r,o){const a=zt(r),c={writes:o.map(l=>Zp(a.serializer,l))};yield a.Mo("Commit",a.serializer.databaseId,H1.emptyPath(),c)}),function s(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nn();t=An.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new et(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(An.min())?fs.exists(!1):fs.updateTime(t):fs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(An.min()))throw new et(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fs.updateTime(t)}return fs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class lut{constructor(e,t,i,s,r){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=s,this.deferred=r,this.nu=i.maxAttempts,this.t_=new sN(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var e=this;this.t_.Go((0,Ne.A)(function*(){const t=new cut(e.datastore),i=e.su(t);i&&i.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(r=>{e.ou(r)}))}).catch(s=>{e.ou(s)})}))}su(e){try{const t=this.updateFunction(e);return!Np(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cre(t)}return!1}}class uut{constructor(e,t,i,s){var r=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=z2.UNAUTHENTICATED,this.clientId=Jse.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,Ne.A)(function*(a){lt("FirestoreClient","Received user=",a.uid),yield r.authCredentialListener(a),r.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(lt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new m2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=I7(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function eb(n,e){return rD.apply(this,arguments)}function rD(){return rD=(0,Ne.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Ne.A)(function*(r){i.isEqual(r)||(yield loe(e.localStore,r),i=r)});return function(r){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),rD.apply(this,arguments)}function oD(n,e){return aD.apply(this,arguments)}function aD(){return(aD=(0,Ne.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cD(n);lt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Toe(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Toe(e.remoteStore,s)),n._onlineComponents=e})).apply(this,arguments)}function joe(n){return"FirebaseError"===n.name?n.code===ve.FAILED_PRECONDITION||n.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function cD(n){return lD.apply(this,arguments)}function lD(){return(lD=(0,Ne.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!joe(t))throw t;yo("Error using user provided cache. Falling back to memory cache: "+t),yield eb(n,new D7)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),yield eb(n,new D7);return n._offlineComponents})).apply(this,arguments)}function tb(n){return uD.apply(this,arguments)}function uD(){return(uD=(0,Ne.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),yield oD(n,n._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),yield oD(n,new R7))),n._onlineComponents})).apply(this,arguments)}function Goe(n){return cD(n).then(e=>e.persistence)}function O7(n){return cD(n).then(e=>e.localStore)}function $oe(n){return tb(n).then(e=>e.remoteStore)}function dD(n){return tb(n).then(e=>e.syncEngine)}function k7(n){return fD.apply(this,arguments)}function fD(){return(fD=(0,Ne.A)(function*(n){const e=yield tb(n),t=e.eventManager;return t.onListen=U5t.bind(null,e.syncEngine),t.onUnlisten=H5t.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=B5t.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=j5t.bind(null,e.syncEngine),t})).apply(this,arguments)}function qoe(n,e,t={}){const i=new m2;return n.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return function(r,o,a,c,l){const u=new JC({next:h=>{o.enqueueAndForget(()=>TN(r,d));const m=h.docs.has(a);!m&&h.fromCache?l.reject(new et(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&"server"===c.source?l.reject(new et(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new IN(d7(a.path),u,{includeMetadataChanges:!0,_a:!0});return EN(r,d)}(yield k7(n),n.asyncQueue,e,t,i)})),i.promise}function Koe(n,e,t={}){const i=new m2;return n.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return function(r,o,a,c,l){const u=new JC({next:h=>{o.enqueueAndForget(()=>TN(r,d)),h.fromCache&&"server"===c.source?l.reject(new et(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new IN(a,u,{includeMetadataChanges:!0,_a:!0});return EN(r,d)}(yield k7(n),n.asyncQueue,e,t,i)})),i.promise}function Xoe(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Yoe=new Map;function hD(n,e,t){if(!t)throw new et(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zoe(n,e,t,i){if(!0===e&&!0===i)throw new et(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qoe(n){if(!Rt.isDocumentKey(n))throw new et(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Joe(n){if(Rt.isDocumentKey(n))throw new et(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":nn()}function I1(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new et(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nb(n);throw new et(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function eae(n,e){if(e<=0)throw new et(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class tae{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new et(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new et(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zoe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xoe(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new et(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new et(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new et(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class am{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tae({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new et(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new et(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tae(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new p6t;switch(i.type){case"firstParty":return new y6t(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new et(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Yoe.get(t);i&&(lt("ComponentProvider","Removing Datastore"),Yoe.delete(t),i.terminate())}(this),Promise.resolve()}}class K2{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new K2(this.firestore,e,this._query)}}class is{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new m3(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new is(this.firestore,e,this._key)}}class m3 extends K2{constructor(e,t,i){super(e,t,d7(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new is(this.firestore,null,new Rt(e))}withConverter(e){return new m3(this.firestore,e,this._path)}}function iae(n,e,...t){if(n=(0,pi.Ku)(n),hD("collection","path",e),n instanceof am){const i=H1.fromString(e,...t);return Joe(i),new m3(n,null,i)}{if(!(n instanceof is||n instanceof m3))throw new et(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(H1.fromString(e,...t));return Joe(i),new m3(n.firestore,null,i)}}function ib(n,e,...t){if(n=(0,pi.Ku)(n),1===arguments.length&&(e=Jse.newId()),hD("doc","path",e),n instanceof am){const i=H1.fromString(e,...t);return Qoe(i),new is(n,null,new Rt(i))}{if(!(n instanceof is||n instanceof m3))throw new et(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(H1.fromString(e,...t));return Qoe(i),new is(n.firestore,n instanceof m3?n.converter:null,new Rt(i))}}function sae(n,e){return n=(0,pi.Ku)(n),e=(0,pi.Ku)(e),(n instanceof is||n instanceof m3)&&(e instanceof is||e instanceof m3)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pD(n,e){return n=(0,pi.Ku)(n),e=(0,pi.Ku)(e),n instanceof K2&&e instanceof K2&&n.firestore===e.firestore&&Bp(n._query,e._query)&&n.converter===e.converter}class xut{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new sN(this,"async_queue_retry"),this.Eu=()=>{const t=XC();t&&lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};const e=XC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=XC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const t=new m2;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){var e=this;return(0,Ne.A)(function*(){if(0!==e.uu.length){try{yield e.uu[0](),e.uu.shift(),e.t_.reset()}catch(t){if(!Q4(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}e.uu.length>0&&e.t_.Go(()=>e.Ru())}})()}Au(e){const t=this.au.then(()=>(this.Pu=!0,e().catch(i=>{throw this.hu=i,this.Pu=!1,Hs("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.Pu=!1,i))));return this.au=t,t}enqueueAfterDelay(e,t,i){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const s=xN.createAndSchedule(this,e,t,i,r=>this.Vu(r));return this.lu.push(s),s}du(){this.hu&&nn()}verifyOperationInProgress(){}mu(){var e=this;return(0,Ne.A)(function*(){let t;do{t=e.au,yield t}while(t!==e.au)})()}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}function mD(n){return function(t){if("object"!=typeof t||null===t)return!1;const s=t;for(const r of["next","error","complete"])if(r in s&&"function"==typeof s[r])return!0;return!1}(n)}class Eut{constructor(){this._progressObserver={},this._taskCompletionResolver=new m2,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ai extends am{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new xut,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rae(this),this._firestoreClient.terminate()}}function hs(n){return n._firestoreClient||rae(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rae(n){var e,t,i;const s=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new X6t(n._databaseId,c,n._persistenceKey,(u=s).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Xoe(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;n._firestoreClient=new uut(n._authCredentials,n._appCheckCredentials,n._queue,r),null!==(t=s.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=s.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function oae(n,e,t){const i=new m2;return n.asyncQueue.enqueue((0,Ne.A)(function*(){try{yield eb(n,t),yield oD(n,e),i.resolve()}catch(s){const r=s;if(!joe(r))throw r;yo("Error enabling indexeddb cache. Falling back to memory cache: "+r),i.reject(r)}})).then(()=>i.promise)}function aae(n){if(n._initialized||n._terminated)throw new et(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class g3{constructor(e){this._byteString=e}static fromBase64String(e){try{return new g3(Ss.fromBase64String(e))}catch(t){throw new et(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new g3(Ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class z0{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new et(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class N8{constructor(e){this._methodName=e}}class sb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return s1(this._lat,e._lat)||s1(this._long,e._long)}}class rb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}const Rut=/^__.*__$/;class Out{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new A0(e,this.data,this.fieldMask,t,this.fieldTransforms):new g7(e,this.data,t,this.fieldTransforms)}}class cae{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new A0(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lae(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class ob{constructor(e,t,i,s,r,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,void 0===r&&this.yu(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new ob(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Su({path:i,Du:!1});return s.vu(e),s}Cu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Su({path:i,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return lb(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(lae(this.wu)&&Rut.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class kut{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||rm(e)}Nu(e,t,i,s=!1){return new ob({wu:e,methodName:t,Ou:i,path:ts.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D8(n){const e=n._freezeSettings(),t=rm(n._databaseId);return new kut(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ab(n,e,t,i,s,r={}){const o=n.Nu(r.merge||r.mergeFields?2:0,e,t,s);bD("Data must be an object, but it was:",o,i);const a=fae(i,o);let c,l;if(r.merge)c=new vo(o.fieldMask),l=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const d of r.mergeFields){const h=um(e,d,t);if(!o.contains(h))throw new et(ve.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);pae(u,h)||u.push(h)}c=new vo(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new Out(new q2(a),c,l)}class lm extends N8{_toFieldTransform(e){if(2!==e.wu)throw e.Mu(1===e.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}function uae(n,e,t){return new ob({wu:3,Ou:e.settings.Ou,methodName:n._methodName,Du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gD extends N8{_toFieldTransform(e){return new $p(e.path,new p7)}isEqual(e){return e instanceof gD}}class _D extends N8{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=uae(this,e,!0),i=this.Lu.map(r=>R8(r,t)),s=new E8(i);return new $p(e.path,s)}isEqual(e){return e instanceof _D&&(0,pi.bD)(this.Lu,e.Lu)}}class yD extends N8{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=uae(this,e,!0),i=this.Lu.map(r=>R8(r,t)),s=new w8(i);return new $p(e.path,s)}isEqual(e){return e instanceof yD&&(0,pi.bD)(this.Lu,e.Lu)}}class vD extends N8{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=new m7(e.serializer,Y2e(e.serializer,this.Bu));return new $p(e.path,t)}isEqual(e){return e instanceof vD&&this.Bu===e.Bu}}function MD(n,e,t,i){const s=n.Nu(1,e,t);bD("Data must be an object, but it was:",s,i);const r=[],o=q2.empty();J4(i,(c,l)=>{const u=cb(e,c,t);l=(0,pi.Ku)(l);const d=s.Cu(u);if(l instanceof lm)r.push(u);else{const h=R8(l,d);null!=h&&(r.push(u),o.set(u,h))}});const a=new vo(r);return new cae(o,a,s.fieldTransforms)}function CD(n,e,t,i,s,r){const o=n.Nu(1,e,t),a=[um(e,i,t)],c=[s];if(r.length%2!=0)throw new et(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<r.length;h+=2)a.push(um(e,r[h])),c.push(r[h+1]);const l=[],u=q2.empty();for(let h=a.length-1;h>=0;--h)if(!pae(l,a[h])){const m=a[h];let _=c[h];_=(0,pi.Ku)(_);const b=o.Cu(m);if(_ instanceof lm)l.push(m);else{const v=R8(_,b);null!=v&&(l.push(m),u.set(m,v))}}const d=new vo(l);return new cae(u,d,o.fieldTransforms)}function dae(n,e,t,i=!1){return R8(t,n.Nu(i?4:3,e))}function R8(n,e){if(hae(n=(0,pi.Ku)(n)))return bD("Unsupported field value:",e,n),fae(n,e);if(n instanceof N8)return function(i,s){if(!lae(s.wu))throw s.Mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&4!==e.wu)throw e.Mu("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let c=R8(a,s.Fu(o));null==c&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(n,e)}return function(i,s){if(null===(i=(0,pi.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Y2e(s.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const r=us.fromDate(i);return{timestampValue:y7(s.serializer,r)}}if(i instanceof us){const r=new us(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:y7(s.serializer,r)}}if(i instanceof sb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof g3)return{bytesValue:yre(s.serializer,i._byteString)};if(i instanceof is){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:PP(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof rb)return a=s,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(c=>{if("number"!=typeof c)throw a.Mu("VectorValues must only contain numeric values.");return wP(a.serializer,c)})}}}}};var a;throw s.Mu(`Unsupported field value: ${nb(i)}`)}(n,e)}function fae(n,e){const t={};return g2e(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):J4(n,(i,s)=>{const r=R8(s,e.bu(i));null!=r&&(t[i]=r)}),{mapValue:{fields:t}}}function hae(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof us||n instanceof sb||n instanceof g3||n instanceof is||n instanceof N8||n instanceof rb)}function bD(n,e,t){if(!hae(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const i=nb(t);throw e.Mu("an object"===i?n+" a custom object":n+" "+i)}var s}function um(n,e,t){if((e=(0,pi.Ku)(e))instanceof z0)return e._internalPath;if("string"==typeof e)return cb(n,e);throw lb("Field path arguments must be of type string or ",n,!1,void 0,t)}const Fut=new RegExp("[~\\*/\\[\\]]");function cb(n,e,t){if(e.search(Fut)>=0)throw lb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new z0(...e.split("."))._internalPath}catch{throw lb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lb(n,e,t,i,s){const r=i&&!i.isEmpty(),o=void 0!==s;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${i}`),o&&(c+=` in document ${s}`),c+=")"),new et(ve.INVALID_ARGUMENT,a+n+c)}function pae(n,e){return n.some(t=>t.isEqual(e))}class dm{constructor(e,t,i,s,r){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new is(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vut(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ub("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Vut extends dm{data(){return super.data()}}function ub(n,e){return"string"==typeof e?cb(n,e):e instanceof z0?e._internalPath:e._delegate._internalPath}function mae(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new et(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xD{}class fm extends xD{}function dl(n,e,...t){let i=[];e instanceof xD&&i.push(e),i=i.concat(t),function(r){const o=r.filter(c=>c instanceof F7).length,a=r.filter(c=>c instanceof hm).length;if(o>1||o>0&&a>0)throw new et(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class hm extends fm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new hm(e,t,i)}_apply(e){const t=this._parse(e);return vae(e._query,t),new K2(e.firestore,e.converter,xP(e._query,t))}_parse(e){const t=D8(e.firestore);return function(r,o,a,c,l,u,d){let h;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new et(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){yae(d,u);const m=[];for(const _ of d)m.push(_ae(c,r,_));h={arrayValue:{values:m}}}else h=_ae(c,r,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||yae(d,u),h=dae(a,"where",d,"in"===u||"not-in"===u);return j1.create(l,u,h)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class F7 extends xD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new F7(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:xi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,r){let o=s;const a=r.getFlattenedFilters();for(const c of a)vae(o,c),o=xP(o,c)}(e._query,t),new K2(e.firestore,e.converter,xP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ED extends fm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ED(e,t)}_apply(e){const t=function(s,r,o){if(null!==s.startAt)throw new et(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new et(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vp(r,o)}(e._query,this._field,this._direction);return new K2(e.firestore,e.converter,function(s,r){const o=s.explicitOrderBy.concat([r]);return new T0(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class db extends fm{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new db(e,t,i)}_apply(e){return new K2(e.firestore,e.converter,AC(e._query,this._limit,this._limitType))}}class fb extends fm{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new fb(e,t,i)}_apply(e){const t=gae(e,this.type,this._docOrFields,this._inclusive);return new K2(e.firestore,e.converter,(r=t,new T0((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,r,s.endAt)));var s,r}}class hb extends fm{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new hb(e,t,i)}_apply(e){const t=gae(e,this.type,this._docOrFields,this._inclusive);return new K2(e.firestore,e.converter,(r=t,new T0((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,r)));var s,r}}function gae(n,e,t,i){if(t[0]=(0,pi.Ku)(t[0]),t[0]instanceof dm)return function(r,o,a,c,l){if(!c)throw new et(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of f7(r))if(d.field.isKeyField())u.push(b8(o,c.key));else{const h=c.data.field(d.field);if(MC(h))throw new et(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){const m=d.field.canonicalString();throw new et(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(h)}return new sl(u,l)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const s=D8(n.firestore);return function(o,a,c,l,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new et(ve.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let _=0;_<u.length;_++){const b=u[_];if(h[_].field.isKeyField()){if("string"!=typeof b)throw new et(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!bP(o)&&-1!==b.indexOf("/"))throw new et(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const v=o.path.child(H1.fromString(b));if(!Rt.isDocumentKey(v))throw new et(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const M=new Rt(v);m.push(b8(a,M))}else{const v=dae(c,l,b);m.push(v)}}return new sl(m,d)}(n._query,n.firestore._databaseId,s,e,t,i)}}function _ae(n,e,t){if("string"==typeof(t=(0,pi.Ku)(t))){if(""===t)throw new et(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bP(e)&&-1!==t.indexOf("/"))throw new et(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(H1.fromString(t));if(!Rt.isDocumentKey(i))throw new et(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return b8(n,new Rt(i))}if(t instanceof is)return b8(n,t._key);throw new et(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nb(t)}.`)}function yae(n,e){if(!Array.isArray(n)||0===n.length)throw new et(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vae(n,e){const t=function(s,r){for(const o of s)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new et(ve.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wD{convertValue(e,t="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ds(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(w0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw nn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return J4(e,(s,r)=>{i[s]=this.convertValue(r,t)}),i}convertVectorValue(e){var t,i,s;const r=null===(s=null===(i=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===i?void 0:i.values)||void 0===s?void 0:s.map(o=>ds(o.doubleValue));return new rb(r)}convertGeoPoint(e){return new sb(ds(e.latitude),ds(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=CC(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rp(e));default:return null}}convertTimestamp(e){const t=E0(e);return new us(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=H1.fromString(e);bn(Ire(i));const s=new el(i.get(1),i.get(3)),r=new Rt(i.popFirst(5));return s.isEqual(t)||Hs(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}function pb(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Kut extends wD{constructor(e){super(),this.firestore=e}convertBytes(e){return new g3(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new is(this.firestore,null,t)}}class O8{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class P0 extends dm{constructor(e,t,i,s,r,o){super(e,t,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ub("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class pm extends P0{data(e={}){return super.data(e)}}class fl{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new O8(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new pm(this._firestore,this._userDataWriter,i.key,i,new O8(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>({type:"added",doc:new pm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new O8(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:o++}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const c=new pm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new O8(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Yut(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yut(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}function Cae(n,e){return n instanceof P0&&e instanceof P0?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof fl&&e instanceof fl&&n._firestore===e._firestore&&pD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class hl extends wD{constructor(e){super(),this.firestore=e}convertBytes(e){return new g3(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new is(this.firestore,null,t)}}function bae(n,e,t){n=I1(n,is);const i=I1(n.firestore,Ai),s=pb(n.converter,e,t);return V7(i,[ab(D8(i),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,fs.none())])}function xae(n,e,t,...i){n=I1(n,is);const s=I1(n.firestore,Ai),r=D8(s);let o;return o="string"==typeof(e=(0,pi.Ku)(e))||e instanceof z0?CD(r,"updateDoc",n._key,e,t,i):MD(r,"updateDoc",n._key,e),V7(s,[o.toMutation(n._key,fs.exists(!0))])}function Eae(n,...e){var t,i,s;n=(0,pi.Ku)(n);let r={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||mD(e[o])||(r=e[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(mD(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),e[o+2]=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}let c,l,u;if(n instanceof is)l=I1(n.firestore,Ai),u=d7(n._key.path),c={next:d=>{e[o]&&e[o](TD(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=I1(n,K2);l=I1(d.firestore,Ai),u=d._query;const h=new hl(l);c={next:m=>{e[o]&&e[o](new fl(l,h,d,m))},error:e[o+1],complete:e[o+2]},mae(n._query)}return function(h,m,_,b){const v=new JC(b),M=new IN(m,v,_);return h.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return EN(yield k7(h),M)})),()=>{v.za(),h.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return TN(yield k7(h),M)}))}}(hs(l),u,a,c)}function V7(n,e){return function(i,s){const r=new m2;return i.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return function G5t(n,e,t){return FN.apply(this,arguments)}(yield dD(i),s,r)})),r.promise}(hs(n),e)}function TD(n,e,t){const i=t.docs.get(e._key),s=new hl(n);return new P0(n,s,e._key,i,new O8(t.hasPendingWrites,t.fromCache),e.converter)}const pdt={maxAttempts:5};class wae{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=D8(e)}set(e,t,i){this._verifyNotCommitted();const s=pl(e,this._firestore),r=pb(s.converter,t,i),o=ab(this._dataReader,"WriteBatch.set",s._key,r,null!==s.converter,i);return this._mutations.push(o.toMutation(s._key,fs.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const r=pl(e,this._firestore);let o;return o="string"==typeof(t=(0,pi.Ku)(t))||t instanceof z0?CD(this._dataReader,"WriteBatch.update",r._key,t,i,s):MD(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(o.toMutation(r._key,fs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pl(e,this._firestore);return this._mutations=this._mutations.concat(new _7(t._key,fs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pl(n,e){if((n=(0,pi.Ku)(n)).firestore!==e)throw new et(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mdt extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=D8(t)}get(t){const i=pl(t,this._firestore),s=new Kut(this._firestore);return this._transaction.lookup([i._key]).then(r=>{if(!r||1!==r.length)return nn();const o=r[0];if(o.isFoundDocument())return new dm(this._firestore,s,o.key,o,i.converter);if(o.isNoDocument())return new dm(this._firestore,s,i._key,null,i.converter);throw nn()})}set(t,i,s){const r=pl(t,this._firestore),o=pb(r.converter,i,s),a=ab(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,s);return this._transaction.set(r._key,a),this}update(t,i,s,...r){const o=pl(t,this._firestore);let a;return a="string"==typeof(i=(0,pi.Ku)(i))||i instanceof z0?CD(this._dataReader,"Transaction.update",o._key,i,s,r):MD(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(t){const i=pl(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pl(e,this._firestore),i=new hl(this._firestore);return super.get(e).then(s=>new P0(this._firestore,i,t._key,s._document,new O8(!1,!1),t.converter))}}function AD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new et("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Lae(){if(typeof Uint8Array>"u")throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function Iae(){if(!function q6t(){return typeof atob<"u"}())throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){i7=e7.SDK_VERSION,(0,e7._registerComponent)(new Use.uA("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new Ai(new g6t(i.getProvider("auth-internal")),new v6t(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new et(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(l.options.projectId,u)}(o,s),o);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,e7.registerVersion)(Yse,"4.7.1",e),(0,e7.registerVersion)(Yse,"4.7.1","esm2017")}();class mm{constructor(e){this._delegate=e}static fromBase64String(e){return Iae(),new mm(g3.fromBase64String(e))}static fromUint8Array(e){return Lae(),new mm(g3.fromUint8Array(e))}toBase64(){return Iae(),this._delegate.toBase64()}toUint8Array(){return Lae(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function LD(n){return function wdt(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Tdt{enableIndexedDbPersistence(e,t){return function Tut(n,e){aae(n=I1(n,Ai));const t=hs(n);if(t._uninitializedComponentsProvider)throw new et(ve.FAILED_PRECONDITION,"SDK cache is already specified.");yo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),s=new R7;return oae(t,s,new sD(s,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Sut(n){aae(n=I1(n,Ai));const e=hs(n);if(e._uninitializedComponentsProvider)throw new et(ve.FAILED_PRECONDITION,"SDK cache is already specified.");yo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new R7;return oae(e,i,new Boe(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Aut(n){if(n._initialized&&!n._terminated)throw new et(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new m2;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.A)(function*(){try{yield(t=(0,Ne.A)(function*(s){if(!u3.D())return Promise.resolve();const r=s+"main";yield u3.delete(r)}),function i(s){return t.apply(this,arguments)})(qP(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class zae{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof el||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function nae(n,e,t,i={}){var s;const r=(n=I1(n,am))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==r.host&&r.host!==o&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=z2.MOCK_USER;else{a=(0,pi.Fy)(i.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new et(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new z2(l)}n._authCredentials=new m6t(new Zse(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function Iut(n){return function dut(n){return n.asyncQueue.enqueue((0,Ne.A)(function*(){const e=yield Goe(n),t=yield $oe(n);return e.setNetworkEnabled(!0),function(s){const r=zt(s);return r.L_.delete(0),om(r)}(t)}))}(hs(n=I1(n,Ai)))}(this._delegate)}disableNetwork(){return function zut(n){return function fut(n){return n.asyncQueue.enqueue((0,Ne.A)(function*(){const e=yield Goe(n),t=yield $oe(n);return e.setNetworkEnabled(!1),(i=(0,Ne.A)(function*(r){const o=zt(r);o.L_.add(0),yield T7(o),o.q_.set("Offline")}),function s(r){return i.apply(this,arguments)})(t);var i}))}(hs(n=I1(n,Ai)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Zoe("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Lut(n){return function(t){const i=new m2;return t.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return function K5t(n,e){return jN.apply(this,arguments)}(yield dD(t),i)})),i.promise}(hs(n=I1(n,Ai)))}(this._delegate)}onSnapshotsInSync(e){return function rdt(n,e){return function gut(n,e){const t=new JC(e);return n.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return s=yield k7(n),r=t,zt(s).Y_.add(r),void r.next();var s,r})),()=>{t.za(),n.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return s=yield k7(n),r=t,void zt(s).Y_.delete(r);var s,r}))}}(hs(n=I1(n,Ai)),mD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new U7(this,iae(this._delegate,e))}catch(t){throw Xr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Da(this,ib(this._delegate,e))}catch(t){throw Xr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yr(this,function but(n,e){if(n=I1(n,am),hD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new et(ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new K2(n,null,(i=e,new T0(H1.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Xr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gdt(n,e,t){n=I1(n,Ai);const i=Object.assign(Object.assign({},pdt),t);return function(r){if(r.maxAttempts<1)throw new et(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,a){const c=new m2;return r.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){const l=yield function Woe(n){return tb(n).then(e=>e.datastore)}(r);new lut(r.asyncQueue,l,a,o,c).ru()})),c.promise}(hs(n),s=>e(new mdt(n,s)),i)}(this._delegate,t=>e(new Pae(this,t)))}batch(){return hs(this._delegate),new Nae(new wae(this._delegate,e=>V7(this._delegate,e)))}loadBundle(e){return function Put(n,e){const t=hs(n=I1(n,Ai)),i=new Eut;return function _ut(n,e,t,i){const s=function(o,a){let c;return c="string"==typeof o?ure().encode(o):o,u=function(u,d){if(u instanceof Uint8Array)return Hoe(u,d);if(u instanceof ArrayBuffer)return Hoe(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new aut(u,a);var u}(t,rm(e));n.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){!function rut(n,e,t){const i=zt(n);var s;(s=(0,Ne.A)(function*(o,a,c){try{const l=yield a.getMetadata();if(yield function(_,b){const v=zt(_),M=js(b.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",E=>v.Gr.getBundleMetadata(E,b.id)).then(E=>!!E&&E.createTime.compareTo(M)>=0)}(o.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(_=l).totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}),Promise.resolve(new Set);c._updateProgress(zoe(l));const u=new O5t(l,o.localStore,a.serializer);let d=yield a.Ua();for(;d;){const m=yield u.la(d);m&&c._updateProgress(m),d=yield a.Ua()}const h=yield u.complete();return yield I0(o,h.Ia,void 0),yield function(_,b){const v=zt(_);return v.persistence.runTransaction("Save bundle","readwrite",M=>v.Gr.saveBundleMetadata(M,b))}(o.localStore,l),c._completeWith(h.progress),Promise.resolve(h.Pa)}catch(l){return yo("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var _}),function r(o,a,c){return s.apply(this,arguments)})(i,e,t).then(s=>{i.sharedClientState.notifyBundleLoaded(s)})}(yield dD(n),s,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Nut(n,e){return function yut(n,e){return n.asyncQueue.enqueue((0,Ne.A)(function*(){return function(i,s){const r=zt(i);return r.persistence.runTransaction("Get named query","readonly",o=>r.Gr.getNamedQuery(o,s))}(yield O7(n),e)}))}(hs(n=I1(n,Ai)),e).then(t=>t?new K2(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Yr(this,t):null)}}class gb extends wD{constructor(e){super(),this.firestore=e}convertBytes(e){return new mm(new g3(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Da.forKey(t,this.firestore,null)}}class Pae{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new gb(e)}get(e){const t=F8(e);return this._delegate.get(t).then(i=>new gm(this._firestore,new P0(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const s=F8(e);return i?(AD("Transaction.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const r=F8(e);return 2===arguments.length?this._delegate.update(r,t):this._delegate.update(r,t,i,...s),this}delete(e){const t=F8(e);return this._delegate.delete(t),this}}class Nae{constructor(e){this._delegate=e}set(e,t,i){const s=F8(e);return i?(AD("WriteBatch.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const r=F8(e);return 2===arguments.length?this._delegate.update(r,t):this._delegate.update(r,t,i,...s),this}delete(e){const t=F8(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class k8{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new pm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _m(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=k8.INSTANCES;let s=i.get(e);s||(s=new WeakMap,i.set(e,s));let r=s.get(t);return r||(r=new k8(e,new gb(e),t),s.set(t,r)),r}}k8.INSTANCES=new WeakMap;class Da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gb(e)}static forPath(e,t,i){if(e.length%2!=0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Da(t,new is(t._delegate,i,new Rt(e)))}static forKey(e,t,i){return new Da(t,new is(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new U7(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new U7(this.firestore,iae(this._delegate,e))}catch(t){throw Xr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pi.Ku)(e))instanceof is&&sae(this._delegate,e)}set(e,t){t=AD("DocumentReference.set",t);try{return t?bae(this._delegate,e,t):bae(this._delegate,e)}catch(i){throw Xr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?xae(this._delegate,e):xae(this._delegate,e,t,...i)}catch(s){throw Xr(s,"updateDoc()","DocumentReference.update()")}}delete(){return function idt(n){return V7(I1(n.firestore,Ai),[new _7(n._key,fs.none())])}(this._delegate)}onSnapshot(...e){const t=Dae(e),i=Rae(e,s=>new gm(this.firestore,new P0(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return Eae(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Qut(n){n=I1(n,is);const e=I1(n.firestore,Ai),t=hs(e),i=new hl(e);return function hut(n,e){const t=new m2;return n.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return(i=(0,Ne.A)(function*(r,o,a){try{const c=yield function(u,d){const h=zt(u);return h.persistence.runTransaction("read document","readonly",m=>h.localDocuments.getDocument(m,d))}(r,o);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new et(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=I7(c,`Failed to get document '${o} from cache`);a.reject(l)}}),function s(r,o,a){return i.apply(this,arguments)})(yield O7(n),e,t);var i})),t.promise}(t,n._key).then(s=>new P0(e,i,n._key,s,new O8(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Jut(n){n=I1(n,is);const e=I1(n.firestore,Ai);return qoe(hs(e),n._key,{source:"server"}).then(t=>TD(e,n,t))}(this._delegate):function Zut(n){n=I1(n,is);const e=I1(n.firestore,Ai);return qoe(hs(e),n._key).then(t=>TD(e,n,t))}(this._delegate),t.then(i=>new gm(this.firestore,new P0(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?k8.getInstance(this.firestore,e):null))}}function Xr(n,e,t){return n.message=n.message.replace(e,t),n}function Dae(n){for(const e of n)if("object"==typeof e&&!LD(e))return e;return{}}function Rae(n,e){var t,i;let s;return s=LD(n[0])?n[0]:LD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:r=>{s.next&&s.next(e(r))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class gm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Cae(this._delegate,e._delegate)}}class _m extends gm{data(e){const t=this._delegate.data(e);return this._delegate._converter||function h6t(n){n||nn()}(void 0!==t),t}}class Yr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new gb(e)}where(e,t,i){try{return new Yr(this.firestore,dl(this._delegate,function Uut(n,e,t){const i=e,s=ub("where",n);return hm._create(s,i,t)}(e,t,i)))}catch(s){throw Xr(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yr(this.firestore,dl(this._delegate,function But(n,e="asc"){const t=e,i=ub("orderBy",n);return ED._create(i,t)}(e,t)))}catch(i){throw Xr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yr(this.firestore,dl(this._delegate,function Hut(n){return eae("limit",n),db._create("limit",n,"F")}(e)))}catch(t){throw Xr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yr(this.firestore,dl(this._delegate,function jut(n){return eae("limitToLast",n),db._create("limitToLast",n,"L")}(e)))}catch(t){throw Xr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yr(this.firestore,dl(this._delegate,function Gut(...n){return fb._create("startAt",n,!0)}(...e)))}catch(t){throw Xr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yr(this.firestore,dl(this._delegate,function $ut(...n){return fb._create("startAfter",n,!1)}(...e)))}catch(t){throw Xr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yr(this.firestore,dl(this._delegate,function Wut(...n){return hb._create("endBefore",n,!1)}(...e)))}catch(t){throw Xr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yr(this.firestore,dl(this._delegate,function qut(...n){return hb._create("endAt",n,!0)}(...e)))}catch(t){throw Xr(t,"endAt()","Query.endAt()")}}isEqual(e){return pD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function tdt(n){n=I1(n,K2);const e=I1(n.firestore,Ai),t=hs(e),i=new hl(e);return function put(n,e){const t=new m2;return n.asyncQueue.enqueueAndForget((0,Ne.A)(function*(){return(i=(0,Ne.A)(function*(r,o,a){try{const c=yield $C(r,o,!0),l=new Doe(o,c.Ts),u=l.ma(c.documents),d=l.applyChanges(u,!1);a.resolve(d.snapshot)}catch(c){const l=I7(c,`Failed to execute query '${o} against cache`);a.reject(l)}}),function s(r,o,a){return i.apply(this,arguments)})(yield O7(n),e,t);var i})),t.promise}(t,n._query).then(s=>new fl(e,i,n,s))}(this._delegate):"server"===e?.source?function ndt(n){n=I1(n,K2);const e=I1(n.firestore,Ai),t=hs(e),i=new hl(e);return Koe(t,n._query,{source:"server"}).then(s=>new fl(e,i,n,s))}(this._delegate):function edt(n){n=I1(n,K2);const e=I1(n.firestore,Ai),t=hs(e),i=new hl(e);return mae(n._query),Koe(t,n._query).then(s=>new fl(e,i,n,s))}(this._delegate),t.then(i=>new ID(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Dae(e),i=Rae(e,s=>new ID(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return Eae(this._delegate,t,i)}withConverter(e){return new Yr(this.firestore,this._delegate.withConverter(e?k8.getInstance(this.firestore,e):null))}}class Adt{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new _m(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ID{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _m(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Adt(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new _m(this._firestore,i))})}isEqual(e){return Cae(this._delegate,e._delegate)}}class U7 extends Yr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Da(this.firestore,e):null}doc(e){try{return new Da(this.firestore,void 0===e?ib(this._delegate):ib(this._delegate,e))}catch(t){throw Xr(t,"doc()","CollectionReference.doc()")}}add(e){return function sdt(n,e){const t=I1(n.firestore,Ai),i=ib(n),s=pb(n.converter,e);return V7(t,[ab(D8(n.firestore),"addDoc",i._key,s,null!==n.converter,{}).toMutation(i._key,fs.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Da(this.firestore,t))}isEqual(e){return sae(this._delegate,e._delegate)}withConverter(e){return new U7(this.firestore,this._delegate.withConverter(e?k8.getInstance(this.firestore,e):null))}}function F8(n){return I1(n,is)}class zD{constructor(...e){this._delegate=new z0(...e)}static documentId(){return new zD(ts.keyField().canonicalString())}isEqual(e){return(e=(0,pi.Ku)(e))instanceof z0&&this._delegate._internalPath.isEqual(e._internalPath)}}class V8{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ydt(){return new gD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new V8(e)}static delete(){const e=function _dt(){return new lm("deleteField")}();return e._methodName="FieldValue.delete",new V8(e)}static arrayUnion(...e){const t=function vdt(...n){return new _D("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new V8(t)}static arrayRemove(...e){const t=function Mdt(...n){return new yD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new V8(t)}static increment(e){const t=function Cdt(n){return new vD("increment",n)}(e);return t._methodName="FieldValue.increment",new V8(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ldt={Firestore:zae,GeoPoint:sb,Timestamp:us,Blob:mm,Transaction:Pae,WriteBatch:Nae,DocumentReference:Da,DocumentSnapshot:gm,Query:Yr,QueryDocumentSnapshot:_m,QuerySnapshot:ID,CollectionReference:U7,FieldPath:zD,FieldValue:V8,setLogLevel:function Sdt(n){!function f6t(n){Y4.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Oae(n,e){return function Pdt(n,e=nP){return new Z1(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function PD(n,e){return Oae(n,e).pipe(Bt(t=>({payload:t,type:"query"})))}!function zdt(n){(function Idt(n,e){n.INTERNAL.registerComponent(new Use.uA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(i,s)},"PUBLIC").setServiceProps(Object.assign({},Ldt)))})(n,(e,t)=>new zae(e,t,new Tdt)),n.registerVersion("@firebase/firestore-compat","0.3.36")}(Lp.A);class kae{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:s,query:r}=jae(i,t);return new Uae(s,r,this.afs)}snapshotChanges(){return function Ndt(n,e){return Oae(n,e).pipe(i9(void 0),aP(),Bt(t=>{const[i,s]=t;return s.exists?i?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ea)}valueChanges(e={}){return this.snapshotChanges().pipe(Bt(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return cs(this.ref.get(e)).pipe(ea)}}function _b(n,e){return PD(n,e).pipe(i9(void 0),aP(),Bt(t=>{const[i,s]=t,r=s.payload.docChanges(),o=r.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((a,c)=>{const l=r.find(d=>d.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(d=>d.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),o}))}function Fae(n,e,t){return _b(n,t).pipe(Py((i,s)=>function Ddt(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Rdt(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ND(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ND(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ND(n,e.oldIndex,1)}return n}(n,i))}),n}(i,s.map(r=>r.payload),e),[]),function u6t(n,e=ir){return n=n??d6t,xn((t,i)=>{let s,r=!0;t.subscribe(L1(i,o=>{const a=e(o);(r||!n(s,a))&&(r=!1,s=a,i.next(o))}))})}(),Bt(i=>i.map(s=>({type:s.type,payload:s}))))}function ND(n,e,t,...i){const s=n.slice();return s.splice(e,t,...i),s}function Vae(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Uae{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=_b(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Bt(i=>i.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(i9(void 0),aP(),uo(([i,s])=>s.length>0||!i),Bt(([,i])=>i),ea)}auditTrail(e){return this.stateChanges(e).pipe(Py((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Vae(e);return Fae(this.query,t,this.afs.schedulers.outsideAngular).pipe(ea)}valueChanges(e={}){return PD(this.query,this.afs.schedulers.outsideAngular).pipe(Bt(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),ea)}get(e){return cs(this.query.get(e)).pipe(ea)}add(e){return this.ref.add(e)}doc(e){return new kae(this.ref.doc(e),this.afs)}}class Odt{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_b(this.query,this.afs.schedulers.outsideAngular).pipe(Bt(t=>t.filter(i=>e.indexOf(i.type)>-1)),uo(t=>t.length>0),ea):_b(this.query,this.afs.schedulers.outsideAngular).pipe(ea)}auditTrail(e){return this.stateChanges(e).pipe(Py((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Vae(e);return Fae(this.query,t,this.afs.schedulers.outsideAngular).pipe(ea)}valueChanges(e={}){return PD(this.query,this.afs.schedulers.outsideAngular).pipe(Bt(i=>i.payload.docs.map(s=>e.idField?{[e.idField]:s.id,...s.data()}:s.data())),ea)}get(e){return cs(this.query.get(e)).pipe(ea)}}const Bae=new rt("angularfire2.enableFirestorePersistence"),Hae=new rt("angularfire2.firestore.persistenceSettings"),kdt=new rt("angularfire2.firestore.settings"),Fdt=new rt("angularfire2.firestore.use-emulator");function jae(n,e=t=>t){return{query:e(n),ref:n}}let Vdt=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,s,r,o,a,c,l,u,d,h,m,_,b,v,M,E){this.schedulers=c;const T=rP(t,a,i),S=u;d&&Fse(T,a,h,_,b,v,m,M),[this.firestore,this.persistenceEnabled$]=Sse(`${T.name}.firestore`,"AngularFirestore",T.name,()=>{const O=a.runOutsideAngular(()=>T.firestore());if(r&&O.settings(r),S&&O.useEmulator(...S),s&&!Cy(o)){const F=()=>{try{return cs(O.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(N){return typeof console<"u"&&console.warn(N),zn(!1)}};return[O,a.runOutsideAngular(F)]}return[O,zn(!1)]},[r,S,s])}collection(t,i){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:o}=jae(s,i),a=this.schedulers.ngZone.run(()=>r);return new Uae(a,o,this)}collectionGroup(t,i){const s=i||(o=>o),r=this.firestore.collectionGroup(t);return new Odt(s(r),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>i);return new kae(s,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(ut(iP),ut(sP,8),ut(Bae,8),ut(kdt,8),ut(Ja),ut(K1),ut(wse),ut(Hae,8),ut(Fdt,8),ut(Vse,8),ut(Pse,8),ut(Nse,8),ut(Dse,8),ut(Rse,8),ut(Ose,8),ut(kse,8),ut(xse,8))};static \u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Udt=(()=>{class n{constructor(){Lp.A.registerVersion("angularfire",Wlt.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Bae,useValue:!0},{provide:Hae,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=V2({type:n});static \u0275inj=rr({providers:[Vdt]})}return n})();function DD(){return DD=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},DD.apply(this,arguments)}var Bdt={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}};new(function(){function n(){}var e=n.prototype;return e.load=function(t,i,s){if(t.el="string"==typeof s?document.querySelector(s):s,t.options=DD({},Bdt,i),t.isInput="input"===t.el.tagName.toLowerCase(),t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(l){return l.trim()}),t.stringsElement="string"==typeof t.options.stringsElement?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var r=Array.prototype.slice.apply(t.stringsElement.children),o=r.length;if(o)for(var a=0;a<o;a+=1)t.strings.push(r[a].innerHTML.trim())}for(var c in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[c]=c;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:"html"===t.contentType?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var i="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+i+"]")){var s=document.createElement("style");s.setAttribute(i,"true"),s.innerHTML="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      ",document.body.appendChild(s)}},e.appendFadeOutAnimationCss=function(t){var i="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+i+"]")){var s=document.createElement("style");s.setAttribute(i,"true"),s.innerHTML="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      ",document.body.appendChild(s)}},n}()),new(function(){function n(){}var e=n.prototype;return e.typeHtmlChars=function(t,i,s){if("html"!==s.contentType)return i;var r=t.substring(i).charAt(0);if("<"===r||"&"===r){var o;for(o="<"===r?">":";";t.substring(i+1).charAt(0)!==o&&!(1+ ++i>t.length););i++}return i},e.backSpaceHtmlChars=function(t,i,s){if("html"!==s.contentType)return i;var r=t.substring(i).charAt(0);if(">"===r||";"===r){var o;for(o=">"===r?"<":"&";t.substring(i-1).charAt(0)!==o&&!(--i<0););i--}return i},n}());let RD,Hdt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V2({type:n}),n.\u0275inj=rr({imports:[[]]}),n})();try{RD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{RD=!1}let ym,Gae=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Sj(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Ja))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yb(n){return function jdt(){if(null==ym&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ym=!0}))}finally{ym=ym||!1}return ym}()?n:!!n.capture}function qae(n){return Array.isArray(n)?n:[n]}function Kae(n){return n instanceof Oc?n.nativeElement:n}const Xae=new Set;let B8,p7t=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):g7t}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function m7t(n,e){if(!Xae.has(n))try{B8||(B8=document.createElement("style"),e&&B8.setAttribute("nonce",e),B8.setAttribute("type","text/css"),document.head.appendChild(B8)),B8.sheet&&(B8.sheet.insertRule(`@media ${n} {body{ }}`,0),Xae.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Gae),ut(Kx,8))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g7t(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _7t=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ee}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Yae(qae(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let r=Ay(Yae(qae(t)).map(o=>this._registerQuery(o).observable));return r=Iy(r.pipe(M4(1)),r.pipe(function h7t(n){return uo((e,t)=>n<=t)}(1),function Wae(n,e=nP){return xn((t,i)=>{let s=null,r=null,o=null;const a=()=>{if(s){s.unsubscribe(),s=null;const l=r;r=null,i.next(l)}};function c(){const l=o+n,u=e.now();if(u<l)return s=this.schedule(void 0,l-u),void i.add(s);a()}t.subscribe(L1(i,l=>{r=l,o=e.now(),s||(s=e.schedule(c,n),i.add(s))},()=>{a(),i.complete()},void 0,()=>{r=s=null}))})}(0))),r.pipe(Bt(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),r={observable:new Z1(o=>{const a=c=>this._zone.run(()=>o.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(i9(i),Bt(({matches:o})=>({query:t,matches:o})),_G(this._destroySubject)),mql:i};return this._queries.set(t,r),r}static#e=this.\u0275fac=function(i){return new(i||n)(ut(p7t),ut(K1))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yae(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var H8=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(H8||{});const ece="cdk-high-contrast-black-on-white",tce="cdk-high-contrast-white-on-black",kD="cdk-high-contrast-active";let z7t=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Ke(_7t).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return H8.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(t):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return H8.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return H8.BLACK_ON_WHITE}return H8.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(kD,ece,tce),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===H8.BLACK_ON_WHITE?t.add(kD,ece):i===H8.WHITE_ON_BLACK&&t.add(kD,tce)}}static#e=this.\u0275fac=function(i){return new(i||n)(ut(Gae),ut(Vs))};static#t=this.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=V2({type:n});static#n=this.\u0275inj=rr({})}return n})();const R7t=new rt("mat-sanity-checks",{providedIn:"root",factory:function D7t(){return!0}});let rce=(()=>{class n{constructor(t,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Wdt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(ut(z7t),ut(R7t,8),ut(Vs))};static#t=this.\u0275mod=V2({type:n});static#n=this.\u0275inj=rr({imports:[nce,nce]})}return n})();var Ra=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Ra||{});class H7t{constructor(e,t,i,s=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=Ra.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const oce=yb({passive:!0,capture:!0});class j7t{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function $dt(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((i,s)=>{(s===t||s.contains(t))&&i.forEach(r=>r.handleEvent(e))})}}addHandler(e,t,i,s){const r=this._events.get(t);if(r){const o=r.get(i);o?o.add(s):r.set(i,new Set([s]))}else this._events.set(t,new Map([[i,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,oce)})}removeHandler(e,t,i){const s=this._events.get(e);if(!s)return;const r=s.get(t);r&&(r.delete(i),0===r.size&&s.delete(t),0===s.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,oce)))}}const ace={enterDuration:225,exitDuration:150},cce=yb({passive:!0,capture:!0}),lce=["mousedown","touchstart"],uce=["mouseup","mouseleave","touchend","touchcancel"];class FD{static#e=this._eventManager=new j7t;constructor(e,t,i,s){this._target=e,this._ngZone=t,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Kae(i))}fadeInRipple(e,t,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r={...ace,...i.animation};i.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const o=i.radius||function $7t(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+s*s)}(e,t,s),a=e-s.left,c=t-s.top,l=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=c-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),m=d.transitionDuration,_="none"===d.transitionProperty||"0s"===m||"0s, 0s"===m||0===s.width&&0===s.height,b=new H7t(this,u,i,_);u.style.transform="scale3d(1, 1, 1)",b.state=Ra.FADING_IN,i.persistent||(this._mostRecentTransientRipple=b);let v=null;return!_&&(l||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const M=()=>this._finishRippleTransition(b),E=()=>this._destroyRipple(b);u.addEventListener("transitionend",M),u.addEventListener("transitioncancel",E),v={onTransitionEnd:M,onTransitionCancel:E}}),this._activeRipples.set(b,v),(_||!l)&&this._finishRippleTransition(b),b}fadeOutRipple(e){if(e.state===Ra.FADING_OUT||e.state===Ra.HIDDEN)return;const t=e.element,i={...ace,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Ra.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Kae(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,lce.forEach(i=>{FD._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{uce.forEach(t=>{this._triggerElement.addEventListener(t,this,cce)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ra.FADING_IN?this._startFadeOutTransition(e):e.state===Ra.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Ra.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ra.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function S7t(n){return 0===n.buttons||0===n.detail}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function A7t(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Ra.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ra.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(lce.forEach(t=>FD._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(uce.forEach(t=>e.removeEventListener(t,this,cce)),this._pointerUpEventsRegistered=!1))}}let Ift=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=V2({type:n});static#n=this.\u0275inj=rr({imports:[rce,rce]})}return n})(),Dce=(()=>{class n{constructor(t){t.addIcons(oq)}static \u0275fac=function(i){return new(i||n)(ut(jee))};static \u0275mod=V2({type:n,bootstrap:[Vlt]});static \u0275inj=rr({imports:[Hdt,bpe,x_e,ltt,Udt,Ift]})}return n})();var YD,wb=window,KD=wb.ShadowRoot&&(void 0===wb.ShadyCSS||wb.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,XD=Symbol(),Rce=new WeakMap,Oce=class{constructor(n,e,t){if(this._$cssResult$=!0,t!==XD)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n,this.t=e}get styleSheet(){let n=this.o,e=this.t;if(KD&&void 0===n){let t=void 0!==e&&1===e.length;t&&(n=Rce.get(e)),void 0===n&&((this.o=n=new CSSStyleSheet).replaceSync(this.cssText),t&&Rce.set(e,n))}return n}toString(){return this.cssText}},kce=KD?n=>n:n=>n instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return(n=>new Oce("string"==typeof n?n:n+"",void 0,XD))(t)})(n):n,Tb=window,Fce=Tb.trustedTypes,Dft=Fce?Fce.emptyScript:"",Vce=Tb.reactiveElementPolyfillSupport,ZD={toAttribute(n,e){switch(e){case Boolean:n=n?Dft:null;break;case Object:case Array:n=null==n?n:JSON.stringify(n)}return n},fromAttribute(n,e){let t=n;switch(e){case Boolean:t=null!==n;break;case Number:t=null===n?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch{t=null}}return t}},Uce=(n,e)=>e!==n&&(e==e||n==n),QD={attribute:!0,type:String,converter:ZD,reflect:!1,hasChanged:Uce},JD="finalized",H7=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(n){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(n)}static get observedAttributes(){this.finalize();let n=[];return this.elementProperties.forEach((e,t)=>{let i=this._$Ep(t,e);void 0!==i&&(this._$Ev.set(i,t),n.push(i))}),n}static createProperty(n,e=QD){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(n,e),!e.noAccessor&&!this.prototype.hasOwnProperty(n)){let t="symbol"==typeof n?Symbol():"__"+n,i=this.getPropertyDescriptor(n,t,e);void 0!==i&&Object.defineProperty(this.prototype,n,i)}}static getPropertyDescriptor(n,e,t){return{get(){return this[e]},set(i){let s=this[n];this[e]=i,this.requestUpdate(n,s,t)},configurable:!0,enumerable:!0}}static getPropertyOptions(n){return this.elementProperties.get(n)||QD}static finalize(){if(this.hasOwnProperty(JD))return!1;this[JD]=!0;let n=Object.getPrototypeOf(this);if(n.finalize(),void 0!==n.h&&(this.h=[...n.h]),this.elementProperties=new Map(n.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(let i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(n){let e=[];if(Array.isArray(n)){let t=new Set(n.flat(1/0).reverse());for(let i of t)e.unshift(kce(i))}else void 0!==n&&e.push(kce(n));return e}static _$Ep(n,e){let t=e.attribute;return!1===t?void 0:"string"==typeof t?t:"string"==typeof n?n.toLowerCase():void 0}_$Eu(){var n;this._$E_=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(n=this.constructor.h)||void 0===n||n.forEach(e=>e(this))}addController(n){var e,t;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(n),void 0!==this.renderRoot&&this.isConnected&&(null===(t=n.hostConnected)||void 0===t||t.call(n))}removeController(n){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(n)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((n,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])})}createRenderRoot(){var n;let e=null!==(n=this.shadowRoot)&&void 0!==n?n:this.attachShadow(this.constructor.shadowRootOptions);return((n,e)=>{KD?n.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(t=>{let i=document.createElement("style"),s=wb.litNonce;void 0!==s&&i.setAttribute("nonce",s),i.textContent=t.cssText,n.appendChild(i)})})(e,this.constructor.elementStyles),e}connectedCallback(){var n;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(n=this._$ES)||void 0===n||n.forEach(e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)})}enableUpdating(n){}disconnectedCallback(){var n;null===(n=this._$ES)||void 0===n||n.forEach(e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)})}attributeChangedCallback(n,e,t){this._$AK(n,t)}_$EO(n,e,t=QD){var i;let s=this.constructor._$Ep(n,t);if(void 0!==s&&!0===t.reflect){let r=(void 0!==(null===(i=t.converter)||void 0===i?void 0:i.toAttribute)?t.converter:ZD).toAttribute(e,t.type);this._$El=n,null==r?this.removeAttribute(s):this.setAttribute(s,r),this._$El=null}}_$AK(n,e){var t;let i=this.constructor,s=i._$Ev.get(n);if(void 0!==s&&this._$El!==s){let r=i.getPropertyOptions(s),o="function"==typeof r.converter?{fromAttribute:r.converter}:void 0!==(null===(t=r.converter)||void 0===t?void 0:t.fromAttribute)?r.converter:ZD;this._$El=s,this[s]=o.fromAttribute(e,r.type),this._$El=null}}requestUpdate(n,e,t){let i=!0;void 0!==n&&(((t=t||this.constructor.getPropertyOptions(n)).hasChanged||Uce)(this[n],e)?(this._$AL.has(n)||this._$AL.set(n,e),!0===t.reflect&&this._$El!==n&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(n,t))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}_$Ej(){var n=this;return(0,Ne.A)(function*(){n.isUpdatePending=!0;try{yield n._$E_}catch(t){Promise.reject(t)}let e=n.scheduleUpdate();return null!=e&&(yield e),!n.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),null===(n=this._$ES)||void 0===n||n.forEach(i=>{var s;return null===(s=i.hostUpdate)||void 0===s?void 0:s.call(i)}),this.update(t)):this._$Ek()}catch(i){throw e=!1,this._$Ek(),i}e&&this._$AE(t)}willUpdate(n){}_$AE(n){var e;null===(e=this._$ES)||void 0===e||e.forEach(t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(n)),this.updated(n)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(n){return!0}update(n){void 0!==this._$EC&&(this._$EC.forEach((e,t)=>this._$EO(t,this[t],e)),this._$EC=void 0),this._$Ek()}updated(n){}firstUpdated(n){}};H7[JD]=!0,H7.elementProperties=new Map,H7.elementStyles=[],H7.shadowRootOptions={mode:"open"},Vce?.({ReactiveElement:H7}),(null!==(YD=Tb.reactiveElementVersions)&&void 0!==YD?YD:Tb.reactiveElementVersions=[]).push("1.6.3");var eR,Sb=window,j7=Sb.trustedTypes,Bce=j7?j7.createPolicy("lit-html",{createHTML:n=>n}):void 0,tR="$lit$",_l=`lit$${(Math.random()+"").slice(9)}$`,Hce="?"+_l,Rft=`<${Hce}>`,$8=document,Em=()=>$8.createComment(""),wm=n=>null===n||"object"!=typeof n&&"function"!=typeof n,jce=Array.isArray,nR="[ \t\n\f\r]",Tm=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Gce=/-->/g,$ce=/>/g,W8=RegExp(`>|${nR}(?:([^\\s"'>=/]+)(${nR}*=${nR}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),Wce=/'/g,qce=/"/g,Kce=/^(?:script|style|textarea|title)$/i,J1=(e,...t)=>({_$litType$:1,strings:e,values:t}),G7=Symbol.for("lit-noChange"),N2=Symbol.for("lit-nothing"),Xce=new WeakMap,q8=$8.createTreeWalker($8,129,null,!1);function Yce(n,e){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==Bce?Bce.createHTML(e):e}var iR=class w3e{constructor({strings:e,_$litType$:t},i){let s;this.parts=[];let r=0,o=0,a=e.length-1,c=this.parts,[l,u]=((n,e)=>{let s,t=n.length-1,i=[],r=2===e?"<svg>":"",o=Tm;for(let a=0;a<t;a++){let l,u,c=n[a],d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),null!==u);)h=o.lastIndex,o===Tm?"!--"===u[1]?o=Gce:void 0!==u[1]?o=$ce:void 0!==u[2]?(Kce.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=W8):void 0!==u[3]&&(o=W8):o===W8?">"===u[0]?(o=s??Tm,d=-1):void 0===u[1]?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=void 0===u[3]?W8:'"'===u[3]?qce:Wce):o===qce||o===Wce?o=W8:o===Gce||o===$ce?o=Tm:(o=W8,s=void 0);let m=o===W8&&n[a+1].startsWith("/>")?" ":"";r+=o===Tm?c+Rft:d>=0?(i.push(l),c.slice(0,d)+tR+c.slice(d)+_l+m):c+_l+(-2===d?(i.push(void 0),a):m)}return[Yce(n,r+(n[t]||"<?>")+(2===e?"</svg>":"")),i]})(e,t);if(this.el=w3e.createElement(l,i),q8.currentNode=this.el.content,2===t){let d=this.el.content,h=d.firstChild;h.remove(),d.append(...h.childNodes)}for(;null!==(s=q8.nextNode())&&c.length<a;){if(1===s.nodeType){if(s.hasAttributes()){let d=[];for(let h of s.getAttributeNames())if(h.endsWith(tR)||h.startsWith(_l)){let m=u[o++];if(d.push(h),void 0!==m){let _=s.getAttribute(m.toLowerCase()+tR).split(_l),b=/([.?@])?(.*)/.exec(m);c.push({type:1,index:r,name:b[2],strings:_,ctor:"."===b[1]?Uft:"?"===b[1]?Hft:"@"===b[1]?jft:Ab})}else c.push({type:6,index:r})}for(let h of d)s.removeAttribute(h)}if(Kce.test(s.tagName)){let d=s.textContent.split(_l),h=d.length-1;if(h>0){s.textContent=j7?j7.emptyScript:"";for(let m=0;m<h;m++)s.append(d[m],Em()),q8.nextNode(),c.push({type:2,index:++r});s.append(d[h],Em())}}}else if(8===s.nodeType)if(s.data===Hce)c.push({type:2,index:r});else{let d=-1;for(;-1!==(d=s.data.indexOf(_l,d+1));)c.push({type:7,index:r}),d+=_l.length-1}r++}}static createElement(e,t){let i=$8.createElement("template");return i.innerHTML=e,i}};function $7(n,e,t=n,i){var s,r,o,a;if(e===G7)return e;let c=void 0!==i?null===(s=t._$Co)||void 0===s?void 0:s[i]:t._$Cl,l=wm(e)?void 0:e._$litDirective$;return c?.constructor!==l&&(null===(r=c?._$AO)||void 0===r||r.call(c,!1),void 0===l?c=void 0:(c=new l(n),c._$AT(n,t,i)),void 0!==i?(null!==(o=(a=t)._$Co)&&void 0!==o?o:a._$Co=[])[i]=c:t._$Cl=c),void 0!==c&&(e=$7(n,c._$AS(n,e.values),c,i)),e}var Vft=class{constructor(n,e){this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(n){var e;let{el:{content:t},parts:i}=this._$AD,s=(null!==(e=n?.creationScope)&&void 0!==e?e:$8).importNode(t,!0);q8.currentNode=s;let r=q8.nextNode(),o=0,a=0,c=i[0];for(;void 0!==c;){if(o===c.index){let l;2===c.type?l=new sR(r,r.nextSibling,this,n):1===c.type?l=new c.ctor(r,c.name,c.strings,this,n):6===c.type&&(l=new Gft(r,this,n)),this._$AV.push(l),c=i[++a]}o!==c?.index&&(r=q8.nextNode(),o++)}return q8.currentNode=$8,s}v(n){let e=0;for(let t of this._$AV)void 0!==t&&(void 0!==t.strings?(t._$AI(n,t,e),e+=t.strings.length-2):t._$AI(n[e])),e++}},sR=class T3e{constructor(e,t,i,s){var r;this.type=2,this._$AH=N2,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=s,this._$Cp=null===(r=s?.isConnected)||void 0===r||r}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=$7(this,e,t),wm(e)?e===N2||null==e||""===e?(this._$AH!==N2&&this._$AR(),this._$AH=N2):e!==this._$AH&&e!==G7&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):(n=>jce(n)||"function"==typeof n?.[Symbol.iterator])(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==N2&&wm(this._$AH)?this._$AA.nextSibling.data=e:this.$($8.createTextNode(e)),this._$AH=e}g(e){var t;let{values:i,_$litType$:s}=e,r="number"==typeof s?this._$AC(e):(void 0===s.el&&(s.el=iR.createElement(Yce(s.h,s.h[0]),this.options)),s);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===r)this._$AH.v(i);else{let o=new Vft(r,this),a=o.u(this.options);o.v(i),this.$(a),this._$AH=o}}_$AC(e){let t=Xce.get(e.strings);return void 0===t&&Xce.set(e.strings,t=new iR(e)),t}T(e){jce(this._$AH)||(this._$AH=[],this._$AR());let i,t=this._$AH,s=0;for(let r of e)s===t.length?t.push(i=new T3e(this.k(Em()),this.k(Em()),this,this.options)):i=t[s],i._$AI(r),s++;s<t.length&&(this._$AR(i&&i._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,t);e&&e!==this._$AB;){let s=e.nextSibling;e.remove(),e=s}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}},Ab=class{constructor(n,e,t,i,s){this.type=1,this._$AH=N2,this._$AN=void 0,this.element=n,this.name=e,this._$AM=i,this.options=s,t.length>2||""!==t[0]||""!==t[1]?(this._$AH=Array(t.length-1).fill(new String),this.strings=t):this._$AH=N2}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(n,e=this,t,i){let s=this.strings,r=!1;if(void 0===s)n=$7(this,n,e,0),r=!wm(n)||n!==this._$AH&&n!==G7,r&&(this._$AH=n);else{let a,c,o=n;for(n=s[0],a=0;a<s.length-1;a++)c=$7(this,o[t+a],e,a),c===G7&&(c=this._$AH[a]),r||(r=!wm(c)||c!==this._$AH[a]),c===N2?n=N2:n!==N2&&(n+=(c??"")+s[a+1]),this._$AH[a]=c}r&&!i&&this.j(n)}j(n){n===N2?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,n??"")}},Uft=class extends Ab{constructor(){super(...arguments),this.type=3}j(n){this.element[this.name]=n===N2?void 0:n}},Bft=j7?j7.emptyScript:"",Hft=class extends Ab{constructor(){super(...arguments),this.type=4}j(n){n&&n!==N2?this.element.setAttribute(this.name,Bft):this.element.removeAttribute(this.name)}},jft=class extends Ab{constructor(n,e,t,i,s){super(n,e,t,i,s),this.type=5}_$AI(n,e=this){var t;if((n=null!==(t=$7(this,n,e,0))&&void 0!==t?t:N2)===G7)return;let i=this._$AH,s=n===N2&&i!==N2||n.capture!==i.capture||n.once!==i.once||n.passive!==i.passive,r=n!==N2&&(i===N2||s);s&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,n),this._$AH=n}handleEvent(n){var e,t;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==t?t:this.element,n):this._$AH.handleEvent(n)}},Gft=class{constructor(n,e,t){this.element=n,this.type=6,this._$AN=void 0,this._$AM=e,this.options=t}get _$AU(){return this._$AM._$AU}_$AI(n){$7(this,n)}},Zce=Sb.litHtmlPolyfillSupport;Zce?.(iR,sR),(null!==(eR=Sb.litHtmlVersions)&&void 0!==eR?eR:Sb.litHtmlVersions=[]).push("2.8.0");var rR,oR,Sm=class extends H7{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n,e;let t=super.createRenderRoot();return null!==(n=(e=this.renderOptions).renderBefore)&&void 0!==n||(e.renderBefore=t.firstChild),t}update(n){let e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(n),this._$Do=((n,e,t)=>{var i,s;let r=null!==(i=t?.renderBefore)&&void 0!==i?i:e,o=r._$litPart$;if(void 0===o){let a=null!==(s=t?.renderBefore)&&void 0!==s?s:null;r._$litPart$=o=new sR(e.insertBefore(Em(),a),a,void 0,t??{})}return o._$AI(n),o})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var n;super.connectedCallback(),null===(n=this._$Do)||void 0===n||n.setConnected(!0)}disconnectedCallback(){var n;super.disconnectedCallback(),null===(n=this._$Do)||void 0===n||n.setConnected(!1)}render(){return G7}};Sm.finalized=!0,Sm._$litElement$=!0,null===(rR=globalThis.litElementHydrateSupport)||void 0===rR||rR.call(globalThis,{LitElement:Sm});var Qce=globalThis.litElementPolyfillSupport;Qce?.({LitElement:Sm}),(null!==(oR=globalThis.litElementVersions)&&void 0!==oR?oR:globalThis.litElementVersions=[]).push("3.3.3");var Wft=((n,...e)=>{let t=1===n.length?n[0]:e.reduce((i,s,r)=>i+(o=>{if(!0===o._$cssResult$)return o.cssText;if("number"==typeof o)return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+n[r+1],n[0]);return new Oce(t,n,XD)})`
  @font-face {
    font-family: 'Karla';
    font-weight: regular;
    src: url('./fonts/Karla-regular.woff') format('woff');
  }

  :host {
    --lottie-player-toolbar-height: 35px;
    --lottie-player-toolbar-background-color: transparent;
    --lottie-player-toolbar-hover-background-color: #f3f6f8;
    --lottie-player-toolbar-icon-color: #20272c;
    --lottie-player-toolbar-icon-hover-color: #f3f6f8;
    --lottie-player-toolbar-icon-active-color: #00ddb3;
    --lottie-player-seeker-track-color: #00ddb3;
    --lottie-player-seeker-accent-color: #00c1a2;
    --lottie-player-seeker-thumb-color: #00c1a2;
    --lottie-player-options-separator: #d9e0e6;

    display: block;
    width: 100%;
    height: 100%;

    font-family: 'Karla', sans-serif;
    font-style: normal;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  :host * {
    box-sizing: border-box;
  }

  .active {
    color: var(--lottie-player-toolbar-icon-active-color) !important;
  }

  .main {
    position: relative;
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  .animation {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
  }
  .animation.controls {
    height: calc(100% - var(--lottie-player-toolbar-height));
  }

  .toolbar {
    display: flex;
    align-items: center;
    justify-items: center;
    background-color: var(--lottie-player-toolbar-background-color);
    margin: 0 8px;
    height: var(--lottie-player-toolbar-height);
  }

  .btn-spacing-left {
    margin-right: 4px;
    margin-left: 8px;
  }

  .btn-spacing-center {
    margin-right: 4px;
    margin-left: 4px;
  }

  .btn-spacing-right {
    margin-right: 8px;
    margin-left: 4px;
  }

  .toolbar button {
    color: #20272c;
    cursor: pointer;
    fill: var(--lottie-player-toolbar-icon-color);
    display: flex;
    background: none;
    border: 0px;
    border-radius: 4px;
    padding: 4px;
    outline: none;
    width: 24px;
    height: 24px;
    align-items: center;
  }

  .toolbar button:hover {
    background-color: var(--lottie-player-toolbar-icon-hover-color);
    border-style: solid;
    border-radius: 2px;
  }

  .toolbar button.active {
    fill: var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button.active:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
    border-radius: 4px;
  }

  .toolbar button:focus-visible {
    outline: 2px solid var(--lottie-player-toolbar-icon-active-color);
    border-radius: 4px;
    box-sizing: border-box;
  }

  .toolbar button svg {
    width: 16px;
    height: 16px;
  }

  .toolbar button.disabled svg {
    display: none;
  }

  .popover {
    position: absolute;
    bottom: 40px;
    left: calc(100% - 239px);
    width: 224px;
    min-height: 84px;
    max-height: 300px;
    background-color: #ffffff;
    box-shadow: 0px 8px 48px 0px rgba(243, 246, 248, 0.15), 0px 8px 16px 0px rgba(61, 72, 83, 0.16),
      0px 0px 1px 0px rgba(61, 72, 83, 0.36);
    border-radius: 8px;
    padding: 8px;
    z-index: 100;
    overflow-y: scroll;
    scrollbar-width: none;
  }
  .popover:focus-visible {
    outline: 2px solid var(--lottie-player-toolbar-icon-active-color);
    border-radius: 4px;
    box-sizing: border-box;
  }

  .popover::-webkit-scrollbar {
    width: 0px;
  }

  .popover-button {
    background: none;
    border: none;
    font-family: inherit;
    width: 100%;
    flex-direction: row;
    cursor: pointer;
    height: 32px;
    color: #20272c;
    justify-content: space-between;
    display: flex;
    padding: 4px 8px;
    align-items: flex-start;
    gap: 8px;
    align-self: stretch;
    border-radius: 4px;
  }

  .popover-button:focus-visible {
    outline: 2px solid var(--lottie-player-toolbar-icon-active-color);
    border-radius: 4px;
    box-sizing: border-box;
  }

  .popover-button:hover {
    background-color: var(--lottie-player-toolbar-hover-background-color);
  }

  .popover-button-text {
    display: flex;
    color: #20272c;
    flex-direction: column;
    align-self: stretch;
    justify-content: center;
    font-family: inherit;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 150%;
    letter-spacing: -0.28px;
  }

  .reset-btn {
    font-size: 12px;
    cursor: pointer;
    font-family: inherit;
    background: none;
    border: none;
    font-weight: 400;
    line-height: 18px;
    letter-spacing: 0em;
    text-align: left;
    color: #63727e;
    padding: 0;
    width: 31px;
    height: 18px;
  }
  .reset-btn:focus-visible {
    outline: 2px solid var(--lottie-player-toolbar-icon-active-color);
    border-radius: 4px;
    box-sizing: border-box;
  }
  .reset-btn:hover {
    color: #20272c;
  }

  .option-title-button {
    display: flex;
    flex-direction: row;
    width: 100%;
    height: 32px;
    align-items: center;
    gap: 4px;
    align-self: stretch;
    cursor: pointer;
    color: var(--lottie-player-toolbar-icon-color);
    border: none;
    background: none;
    padding: 4px;
    font-family: inherit;
    font-size: 16px;
    font-weight: 700;
    line-height: 150%;
    letter-spacing: -0.32px;
  }
  .option-title-button.themes {
    width: auto;
    padding: 0;
  }
  .option-title-button:hover {
    background-color: var(--lottie-player-toolbar-icon-hover-color);
  }

  .option-title-themes-row {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1 0 0;
  }
  .option-title-themes-row:hover {
    background-color: var(--lottie-player-toolbar-icon-hover-color);
  }

  .option-title-button:focus-visible {
    outline: 2px solid var(--lottie-player-toolbar-icon-active-color);
    border-radius: 4px;
    box-sizing: border-box;
  }

  .option-title-text {
    font-size: 16px;
    font-style: normal;
    font-weight: 700;
    line-height: 150%;
    letter-spacing: -0.32px;
  }

  .option-title-separator {
    margin: 8px -8px;
    border-bottom: 1px solid var(--lottie-player-options-separator);
  }

  .option-title-chevron {
    display: flex;
    padding: 4px;
    border-radius: 8px;
    justify-content: center;
    align-items: center;
    gap: 8px;
  }

  .option-row {
    display: flex;
    flex-direction: column;
  }
  .option-row > ul {
    padding: 0;
    margin: 0;
  }

  .option-button {
    width: 100%;
    background: none;
    border: none;
    font-family: inherit;
    display: flex;
    padding: 4px 8px;
    color: #20272c;
    overflow: hidden;
    align-items: center;
    gap: 8px;
    align-self: stretch;
    cursor: pointer;
    height: 32px;
    font-family: inherit;
    font-size: 14px;
    border-radius: 4px;
  }
  .option-button:hover {
    background-color: var(--lottie-player-toolbar-hover-background-color);
  }
  .option-button:focus-visible {
    outline: 2px solid var(--lottie-player-toolbar-icon-active-color);
    border-radius: 4px;
    box-sizing: border-box;
  }

  .option-tick {
    display: flex;
    width: 24px;
    height: 24px;
    align-items: flex-start;
    gap: 8px;
  }

  .seeker {
    height: 4px;
    width: 95%;
    outline: none;
    -webkit-appearance: none;
    -moz-apperance: none;
    border-radius: 9999px;
    cursor: pointer;
    background-image: linear-gradient(
      to right,
      rgb(0, 221, 179) calc(var(--seeker) * 1%),
      rgb(217, 224, 230) calc(var(--seeker) * 1%)
    );
  }
  .seeker.to-left {
    background-image: linear-gradient(
      to right,
      rgb(217, 224, 230) calc(var(--seeker) * 1%),
      rgb(0, 221, 179) calc(var(--seeker) * 1%)
    );
  }
  .seeker::-webkit-slider-runnable-track:focus-visible {
    color: #f07167;
    accent-color: #00ddb3;
  }

  .seeker::-webkit-slider-runnable-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
  }
  .seeker::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
    margin-top: -5px;
  }
  .seeker:focus-visible::-webkit-slider-thumb {
    background: var(--lottie-player-seeker-thumb-color);
    outline: 2px solid var(--lottie-player-seeker-track-color);
    border: 1.5px solid #ffffff;
  }
  .seeker::-webkit-slider-thumb:hover {
    background: #019d91;
  }
  .seeker::-moz-range-thumb {
    appearance: none;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
    margin-top: -5px;
    border-color: transparent;
  }
  .seeker:focus-visible::-moz-range-thumb {
    background: var(--lottie-player-seeker-thumb-color);
    outline: 2px solid var(--lottie-player-seeker-track-color);
    border: 1.5px solid #ffffff;
  }

  .error {
    display: flex;
    justify-content: center;
    margin: auto;
    height: 100%;
    align-items: center;
  }
`,_2=Ve(783),D2=(Ve(819),Ve(446)),qft=(n,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(t){t.createProperty(e.key,n)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,n)}};function X2(n){return(e,t)=>void 0!==t?((n,e,t)=>{e.constructor.createProperty(t,n)})(n,e,t):qft(n,e)}window;var Jce="dotlottie-player",y2=class extends Sm{defaultTheme="";container;playMode=_2.g.Normal;autoplay=!1;background="transparent";controls=!1;direction=1;hover=!1;loop;renderer="svg";speed=1;src;intermission=0;activeAnimationId=null;light=!1;worker=!1;activeStateId;_seeker=0;_dotLottieCommonPlayer;_io;_loop;_renderer="svg";_unsubscribeListeners;_hasMultipleAnimations=!1;_hasMultipleThemes=!1;_hasMultipleStates=!1;_popoverIsOpen=!1;_animationsTabIsOpen=!1;_statesTabIsOpen=!1;_styleTabIsOpen=!1;_themesForCurrentAnimation=[];_statesForCurrentAnimation=[];_parseLoop(n){let e=parseInt(n,10);return Number.isInteger(e)&&e>0?(this._loop=e,e):"string"==typeof n&&["true","false"].includes(n)?(this._loop="true"===n,this._loop):((0,_2.c)("loop must be a positive integer or a boolean"),!1)}_handleSeekChange(n){let e=n.currentTarget;try{let t=parseInt(e.value,10);if(!this._dotLottieCommonPlayer)return;this.seek(t/100*this._dotLottieCommonPlayer.totalFrames)}catch{throw(0,_2.a)("Error while seeking animation")}}_initListeners(){let n=this._dotLottieCommonPlayer;void 0!==n?(this._unsubscribeListeners=n.state.subscribe((e,t)=>{this._seeker=e.seeker,this.requestUpdate(),t.currentState!==e.currentState&&this.dispatchEvent(new CustomEvent(e.currentState)),this.dispatchEvent(new CustomEvent(_2.e.Frame,{detail:{frame:e.frame,seeker:e.seeker}})),this.dispatchEvent(new CustomEvent(_2.e.VisibilityChange,{detail:{visibilityPercentage:e.visibilityPercentage}}))}),n.addEventListener("complete",()=>{this.dispatchEvent(new CustomEvent(_2.e.Complete))}),n.addEventListener("loopComplete",()=>{this.dispatchEvent(new CustomEvent(_2.e.LoopComplete))}),n.addEventListener("DOMLoaded",()=>{let e=this.getManifest();e&&e.themes&&(this._themesForCurrentAnimation=e.themes.filter(t=>t.animations.includes(this.getCurrentAnimationId()||""))),e&&e.states&&(this._hasMultipleStates=e.states.length>0,this._statesForCurrentAnimation=[],e.states.forEach(t=>{this._statesForCurrentAnimation.push(t)})),this.dispatchEvent(new CustomEvent(_2.e.Ready))}),n.addEventListener("data_ready",()=>{this.dispatchEvent(new CustomEvent(_2.e.DataReady))}),n.addEventListener("data_failed",()=>{this.dispatchEvent(new CustomEvent(_2.e.DataFail))}),window&&window.addEventListener("click",e=>this._clickOutListener(e))):(0,_2.c)("player not initialized - cannot add event listeners","dotlottie-player-component")}load(n,e,t){var i=this;return(0,Ne.A)(function*(){if(!i.shadowRoot)return;i._dotLottieCommonPlayer&&i._dotLottieCommonPlayer.destroy(),i._dotLottieCommonPlayer=new _2.j(n,i.container,{rendererSettings:e??{scaleMode:"noScale",clearCanvas:!0,progressiveLoad:!0,hideOnTransparent:!0},hover:i.hasAttribute("hover")?i.hover:void 0,renderer:i.hasAttribute("renderer")?i._renderer:void 0,loop:i.hasAttribute("loop")?i._loop:void 0,direction:i.hasAttribute("direction")?1===i.direction?1:-1:void 0,speed:i.hasAttribute("speed")?i.speed:void 0,intermission:i.hasAttribute("intermission")?Number(i.intermission):void 0,playMode:i.hasAttribute("playMode")?i.playMode:void 0,autoplay:i.hasAttribute("autoplay")?i.autoplay:void 0,activeAnimationId:i.hasAttribute("activeAnimationId")?i.activeAnimationId:void 0,defaultTheme:i.hasAttribute("defaultTheme")?i.defaultTheme:void 0,light:i.light,worker:i.worker,activeStateId:i.hasAttribute("activeStateId")?i.activeStateId:void 0}),yield i._dotLottieCommonPlayer.load(t);let s=i.getManifest();i._hasMultipleAnimations=i.animationCount()>1,s&&(s.themes&&(i._themesForCurrentAnimation=s.themes.filter(r=>r.animations.includes(i.getCurrentAnimationId()||"")),i._hasMultipleThemes=s.themes.length>0),s.states&&(i._hasMultipleStates=s.states.length>0,i._statesForCurrentAnimation=[],s.states.forEach(r=>{i._statesForCurrentAnimation.push(r)}))),i._initListeners()})()}getCurrentAnimationId(){var n;return null==(n=this._dotLottieCommonPlayer)?void 0:n.currentAnimationId}animationCount(){var n;return this._dotLottieCommonPlayer&&(null==(n=this._dotLottieCommonPlayer.getManifest())?void 0:n.animations.length)||0}animations(){if(!this._dotLottieCommonPlayer)return[];let n=this._dotLottieCommonPlayer.getManifest();return n?.animations.map(e=>e.id)||[]}currentAnimation(){return this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.currentAnimationId?this._dotLottieCommonPlayer.currentAnimationId:""}getState(){return this._dotLottieCommonPlayer?this._dotLottieCommonPlayer.getState():_2.i}getManifest(){var n;return null==(n=this._dotLottieCommonPlayer)?void 0:n.getManifest()}getLottie(){var n;return null==(n=this._dotLottieCommonPlayer)?void 0:n.getAnimationInstance()}getVersions(){return{lottieWebVersion:_2.j.getLottieWebVersion(),dotLottiePlayerVersion:"2.7.12"}}previous(n){var e;null==(e=this._dotLottieCommonPlayer)||e.previous(n)}next(n){var e;null==(e=this._dotLottieCommonPlayer)||e.next(n)}reset(){var n;null==(n=this._dotLottieCommonPlayer)||n.reset()}play(n,e){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.play(n,e)}pause(){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.pause()}stop(){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.stop()}playOnShow(n){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.playOnShow(n)}stopPlayOnShow(){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.stopPlayOnShow()}playOnScroll(n){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.playOnScroll(n)}stopPlayOnScroll(){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.stopPlayOnScroll()}seek(n){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.seek(n)}snapshot(n=!0){if(!this.shadowRoot)return"";let e=this.shadowRoot.querySelector(".animation svg"),t=(new XMLSerializer).serializeToString(e);if(n){let i=document.createElement("a");i.href=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`,i.download=`download_${this._seeker}.svg`,document.body.appendChild(i),i.click(),document.body.removeChild(i)}return t}setTheme(n){var e;null==(e=this._dotLottieCommonPlayer)||e.setDefaultTheme(n)}themes(){var n;if(!this._dotLottieCommonPlayer)return[];let e=this._dotLottieCommonPlayer.getManifest();return(null==(n=e?.themes)?void 0:n.map(t=>t.id))||[]}getDefaultTheme(){return this._dotLottieCommonPlayer?this._dotLottieCommonPlayer.defaultTheme:""}getActiveStateMachine(){return this._dotLottieCommonPlayer?this._dotLottieCommonPlayer.activeStateId:""}_freeze(){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.freeze()}setSpeed(n=1){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.setSpeed(n)}setDirection(n){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.setDirection(n)}setLooping(n){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.setLoop(n)}isLooping(){return!!this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.loop}togglePlay(){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.togglePlay()}toggleLooping(){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.toggleLoop()}setPlayMode(n){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.setMode(n)}enterInteractiveMode(n){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.enterInteractiveMode(n)}exitInteractiveMode(){this._dotLottieCommonPlayer&&this._dotLottieCommonPlayer.exitInteractiveMode()}revertToManifestValues(n){var e;null==(e=this._dotLottieCommonPlayer)||e.revertToManifestValues(n)}static get styles(){return Wft}firstUpdated(){var n=this;return(0,Ne.A)(function*(){var e;n.container=null==(e=n.shadowRoot)?void 0:e.querySelector("#animation"),"IntersectionObserver"in window&&(n._io=new IntersectionObserver(t=>{var i,s;void 0!==t[0]&&t[0].isIntersecting?(null==(i=n._dotLottieCommonPlayer)?void 0:i.currentState)===_2.f.Frozen&&n.play():(null==(s=n._dotLottieCommonPlayer)?void 0:s.currentState)===_2.f.Playing&&n._freeze()}),n._io.observe(n.container)),n.loop?n._parseLoop(n.loop):n.hasAttribute("loop")&&n._parseLoop("true"),"svg"===n.renderer?n._renderer="svg":"canvas"===n.renderer?n._renderer="canvas":"html"===n.renderer&&(n._renderer="html"),n.src&&(yield n.load(n.src))})()}disconnectedCallback(){var n,e;this._io&&(this._io.disconnect(),this._io=void 0),null==(n=this._dotLottieCommonPlayer)||n.destroy(),null==(e=this._unsubscribeListeners)||e.call(this),window&&window.removeEventListener("click",t=>this._clickOutListener(t))}_clickOutListener(n){!n.composedPath().some(e=>e instanceof HTMLElement&&(e.classList.contains("popover")||"lottie-animation-options"===e.id))&&this._popoverIsOpen&&(this._popoverIsOpen=!1,this.requestUpdate())}renderControls(){var n,e,t,i,s;let r=(null==(n=this._dotLottieCommonPlayer)?void 0:n.currentState)===_2.f.Playing,o=(null==(e=this._dotLottieCommonPlayer)?void 0:e.currentState)===_2.f.Paused;return J1`
      <div id="lottie-controls" aria-label="lottie-animation-controls" class="toolbar">
        ${this._hasMultipleAnimations?J1`
              <button @click=${()=>this.previous()} aria-label="Previous animation" class="btn-spacing-left">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M1.69214 13.5C1.69214 13.7761 1.916 14 2.19214 14C2.46828 14 2.69214 13.7761 2.69214 13.5L2.69214 2.5C2.69214 2.22386 2.46828 2 2.19214 2C1.916 2 1.69214 2.22386 1.69214 2.5V13.5ZM12.5192 13.7828C13.1859 14.174 14.0254 13.6933 14.0254 12.9204L14.0254 3.0799C14.0254 2.30692 13.1859 1.8262 12.5192 2.21747L4.13612 7.13769C3.47769 7.52414 3.47769 8.4761 4.13612 8.86255L12.5192 13.7828Z"
                    fill="#20272C"
                  />
                </svg>
              </button>
            `:J1``}
        <button
          id="lottie-play-button"
          @click=${()=>{this.togglePlay()}}
          class=${r||o?"active "+(this._hasMultipleAnimations?"btn-spacing-center":"btn-spacing-right"):this._hasMultipleAnimations?"btn-spacing-center":"btn-spacing-right"}
          aria-label="play / pause animation"
        >
          ${r?J1`
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M3.99996 2C3.26358 2 2.66663 2.59695 2.66663 3.33333V12.6667C2.66663 13.403 3.26358 14 3.99996 14H5.33329C6.06967 14 6.66663 13.403 6.66663 12.6667V3.33333C6.66663 2.59695 6.06967 2 5.33329 2H3.99996Z"
                    fill="#20272C"
                  />
                  <path
                    d="M10.6666 2C9.93025 2 9.33329 2.59695 9.33329 3.33333V12.6667C9.33329 13.403 9.93025 14 10.6666 14H12C12.7363 14 13.3333 13.403 13.3333 12.6667V3.33333C13.3333 2.59695 12.7363 2 12 2H10.6666Z"
                    fill="#20272C"
                  />
                </svg>
              `:J1`
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M3.33337 3.46787C3.33337 2.52312 4.35948 1.93558 5.17426 2.41379L12.8961 6.94592C13.7009 7.41824 13.7009 8.58176 12.8961 9.05408L5.17426 13.5862C4.35948 14.0644 3.33337 13.4769 3.33337 12.5321V3.46787Z"
                    fill="#20272C"
                  />
                </svg>
              `}
        </button>
        ${this._hasMultipleAnimations?J1`
              <button @click=${()=>this.next()} aria-label="Next animation" class="btn-spacing-right">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M14.3336 2.5C14.3336 2.22386 14.1097 2 13.8336 2C13.5574 2 13.3336 2.22386 13.3336 2.5V13.5C13.3336 13.7761 13.5574 14 13.8336 14C14.1097 14 14.3336 13.7761 14.3336 13.5V2.5ZM3.50618 2.21722C2.83954 1.82595 2 2.30667 2 3.07965V12.9201C2 13.6931 2.83954 14.1738 3.50618 13.7825L11.8893 8.86231C12.5477 8.47586 12.5477 7.52389 11.8893 7.13745L3.50618 2.21722Z"
                    fill="#20272C"
                  />
                </svg>
              </button>
            `:J1``}
        <input
          id="lottie-seeker-input"
          class="seeker ${-1===(null==(t=this._dotLottieCommonPlayer)?void 0:t.direction)?"to-left":""}"
          type="range"
          min="0"
          step="1"
          max="100"
          .value=${this._seeker}
          @input=${a=>this._handleSeekChange(a)}
          @mousedown=${()=>{this._freeze()}}
          @mouseup=${()=>{var a;null==(a=this._dotLottieCommonPlayer)||a.unfreeze()}}
          aria-valuemin="1"
          aria-valuemax="100"
          role="slider"
          aria-valuenow=${this._seeker}
          aria-label="lottie-seek-input"
          style=${`--seeker: ${this._seeker}`}
        />
        <button
          id="lottie-loop-toggle"
          @click=${()=>this.toggleLooping()}
          class=${null!=(i=this._dotLottieCommonPlayer)&&i.loop?"active btn-spacing-left":"btn-spacing-left"}
          aria-label="loop-toggle"
        >
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M10.8654 2.31319C11.0607 2.11793 11.3772 2.11793 11.5725 2.31319L13.4581 4.19881C13.6534 4.39407 13.6534 4.71066 13.4581 4.90592L11.5725 6.79154C11.3772 6.9868 11.0607 6.9868 10.8654 6.79154C10.6701 6.59628 10.6701 6.27969 10.8654 6.08443L11.6162 5.33362H4V6.66695C4 7.03514 3.70152 7.33362 3.33333 7.33362C2.96514 7.33362 2.66666 7.03514 2.66666 6.66695L2.66666 4.66695C2.66666 4.29876 2.96514 4.00028 3.33333 4.00028H11.8454L10.8654 3.0203C10.6701 2.82504 10.6701 2.50846 10.8654 2.31319Z"
              fill="currentColor"
            />
            <path
              d="M12.4375 11.9999C12.8057 11.9999 13.1042 11.7014 13.1042 11.3332V9.33321C13.1042 8.96502 12.8057 8.66655 12.4375 8.66655C12.0693 8.66655 11.7708 8.96502 11.7708 9.33321V10.6665H4.15462L4.90543 9.91573C5.10069 9.72047 5.10069 9.40389 4.90543 9.20862C4.71017 9.01336 4.39359 9.01336 4.19832 9.20862L2.31271 11.0942C2.11744 11.2895 2.11744 11.6061 2.31271 11.8013L4.19832 13.687C4.39359 13.8822 4.71017 13.8822 4.90543 13.687C5.10069 13.4917 5.10069 13.1751 4.90543 12.9799L3.92545 11.9999H12.4375Z"
              fill="currentColor"
            />
          </svg>
        </button>
        ${this._hasMultipleAnimations||this._hasMultipleThemes||this._hasMultipleStates?J1`
              <button
                id="lottie-animation-options"
                @click=${()=>{this._popoverIsOpen=!this._popoverIsOpen,this.requestUpdate()}}
                aria-label="options"
                class="btn-spacing-right"
                style=${"background-color: "+(this._popoverIsOpen?"var(--lottie-player-toolbar-icon-hover-color)":"")}
              >
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M8.33337 11.6666C7.78109 11.6666 7.33337 12.1143 7.33337 12.6666C7.33337 13.2189 7.78109 13.6666 8.33337 13.6666C8.88566 13.6666 9.33337 13.2189 9.33337 12.6666C9.33337 12.1143 8.88566 11.6666 8.33337 11.6666Z"
                    fill="#20272C"
                  />
                  <path
                    d="M7.33337 7.99992C7.33337 7.44763 7.78109 6.99992 8.33337 6.99992C8.88566 6.99992 9.33338 7.44763 9.33338 7.99992C9.33338 8.5522 8.88566 8.99992 8.33337 8.99992C7.78109 8.99992 7.33337 8.5522 7.33337 7.99992Z"
                    fill="#20272C"
                  />
                  <path
                    d="M7.33337 3.33325C7.33337 2.78097 7.78109 2.33325 8.33337 2.33325C8.88566 2.33325 9.33338 2.78097 9.33338 3.33325C9.33338 3.88554 8.88566 4.33325 8.33337 4.33325C7.78109 4.33325 7.33337 3.88554 7.33337 3.33325Z"
                    fill="#20272C"
                  />
                </svg>
              </button>
            `:J1``}
      </div>
      ${this._popoverIsOpen?J1`
            <div
              id="popover"
              class="popover"
              tabindex="0"
              aria-label="lottie animations themes popover"
              style="min-height: ${this.themes().length>0?"84px":"auto"}"
            >
              ${this._animationsTabIsOpen||this._styleTabIsOpen||this._statesTabIsOpen?J1``:J1`
                    <button
                      class="popover-button"
                      tabindex="0"
                      aria-label="animations"
                      @click=${()=>{this._animationsTabIsOpen=!this._animationsTabIsOpen,this.requestUpdate()}}
                      @keydown=${a=>{("Space"===a.code||"Enter"===a.code)&&(this._animationsTabIsOpen=!this._animationsTabIsOpen,this.requestUpdate())}}
                    >
                      <div class="popover-button-text">Animations</div>
                      <div>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M10.4697 17.5303C10.1768 17.2374 10.1768 16.7626 10.4697 16.4697L14.9393 12L10.4697 7.53033C10.1768 7.23744 10.1768 6.76256 10.4697 6.46967C10.7626 6.17678 11.2374 6.17678 11.5303 6.46967L16.5303 11.4697C16.8232 11.7626 16.8232 12.2374 16.5303 12.5303L11.5303 17.5303C11.2374 17.8232 10.7626 17.8232 10.4697 17.5303Z"
                            fill="#4C5863"
                          />
                        </svg>
                      </div>
                    </button>
                  `}
              ${!this._hasMultipleThemes||this._styleTabIsOpen||this._animationsTabIsOpen||this._statesTabIsOpen?"":J1` <button
                    class="popover-button"
                    aria-label="Themes"
                    @click=${()=>{this._styleTabIsOpen=!this._styleTabIsOpen,this.requestUpdate()}}
                    @keydown=${a=>{("Space"===a.code||"Enter"===a.code)&&(this._styleTabIsOpen=!this._styleTabIsOpen,this.requestUpdate())}}
                  >
                    <div class="popover-button-text">Themes</div>
                    <div>
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M10.4697 17.5303C10.1768 17.2374 10.1768 16.7626 10.4697 16.4697L14.9393 12L10.4697 7.53033C10.1768 7.23744 10.1768 6.76256 10.4697 6.46967C10.7626 6.17678 11.2374 6.17678 11.5303 6.46967L16.5303 11.4697C16.8232 11.7626 16.8232 12.2374 16.5303 12.5303L11.5303 17.5303C11.2374 17.8232 10.7626 17.8232 10.4697 17.5303Z"
                          fill="#4C5863"
                        />
                      </svg>
                    </div>
                  </button>`}
              ${!this._hasMultipleStates||this._styleTabIsOpen||this._animationsTabIsOpen||this._statesTabIsOpen?"":J1` <button
                    class="popover-button"
                    aria-label="States"
                    @click=${()=>{this._statesTabIsOpen=!this._statesTabIsOpen,this.requestUpdate()}}
                    @keydown=${a=>{("Space"===a.code||"Enter"===a.code)&&(this._statesTabIsOpen=!this._statesTabIsOpen,this.requestUpdate())}}
                  >
                    <div class="popover-button-text">States</div>
                    <div>
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M10.4697 17.5303C10.1768 17.2374 10.1768 16.7626 10.4697 16.4697L14.9393 12L10.4697 7.53033C10.1768 7.23744 10.1768 6.76256 10.4697 6.46967C10.7626 6.17678 11.2374 6.17678 11.5303 6.46967L16.5303 11.4697C16.8232 11.7626 16.8232 12.2374 16.5303 12.5303L11.5303 17.5303C11.2374 17.8232 10.7626 17.8232 10.4697 17.5303Z"
                          fill="#4C5863"
                        />
                      </svg>
                    </div>
                  </button>`}
              ${this._animationsTabIsOpen?J1`<button
                      class="option-title-button"
                      aria-label="Back to main popover menu"
                      @click=${()=>{this._animationsTabIsOpen=!this._animationsTabIsOpen,this.requestUpdate()}}
                    >
                      <div class="option-title-chevron">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M13.5303 6.46967C13.8232 6.76256 13.8232 7.23744 13.5303 7.53033L9.06066 12L13.5303 16.4697C13.8232 16.7626 13.8232 17.2374 13.5303 17.5303C13.2374 17.8232 12.7626 17.8232 12.4697 17.5303L7.46967 12.5303C7.17678 12.2374 7.17678 11.7626 7.46967 11.4697L12.4697 6.46967C12.7626 6.17678 13.2374 6.17678 13.5303 6.46967Z"
                            fill="#20272C"
                          />
                        </svg>
                      </div>
                      <div>Animations</div>
                    </button>
                    <div class="option-title-separator"></div>
                    <div class="option-row">
                      <ul>
                        ${this.animations().map(a=>J1`
                            <li>
                              <button
                                class="option-button"
                                aria-label=${`${a}`}
                                @click=${()=>{this._animationsTabIsOpen=!this._animationsTabIsOpen,this._popoverIsOpen=!this._popoverIsOpen,this.play(a),this.requestUpdate()}}
                                @keydown=${c=>{("Space"===c.code||"Enter"===c.code)&&(this._animationsTabIsOpen=!this._animationsTabIsOpen,this._popoverIsOpen=!this._popoverIsOpen,this.play(a),this.requestUpdate())}}
                              >
                                <div class="option-tick">
                                  ${this.currentAnimation()===a?J1`
                                        <svg
                                          width="24"
                                          height="24"
                                          viewBox="0 0 24 24"
                                          fill="none"
                                          xmlns="http://www.w3.org/2000/svg"
                                        >
                                          <path
                                            fill-rule="evenodd"
                                            clip-rule="evenodd"
                                            d="M20.5281 5.9372C20.821 6.23009 20.821 6.70497 20.5281 6.99786L9.46297 18.063C9.32168 18.2043 9.12985 18.2833 8.93004 18.2826C8.73023 18.2819 8.53895 18.2015 8.39864 18.0593L3.46795 13.0596C3.1771 12.7647 3.1804 12.2898 3.47532 11.999C3.77024 11.7081 4.2451 11.7114 4.53595 12.0063L8.93634 16.4683L19.4675 5.9372C19.7604 5.64431 20.2352 5.64431 20.5281 5.9372Z"
                                            fill="#20272C"
                                          />
                                        </svg>
                                      `:J1`<div style="width: 24px; height: 24px"></div>`}
                                </div>
                                <div>${a}</div>
                              </button>
                            </li>
                          `)}
                      </ul>
                    </div> `:J1``}
              ${this._styleTabIsOpen?J1`<div class="option-title-themes-row">
                      <button
                        class="option-title-button themes"
                        aria-label="Back to main popover menu"
                        @click=${()=>{this._styleTabIsOpen=!this._styleTabIsOpen,this.requestUpdate()}}
                      >
                        <div class="option-title-chevron">
                          <svg
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M13.5303 6.46967C13.8232 6.76256 13.8232 7.23744 13.5303 7.53033L9.06066 12L13.5303 16.4697C13.8232 16.7626 13.8232 17.2374 13.5303 17.5303C13.2374 17.8232 12.7626 17.8232 12.4697 17.5303L7.46967 12.5303C7.17678 12.2374 7.17678 11.7626 7.46967 11.4697L12.4697 6.46967C12.7626 6.17678 13.2374 6.17678 13.5303 6.46967Z"
                              fill="#20272C"
                            />
                          </svg>
                        </div>
                        <div class="option-title-text">Themes</div>
                        ${""===(null==(s=this._dotLottieCommonPlayer)?void 0:s.defaultTheme)?J1``:J1`
                              <button
                                class="reset-btn"
                                @click=${()=>{this.setTheme(""),this.requestUpdate()}}
                              >
                                Reset
                              </button>
                            `}
                      </button>
                    </div>
                    <div class="option-title-separator"></div>
                    <div class="option-row">
                      <ul>
                        ${this._themesForCurrentAnimation.map(a=>J1`
                            <li>
                              <button
                                class="option-button"
                                aria-label="${a.id}"
                                @click=${()=>{this.setTheme(a.id)}}
                                @keydown=${c=>{("Space"===c.code||"Enter"===c.code)&&this.setTheme(a.id)}}
                              >
                                <div class="option-tick">
                                  ${this.getDefaultTheme()===a.id?J1`
                                        <svg
                                          width="24"
                                          height="24"
                                          viewBox="0 0 24 24"
                                          fill="none"
                                          xmlns="http://www.w3.org/2000/svg"
                                        >
                                          <path
                                            fill-rule="evenodd"
                                            clip-rule="evenodd"
                                            d="M20.5281 5.9372C20.821 6.23009 20.821 6.70497 20.5281 6.99786L9.46297 18.063C9.32168 18.2043 9.12985 18.2833 8.93004 18.2826C8.73023 18.2819 8.53895 18.2015 8.39864 18.0593L3.46795 13.0596C3.1771 12.7647 3.1804 12.2898 3.47532 11.999C3.77024 11.7081 4.2451 11.7114 4.53595 12.0063L8.93634 16.4683L19.4675 5.9372C19.7604 5.64431 20.2352 5.64431 20.5281 5.9372Z"
                                            fill="#20272C"
                                          />
                                        </svg>
                                      `:J1`<div style="width: 24px; height: 24px"></div>`}
                                </div>
                                <div>${a.id}</div>
                              </button>
                            </li>
                          `)}
                      </ul>
                    </div>`:J1``}
              ${this._statesTabIsOpen?J1`<div class="option-title-themes-row">
                      <button
                        class="option-title-button themes"
                        aria-label="Back to main popover menu"
                        @click=${()=>{this._statesTabIsOpen=!this._statesTabIsOpen,this.requestUpdate()}}
                      >
                        <div class="option-title-chevron">
                          <svg
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M13.5303 6.46967C13.8232 6.76256 13.8232 7.23744 13.5303 7.53033L9.06066 12L13.5303 16.4697C13.8232 16.7626 13.8232 17.2374 13.5303 17.5303C13.2374 17.8232 12.7626 17.8232 12.4697 17.5303L7.46967 12.5303C7.17678 12.2374 7.17678 11.7626 7.46967 11.4697L12.4697 6.46967C12.7626 6.17678 13.2374 6.17678 13.5303 6.46967Z"
                              fill="#20272C"
                            />
                          </svg>
                        </div>
                        <div class="option-title-text">States</div>
                        <button
                          class="reset-btn"
                          @click=${()=>{this.exitInteractiveMode(),this.requestUpdate()}}
                        >
                          Reset
                        </button>
                      </button>
                    </div>
                    <div class="option-title-separator"></div>
                    <div class="option-row">
                      <ul>
                        ${this._statesForCurrentAnimation.map(a=>J1`
                            <li>
                              <button
                                class="option-button"
                                aria-label="${a}"
                                @click=${()=>{this.enterInteractiveMode(a)}}
                                @keydown=${c=>{("Space"===c.code||"Enter"===c.code)&&this.enterInteractiveMode(a)}}
                              >
                                <div class="option-tick">
                                  ${this.getActiveStateMachine()===a?J1`
                                        <svg
                                          width="24"
                                          height="24"
                                          viewBox="0 0 24 24"
                                          fill="none"
                                          xmlns="http://www.w3.org/2000/svg"
                                        >
                                          <path
                                            fill-rule="evenodd"
                                            clip-rule="evenodd"
                                            d="M20.5281 5.9372C20.821 6.23009 20.821 6.70497 20.5281 6.99786L9.46297 18.063C9.32168 18.2043 9.12985 18.2833 8.93004 18.2826C8.73023 18.2819 8.53895 18.2015 8.39864 18.0593L3.46795 13.0596C3.1771 12.7647 3.1804 12.2898 3.47532 11.999C3.77024 11.7081 4.2451 11.7114 4.53595 12.0063L8.93634 16.4683L19.4675 5.9372C19.7604 5.64431 20.2352 5.64431 20.5281 5.9372Z"
                                            fill="#20272C"
                                          />
                                        </svg>
                                      `:J1`<div style="width: 24px; height: 24px"></div>`}
                                </div>
                                <div>${a}</div>
                              </button>
                            </li>
                          `)}
                      </ul>
                    </div>`:J1``}
            </div>
          `:J1``}
    `}render(){var n;return J1`
      <div id="animation-container" class=${this.controls?"main controls":"main"} lang="en" role="img" aria-label="lottie-animation-container">
        <div id="animation" class=${this.controls?"animation controls":"animation"} style="background:${this.background};">
          ${(null==(n=this._dotLottieCommonPlayer)?void 0:n.currentState)===_2.f.Error?J1` <div class="error">⚠️</div> `:void 0}
        </div>
        ${this.controls?this.renderControls():void 0}
      </div>
    `}};(0,D2.a)([X2({type:String})],y2.prototype,"defaultTheme",2),(0,D2.a)([function Zft(n,e){return(({finisher:n,descriptor:e})=>(t,i)=>{var s;if(void 0===i){let r=null!==(s=t.originalKey)&&void 0!==s?s:t.key,o=null!=e?{kind:"method",placement:"prototype",key:r,descriptor:e(t.key)}:{...t,key:r};return null!=n&&(o.finisher=function(a){n(a,r)}),o}{let r=t.constructor;void 0!==e&&Object.defineProperty(t,i,e(i)),n?.(r,i)}})({descriptor:t=>{let i={get(){var s,r;return null!==(r=null===(s=this.renderRoot)||void 0===s?void 0:s.querySelector(n))&&void 0!==r?r:null},enumerable:!0,configurable:!0};if(e){let s="symbol"==typeof t?Symbol():"__"+t;i.get=function(){var r,o;return void 0===this[s]&&(this[s]=null!==(o=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelector(n))&&void 0!==o?o:null),this[s]}}return i}})}("#animation")],y2.prototype,"container",2),(0,D2.a)([X2()],y2.prototype,"playMode",2),(0,D2.a)([X2({type:Boolean})],y2.prototype,"autoplay",2),(0,D2.a)([X2({type:String})],y2.prototype,"background",2),(0,D2.a)([X2({type:Boolean})],y2.prototype,"controls",2),(0,D2.a)([X2({type:Number})],y2.prototype,"direction",2),(0,D2.a)([X2({type:Boolean})],y2.prototype,"hover",2),(0,D2.a)([X2({type:String})],y2.prototype,"loop",2),(0,D2.a)([X2({type:String})],y2.prototype,"renderer",2),(0,D2.a)([X2({type:Number})],y2.prototype,"speed",2),(0,D2.a)([X2({type:String})],y2.prototype,"src",2),(0,D2.a)([X2()],y2.prototype,"intermission",2),(0,D2.a)([X2({type:String})],y2.prototype,"activeAnimationId",2),(0,D2.a)([X2({type:Boolean})],y2.prototype,"light",2),(0,D2.a)([X2({type:Boolean})],y2.prototype,"worker",2),(0,D2.a)([X2({type:String})],y2.prototype,"activeStateId",2),(0,D2.a)([function Xft(n){return X2({...n,state:!0})}()],y2.prototype,"_seeker",2),customElements.get(Jce)||customElements.define(Jce,y2),qj().bootstrapModule(Dce).catch(n=>console.error(n)),qj().bootstrapModule(Dce,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n))},235:function(n2){n2.exports=function(u1){function Ve(st){if(H[st])return H[st].exports;var Fe=H[st]={exports:{},id:st,loaded:!1};return u1[st].call(Fe.exports,Fe,Fe.exports,Ve),Fe.loaded=!0,Fe.exports}var H={};return Ve.m=u1,Ve.c=H,Ve.p="dist/",Ve(0)}([function(u1,Ve,H){"use strict";function st(Wt){return Wt&&Wt.__esModule?Wt:{default:Wt}}var Fe=Object.assign||function(Wt){for(var Oe=1;Oe<arguments.length;Oe++){var P1=arguments[Oe];for(var f1 in P1)Object.prototype.hasOwnProperty.call(P1,f1)&&(Wt[f1]=P1[f1])}return Wt},wn=(st(H(1)),H(6)),xt=st(wn),Ut=st(H(7)),ee=st(H(8)),dt=st(H(9)),dn=st(H(10)),t1=st(H(11)),In=st(H(14)),d1=[],G1=!1,At={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},n1=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(G1=!0),G1)return d1=(0,t1.default)(d1,At),(0,dn.default)(d1,At.once),d1},c1=function(){d1=(0,In.default)(),n1()};u1.exports={init:function(Wt){At=Fe(At,Wt),d1=(0,In.default)();var Oe=document.all&&!window.atob;return function(Wt){return!0===Wt||"mobile"===Wt&&dt.default.mobile()||"phone"===Wt&&dt.default.phone()||"tablet"===Wt&&dt.default.tablet()||"function"==typeof Wt&&!0===Wt()}(At.disable)||Oe?void d1.forEach(function(Wt,Oe){Wt.node.removeAttribute("data-aos"),Wt.node.removeAttribute("data-aos-easing"),Wt.node.removeAttribute("data-aos-duration"),Wt.node.removeAttribute("data-aos-delay")}):(At.disableMutationObserver||ee.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),At.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",At.easing),document.querySelector("body").setAttribute("data-aos-duration",At.duration),document.querySelector("body").setAttribute("data-aos-delay",At.delay),"DOMContentLoaded"===At.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?n1(!0):"load"===At.startEvent?window.addEventListener(At.startEvent,function(){n1(!0)}):document.addEventListener(At.startEvent,function(){n1(!0)}),window.addEventListener("resize",(0,Ut.default)(n1,At.debounceDelay,!0)),window.addEventListener("orientationchange",(0,Ut.default)(n1,At.debounceDelay,!0)),window.addEventListener("scroll",(0,xt.default)(function(){(0,dn.default)(d1,At.once)},At.throttleDelay)),At.disableMutationObserver||ee.default.ready("[data-aos]",c1),d1)},refresh:n1,refreshHard:c1}},function(u1,Ve){},,,,,function(u1,Ve){(function(H){"use strict";function st(Re,Tn,Wt){function Oe(gn){var mi=ge,E1=Te;return ge=Te=void 0,Pn=gn,Ze=Re.apply(E1,mi)}function Li(gn){var mi=gn-ct;return void 0===ct||mi>=Tn||mi<0||fn&&gn-Pn>=Ie}function Ms(){var gn=Zt();return Li(gn)?os(gn):void(be=setTimeout(Ms,function f1(gn){var Rn=Tn-(gn-ct);return fn?c1(Rn,Ie-(gn-Pn)):Rn}(gn)))}function os(gn){return be=void 0,mn&&ge?Oe(gn):(ge=Te=void 0,Ze)}function he(){var gn=Zt(),mi=Li(gn);if(ge=arguments,Te=this,ct=gn,mi){if(void 0===be)return function P1(gn){return Pn=gn,be=setTimeout(Ms,Tn),O1?Oe(gn):Ze}(ct);if(fn)return be=setTimeout(Ms,Tn),Oe(ct)}return void 0===be&&(be=setTimeout(Ms,Tn)),Ze}var ge,Te,Ie,Ze,be,ct,Pn=0,O1=!1,fn=!1,mn=!0;if("function"!=typeof Re)throw new TypeError(Dt);return Tn=Je(Tn)||0,se(Wt)&&(O1=!!Wt.leading,Ie=(fn="maxWait"in Wt)?n1(Je(Wt.maxWait)||0,Tn):Ie,mn="trailing"in Wt?!!Wt.trailing:mn),he.cancel=function er(){void 0!==be&&clearTimeout(be),Pn=0,ge=ct=Te=be=void 0},he.flush=function s2(){return void 0===be?Ze:os(Zt())},he}function se(Re){var Tn=typeof Re>"u"?"undefined":Ut(Re);return!!Re&&("object"==Tn||"function"==Tn)}function xt(Re){return"symbol"==(typeof Re>"u"?"undefined":Ut(Re))||function wn(Re){return!!Re&&"object"==(typeof Re>"u"?"undefined":Ut(Re))}(Re)&&At.call(Re)==le}function Je(Re){if("number"==typeof Re)return Re;if(xt(Re))return ee;if(se(Re)){var Tn="function"==typeof Re.valueOf?Re.valueOf():Re;Re=se(Tn)?Tn+"":Tn}if("string"!=typeof Re)return 0===Re?Re:+Re;Re=Re.replace(dt,"");var Wt=dn.test(Re);return Wt||di.test(Re)?t1(Re.slice(2),Wt?2:8):St.test(Re)?ee:+Re}var Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Re){return typeof Re}:function(Re){return Re&&"function"==typeof Symbol&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},Dt="Expected a function",ee=NaN,le="[object Symbol]",dt=/^\s+|\s+$/g,St=/^[-+]0x[0-9a-f]+$/i,dn=/^0b[01]+$/i,di=/^0o[0-7]+$/i,t1=parseInt,ln="object"==(typeof H>"u"?"undefined":Ut(H))&&H&&H.Object===Object&&H,In="object"==(typeof self>"u"?"undefined":Ut(self))&&self&&self.Object===Object&&self,d1=ln||In||Function("return this")(),At=Object.prototype.toString,n1=Math.max,c1=Math.min,Zt=function(){return d1.Date.now()};u1.exports=function Fe(Re,Tn,Wt){var Oe=!0,P1=!0;if("function"!=typeof Re)throw new TypeError(Dt);return se(Wt)&&(Oe="leading"in Wt?!!Wt.leading:Oe,P1="trailing"in Wt?!!Wt.trailing:P1),st(Re,Tn,{leading:Oe,maxWait:Tn,trailing:P1})}}).call(Ve,function(){return this}())},function(u1,Ve){(function(H){"use strict";function Fe(Zt){var Re=typeof Zt>"u"?"undefined":Je(Zt);return!!Zt&&("object"==Re||"function"==Re)}function wn(Zt){return"symbol"==(typeof Zt>"u"?"undefined":Je(Zt))||function se(Zt){return!!Zt&&"object"==(typeof Zt>"u"?"undefined":Je(Zt))}(Zt)&&G1.call(Zt)==ee}function xt(Zt){if("number"==typeof Zt)return Zt;if(wn(Zt))return Dt;if(Fe(Zt)){var Re="function"==typeof Zt.valueOf?Zt.valueOf():Zt;Zt=Fe(Re)?Re+"":Re}if("string"!=typeof Zt)return 0===Zt?Zt:+Zt;Zt=Zt.replace(le,"");var Tn=St.test(Zt);return Tn||dn.test(Zt)?di(Zt.slice(2),Tn?2:8):dt.test(Zt)?Dt:+Zt}var Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Zt){return typeof Zt}:function(Zt){return Zt&&"function"==typeof Symbol&&Zt.constructor===Symbol&&Zt!==Symbol.prototype?"symbol":typeof Zt},Ut="Expected a function",Dt=NaN,ee="[object Symbol]",le=/^\s+|\s+$/g,dt=/^[-+]0x[0-9a-f]+$/i,St=/^0b[01]+$/i,dn=/^0o[0-7]+$/i,di=parseInt,t1="object"==(typeof H>"u"?"undefined":Je(H))&&H&&H.Object===Object&&H,ln="object"==(typeof self>"u"?"undefined":Je(self))&&self&&self.Object===Object&&self,In=t1||ln||Function("return this")(),G1=Object.prototype.toString,At=Math.max,n1=Math.min,c1=function(){return In.Date.now()};u1.exports=function st(Zt,Re,Tn){function Wt(mn){var gn=he,mi=ge;return he=ge=void 0,ct=mn,Ie=Zt.apply(mi,gn)}function f1(mn){var gn=mn-be;return void 0===be||gn>=Re||gn<0||O1&&mn-ct>=Te}function Li(){var mn=c1();return f1(mn)?Ms(mn):void(Ze=setTimeout(Li,function P1(mn){var E1=Re-(mn-be);return O1?n1(E1,Te-(mn-ct)):E1}(mn)))}function Ms(mn){return Ze=void 0,fn&&he?Wt(mn):(he=ge=void 0,Ie)}function s2(){var mn=c1(),gn=f1(mn);if(he=arguments,ge=this,be=mn,gn){if(void 0===Ze)return function Oe(mn){return ct=mn,Ze=setTimeout(Li,Re),Pn?Wt(mn):Ie}(be);if(O1)return Ze=setTimeout(Li,Re),Wt(be)}return void 0===Ze&&(Ze=setTimeout(Li,Re)),Ie}var he,ge,Te,Ie,Ze,be,ct=0,Pn=!1,O1=!1,fn=!0;if("function"!=typeof Zt)throw new TypeError(Ut);return Re=xt(Re)||0,Fe(Tn)&&(Pn=!!Tn.leading,Te=(O1="maxWait"in Tn)?At(xt(Tn.maxWait)||0,Re):Te,fn="trailing"in Tn?!!Tn.trailing:fn),s2.cancel=function os(){void 0!==Ze&&clearTimeout(Ze),ct=0,he=be=ge=Ze=void 0},s2.flush=function er(){return void 0===Ze?Ie:Ms(c1())},s2}}).call(Ve,function(){return this}())},function(u1,Ve){"use strict";function H(Je){var Ut=void 0,Dt=void 0;for(Ut=0;Ut<Je.length;Ut+=1)if((Dt=Je[Ut]).dataset&&Dt.dataset.aos||Dt.children&&H(Dt.children))return!0;return!1}function st(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function wn(Je){Je&&Je.forEach(function(Ut){var Dt=Array.prototype.slice.call(Ut.addedNodes),ee=Array.prototype.slice.call(Ut.removedNodes);if(H(Dt.concat(ee)))return xt()})}Object.defineProperty(Ve,"__esModule",{value:!0});var xt=function(){};Ve.default={isSupported:function Fe(){return!!st()},ready:function se(Je,Ut){var Dt=window.document,le=new(st())(wn);xt=Ut,le.observe(Dt.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(u1,Ve){"use strict";function st(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(Ve,"__esModule",{value:!0});var Fe=function(){function Dt(ee,le){for(var dt=0;dt<le.length;dt++){var St=le[dt];St.enumerable=St.enumerable||!1,St.configurable=!0,"value"in St&&(St.writable=!0),Object.defineProperty(ee,St.key,St)}}return function(ee,le,dt){return le&&Dt(ee.prototype,le),dt&&Dt(ee,dt),ee}}(),se=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,wn=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,xt=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Je=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Ut=function(){function Dt(){!function H(Dt,ee){if(!(Dt instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Dt)}return Fe(Dt,[{key:"phone",value:function(){var ee=st();return!(!se.test(ee)&&!wn.test(ee.substr(0,4)))}},{key:"mobile",value:function(){var ee=st();return!(!xt.test(ee)&&!Je.test(ee.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Dt}();Ve.default=new Ut},function(u1,Ve){"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.default=function(Fe,se){var wn=window.pageYOffset,xt=window.innerHeight;Fe.forEach(function(Je,Ut){!function(Fe,se,wn){var xt=Fe.node.getAttribute("data-aos-once");se>Fe.position?Fe.node.classList.add("aos-animate"):typeof xt<"u"&&("false"===xt||!wn&&"true"!==xt)&&Fe.node.classList.remove("aos-animate")}(Je,xt+wn,se)})}},function(u1,Ve,H){"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});var se=function st(xt){return xt&&xt.__esModule?xt:{default:xt}}(H(12));Ve.default=function(xt,Je){return xt.forEach(function(Ut,Dt){Ut.node.classList.add("aos-init"),Ut.position=(0,se.default)(Ut.node,Je.offset)}),xt}},function(u1,Ve,H){"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});var se=function st(xt){return xt&&xt.__esModule?xt:{default:xt}}(H(13));Ve.default=function(xt,Je){var Ut=0,Dt=0,ee=window.innerHeight,le={offset:xt.getAttribute("data-aos-offset"),anchor:xt.getAttribute("data-aos-anchor"),anchorPlacement:xt.getAttribute("data-aos-anchor-placement")};switch(le.offset&&!isNaN(le.offset)&&(Dt=parseInt(le.offset)),le.anchor&&document.querySelectorAll(le.anchor)&&(xt=document.querySelectorAll(le.anchor)[0]),Ut=(0,se.default)(xt).top,le.anchorPlacement){case"top-bottom":break;case"center-bottom":Ut+=xt.offsetHeight/2;break;case"bottom-bottom":Ut+=xt.offsetHeight;break;case"top-center":Ut+=ee/2;break;case"bottom-center":Ut+=ee/2+xt.offsetHeight;break;case"center-center":Ut+=ee/2+xt.offsetHeight/2;break;case"top-top":Ut+=ee;break;case"bottom-top":Ut+=xt.offsetHeight+ee;break;case"center-top":Ut+=xt.offsetHeight/2+ee}return le.anchorPlacement||le.offset||isNaN(Je)||(Dt=Je),Ut+Dt}},function(u1,Ve){"use strict";Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=function(st){for(var Fe=0,se=0;st&&!isNaN(st.offsetLeft)&&!isNaN(st.offsetTop);)Fe+=st.offsetLeft-("BODY"!=st.tagName?st.scrollLeft:0),se+=st.offsetTop-("BODY"!=st.tagName?st.scrollTop:0),st=st.offsetParent;return{top:se,left:Fe}}},function(u1,Ve){"use strict";Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=function(st){return st=st||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(st,function(Fe){return{node:Fe}})}}])},578:function(n2,u1){var Ve,st;void 0!==(st="function"==typeof(Ve=function(){"use strict";function se(ee,le,dt){var St=new XMLHttpRequest;St.open("GET",ee),St.responseType="blob",St.onload=function(){Dt(St.response,le,dt)},St.onerror=function(){console.error("could not download file")},St.send()}function wn(ee){var le=new XMLHttpRequest;le.open("HEAD",ee,!1);try{le.send()}catch{}return 200<=le.status&&299>=le.status}function xt(ee){try{ee.dispatchEvent(new MouseEvent("click"))}catch{var le=document.createEvent("MouseEvents");le.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ee.dispatchEvent(le)}}var Je="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Ut=Je.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Dt=Je.saveAs||("object"!=typeof window||window!==Je?function(){}:"download"in HTMLAnchorElement.prototype&&!Ut?function(ee,le,dt){var St=Je.URL||Je.webkitURL,dn=document.createElement("a");dn.download=le=le||ee.name||"download",dn.rel="noopener","string"==typeof ee?(dn.href=ee,dn.origin===location.origin?xt(dn):wn(dn.href)?se(ee,le,dt):xt(dn,dn.target="_blank")):(dn.href=St.createObjectURL(ee),setTimeout(function(){St.revokeObjectURL(dn.href)},4e4),setTimeout(function(){xt(dn)},0))}:"msSaveOrOpenBlob"in navigator?function(ee,le,dt){if(le=le||ee.name||"download","string"!=typeof ee)navigator.msSaveOrOpenBlob(function Fe(ee,le){return typeof le>"u"?le={autoBom:!1}:"object"!=typeof le&&(console.warn("Deprecated: Expected third argument to be a object"),le={autoBom:!le}),le.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ee.type)?new Blob(["\ufeff",ee],{type:ee.type}):ee}(ee,dt),le);else if(wn(ee))se(ee,le,dt);else{var St=document.createElement("a");St.href=ee,St.target="_blank",setTimeout(function(){xt(St)})}}:function(ee,le,dt,St){if((St=St||open("","_blank"))&&(St.document.title=St.document.body.innerText="downloading..."),"string"==typeof ee)return se(ee,le,dt);var dn="application/octet-stream"===ee.type,di=/constructor/i.test(Je.HTMLElement)||Je.safari,t1=/CriOS\/[\d]+/.test(navigator.userAgent);if((t1||dn&&di||Ut)&&typeof FileReader<"u"){var ln=new FileReader;ln.onloadend=function(){var G1=ln.result;G1=t1?G1:G1.replace(/^data:[^;]*;/,"data:attachment/file;"),St?St.location.href=G1:location=G1,St=null},ln.readAsDataURL(ee)}else{var In=Je.URL||Je.webkitURL,d1=In.createObjectURL(ee);St?St.location=d1:location.href=d1,St=null,setTimeout(function(){In.revokeObjectURL(d1)},4e4)}});Je.saveAs=Dt.saveAs=Dt,n2.exports=Dt})?Ve.apply(u1,[]):Ve)&&(n2.exports=st)},574:(n2,u1,Ve)=>{"use strict";Ve.d(u1,{A:()=>di});var H=Ve(401),st=Ve(779),Fe=Ve(979),se=Ve(398);class wn{constructor(ln,In){this._delegate=ln,this.firebase=In,(0,Fe._addComponent)(ln,new st.uA("app-compat",()=>this,"PUBLIC")),this.container=ln.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ln){this._delegate.automaticDataCollectionEnabled=ln}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ln=>{this._delegate.checkDestroyed(),ln()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Fe.deleteApp)(this._delegate)))}_getService(ln,In=Fe._DEFAULT_ENTRY_NAME){var d1;this._delegate.checkDestroyed();const G1=this._delegate.container.getProvider(ln);return!G1.isInitialized()&&"EXPLICIT"===(null===(d1=G1.getComponent())||void 0===d1?void 0:d1.instantiationMode)&&G1.initialize(),G1.getImmediate({identifier:In})}_removeServiceInstance(ln,In=Fe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ln).clearInstance(In)}_addComponent(ln){(0,Fe._addComponent)(this._delegate,ln)}_addOrOverwriteComponent(ln){(0,Fe._addOrOverwriteComponent)(this._delegate,ln)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Je=new H.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Dt(){const t1=function Ut(t1){const ln={},In={__esModule:!0,initializeApp:function At(Re,Tn={}){const Wt=Fe.initializeApp(Re,Tn);if((0,H.gR)(ln,Wt.name))return ln[Wt.name];const Oe=new t1(Wt,In);return ln[Wt.name]=Oe,Oe},app:G1,registerVersion:Fe.registerVersion,setLogLevel:Fe.setLogLevel,onLog:Fe.onLog,apps:null,SDK_VERSION:Fe.SDK_VERSION,INTERNAL:{registerComponent:function c1(Re){const Tn=Re.name,Wt=Tn.replace("-compat","");if(Fe._registerComponent(Re)&&"PUBLIC"===Re.type){const Oe=(P1=G1())=>{if("function"!=typeof P1[Wt])throw Je.create("invalid-app-argument",{appName:Tn});return P1[Wt]()};void 0!==Re.serviceProps&&(0,H.zw)(Oe,Re.serviceProps),In[Wt]=Oe,t1.prototype[Wt]=function(...P1){return this._getService.bind(this,Tn).apply(this,Re.multipleInstances?P1:[])}}return"PUBLIC"===Re.type?In[Wt]:null},removeApp:function d1(Re){delete ln[Re]},useAsService:function Zt(Re,Tn){return"serverAuth"===Tn?null:Tn},modularAPIs:Fe}};function G1(Re){if(!(0,H.gR)(ln,Re=Re||Fe._DEFAULT_ENTRY_NAME))throw Je.create("no-app",{appName:Re});return ln[Re]}return In.default=In,Object.defineProperty(In,"apps",{get:function n1(){return Object.keys(ln).map(Re=>ln[Re])}}),G1.App=t1,In}(wn);return t1.INTERNAL=Object.assign(Object.assign({},t1.INTERNAL),{createFirebaseNamespace:Dt,extendNamespace:function ln(In){(0,H.zw)(t1,In)},createSubscribe:H.tD,ErrorFactory:H.FA,deepExtend:H.zw}),t1}(),le=new se.Vy("@firebase/app-compat");try{const t1=(0,H.mS)();if(void 0!==t1.firebase){le.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const ln=t1.firebase.SDK_VERSION;ln&&ln.indexOf("LITE")>=0&&le.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const di=ee;!function dn(t1){(0,Fe.registerVersion)("@firebase/app-compat","0.2.40",t1)}()},979:(n2,u1,Ve)=>{"use strict";Ve.r(u1),Ve.d(u1,{FirebaseError:()=>se.g,SDK_VERSION:()=>Tr,_DEFAULT_ENTRY_NAME:()=>ps,_addComponent:()=>v2,_addOrOverwriteComponent:()=>wr,_apps:()=>Bi,_clearComponents:()=>nr,_components:()=>$s,_getProvider:()=>Is,_isFirebaseApp:()=>w1,_isFirebaseServerApp:()=>zi,_registerComponent:()=>k2,_removeServiceInstance:()=>Hi,_serverApps:()=>Er,deleteApp:()=>Z1,getApp:()=>yc,getApps:()=>ka,initializeApp:()=>M2,initializeServerApp:()=>ir,onLog:()=>Q,registerVersion:()=>J,setLogLevel:()=>ne});var H=Ve(467),st=Ve(779),Fe=Ve(398),se=Ve(401);const wn=(ye,ce)=>ce.some(Ue=>ye instanceof Ue);let xt,Je;const ee=new WeakMap,le=new WeakMap,dt=new WeakMap,St=new WeakMap,dn=new WeakMap;let ln={get(ye,ce,Ue){if(ye instanceof IDBTransaction){if("done"===ce)return le.get(ye);if("objectStoreNames"===ce)return ye.objectStoreNames||dt.get(ye);if("store"===ce)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return At(ye[ce])},set:(ye,ce,Ue)=>(ye[ce]=Ue,!0),has:(ye,ce)=>ye instanceof IDBTransaction&&("done"===ce||"store"===ce)||ce in ye};function G1(ye){return"function"==typeof ye?function d1(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dt(){return Je||(Je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...ce){return ye.apply(n1(this),ce),At(ee.get(this))}:function(...ce){return At(ye.apply(n1(this),ce))}:function(ce,...Ue){const Lt=ye.call(n1(this),ce,...Ue);return dt.set(Lt,ce.sort?ce.sort():[ce]),At(Lt)}}(ye):(ye instanceof IDBTransaction&&function t1(ye){if(le.has(ye))return;const ce=new Promise((Ue,Lt)=>{const Hn=()=>{ye.removeEventListener("complete",Jn),ye.removeEventListener("error",_1),ye.removeEventListener("abort",_1)},Jn=()=>{Ue(),Hn()},_1=()=>{Lt(ye.error||new DOMException("AbortError","AbortError")),Hn()};ye.addEventListener("complete",Jn),ye.addEventListener("error",_1),ye.addEventListener("abort",_1)});le.set(ye,ce)}(ye),wn(ye,function Ut(){return xt||(xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,ln):ye)}function At(ye){if(ye instanceof IDBRequest)return function di(ye){const ce=new Promise((Ue,Lt)=>{const Hn=()=>{ye.removeEventListener("success",Jn),ye.removeEventListener("error",_1)},Jn=()=>{Ue(At(ye.result)),Hn()},_1=()=>{Lt(ye.error),Hn()};ye.addEventListener("success",Jn),ye.addEventListener("error",_1)});return ce.then(Ue=>{Ue instanceof IDBCursor&&ee.set(Ue,ye)}).catch(()=>{}),dn.set(ce,ye),ce}(ye);if(St.has(ye))return St.get(ye);const ce=G1(ye);return ce!==ye&&(St.set(ye,ce),dn.set(ce,ye)),ce}const n1=ye=>dn.get(ye),Re=["get","getKey","getAll","getAllKeys","count"],Tn=["put","add","delete","clear"],Wt=new Map;function Oe(ye,ce){if(!(ye instanceof IDBDatabase)||ce in ye||"string"!=typeof ce)return;if(Wt.get(ce))return Wt.get(ce);const Ue=ce.replace(/FromIndex$/,""),Lt=ce!==Ue,Hn=Tn.includes(Ue);if(!(Ue in(Lt?IDBIndex:IDBObjectStore).prototype)||!Hn&&!Re.includes(Ue))return;const Jn=function(){var _1=(0,H.A)(function*(Ci,...Pi){const V1=this.transaction(Ci,Hn?"readwrite":"readonly");let Mc=V1.store;return Lt&&(Mc=Mc.index(Pi.shift())),(yield Promise.all([Mc[Ue](...Pi),Hn&&V1.done]))[0]});return function(Pi){return _1.apply(this,arguments)}}();return Wt.set(ce,Jn),Jn}!function In(ye){ln=ye(ln)}(ye=>({...ye,get:(ce,Ue,Lt)=>Oe(ce,Ue)||ye.get(ce,Ue,Lt),has:(ce,Ue)=>!!Oe(ce,Ue)||ye.has(ce,Ue)}));class P1{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function f1(ye){const ce=ye.getComponent();return"VERSION"===ce?.type}(Ue)){const Lt=Ue.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const Li="@firebase/app",Ms="0.10.10",os=new Fe.Vy("@firebase/app"),er="@firebase/app-compat",s2="@firebase/analytics-compat",he="@firebase/analytics",ge="@firebase/app-check-compat",Te="@firebase/app-check",Ie="@firebase/auth",Ze="@firebase/auth-compat",be="@firebase/database",ct="@firebase/database-compat",Pn="@firebase/functions",O1="@firebase/functions-compat",fn="@firebase/installations",mn="@firebase/installations-compat",gn="@firebase/messaging",mi="@firebase/messaging-compat",E1="@firebase/performance",Rn="@firebase/performance-compat",Ui="@firebase/remote-config",Cs="@firebase/remote-config-compat",Gs="@firebase/storage",Ii="@firebase/storage-compat",y3="@firebase/firestore",Co="@firebase/vertexai-preview",aa="@firebase/firestore-compat",tr="firebase",ps="[DEFAULT]",Ls={[Li]:"fire-core",[er]:"fire-core-compat",[he]:"fire-analytics",[s2]:"fire-analytics-compat",[Te]:"fire-app-check",[ge]:"fire-app-check-compat",[Ie]:"fire-auth",[Ze]:"fire-auth-compat",[be]:"fire-rtdb",[ct]:"fire-rtdb-compat",[Pn]:"fire-fn",[O1]:"fire-fn-compat",[fn]:"fire-iid",[mn]:"fire-iid-compat",[gn]:"fire-fcm",[mi]:"fire-fcm-compat",[E1]:"fire-perf",[Rn]:"fire-perf-compat",[Ui]:"fire-rc",[Cs]:"fire-rc-compat",[Gs]:"fire-gcs",[Ii]:"fire-gcs-compat",[y3]:"fire-fst",[aa]:"fire-fst-compat",[Co]:"fire-vertex","fire-js":"fire-js",[tr]:"fire-js-all"},Bi=new Map,Er=new Map,$s=new Map;function v2(ye,ce){try{ye.container.addComponent(ce)}catch(Ue){os.debug(`Component ${ce.name} failed to register with FirebaseApp ${ye.name}`,Ue)}}function wr(ye,ce){ye.container.addOrOverwriteComponent(ce)}function k2(ye){const ce=ye.name;if($s.has(ce))return os.debug(`There were multiple attempts to register component ${ce}.`),!1;$s.set(ce,ye);for(const Ue of Bi.values())v2(Ue,ye);for(const Ue of Er.values())v2(Ue,ye);return!0}function Is(ye,ce){const Ue=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),ye.container.getProvider(ce)}function Hi(ye,ce,Ue=ps){Is(ye,ce).clearInstance(Ue)}function w1(ye){return void 0!==ye.options}function zi(ye){return void 0!==ye.settings}function nr(){$s.clear()}const bs=new se.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class v3{constructor(ce,Ue,Lt){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new st.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}class Jr extends v3{constructor(ce,Ue,Lt,Hn){const Jn=void 0!==Ue.automaticDataCollectionEnabled&&Ue.automaticDataCollectionEnabled,_1={name:Lt,automaticDataCollectionEnabled:Jn};super(void 0!==ce.apiKey?ce:ce.options,_1,Hn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Jn},Ue),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ue.releaseOnDeref=void 0,J(Li,Ms,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ce){this.isDeleted||(this._refCount++,void 0!==ce&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ce,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Z1(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw bs.create("server-app-deleted")}}const Tr="10.13.1";function M2(ye,ce={}){let Ue=ye;"object"!=typeof ce&&(ce={name:ce});const Lt=Object.assign({name:ps,automaticDataCollectionEnabled:!1},ce),Hn=Lt.name;if("string"!=typeof Hn||!Hn)throw bs.create("bad-app-name",{appName:String(Hn)});if(Ue||(Ue=(0,se.T9)()),!Ue)throw bs.create("no-options");const Jn=Bi.get(Hn);if(Jn){if((0,se.bD)(Ue,Jn.options)&&(0,se.bD)(Lt,Jn.config))return Jn;throw bs.create("duplicate-app",{appName:Hn})}const _1=new st.h1(Hn);for(const Pi of $s.values())_1.addComponent(Pi);const Ci=new v3(Ue,Lt,_1);return Bi.set(Hn,Ci),Ci}function ir(ye,ce){if((0,se.Bd)()&&!(0,se.p7)())throw bs.create("invalid-server-app-environment");let Ue;void 0===ce.automaticDataCollectionEnabled&&(ce.automaticDataCollectionEnabled=!1),Ue=w1(ye)?ye.options:ye;const Lt=Object.assign(Object.assign({},ce),Ue);if(void 0!==Lt.releaseOnDeref&&delete Lt.releaseOnDeref,void 0!==ce.releaseOnDeref&&typeof FinalizationRegistry>"u")throw bs.create("finalization-registry-not-supported",{});const Jn=""+(V1=JSON.stringify(Lt),[...V1].reduce((Mc,ii)=>Math.imul(31,Mc)+ii.charCodeAt(0)|0,0)),_1=Er.get(Jn);var V1;if(_1)return _1.incRefCount(ce.releaseOnDeref),_1;const Ci=new st.h1(Jn);for(const V1 of $s.values())Ci.addComponent(V1);const Pi=new Jr(Ue,ce,Jn,Ci);return Er.set(Jn,Pi),Pi}function yc(ye=ps){const ce=Bi.get(ye);if(!ce&&ye===ps&&(0,se.T9)())return M2();if(!ce)throw bs.create("no-app",{appName:ye});return ce}function ka(){return Array.from(Bi.values())}function Z1(ye){return la.apply(this,arguments)}function la(){return(la=(0,H.A)(function*(ye){let ce=!1;const Ue=ye.name;Bi.has(Ue)?(ce=!0,Bi.delete(Ue)):Er.has(Ue)&&ye.decRefCount()<=0&&(Er.delete(Ue),ce=!0),ce&&(yield Promise.all(ye.container.getProviders().map(Lt=>Lt.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function J(ye,ce,Ue){var Lt;let Hn=null!==(Lt=Ls[ye])&&void 0!==Lt?Lt:ye;Ue&&(Hn+=`-${Ue}`);const Jn=Hn.match(/\s|\//),_1=ce.match(/\s|\//);if(Jn||_1){const Ci=[`Unable to register library "${Hn}" with version "${ce}":`];return Jn&&Ci.push(`library name "${Hn}" contains illegal characters (whitespace or "/")`),Jn&&_1&&Ci.push("and"),_1&&Ci.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void os.warn(Ci.join(" "))}k2(new st.uA(`${Hn}-version`,()=>({library:Hn,version:ce}),"VERSION"))}function Q(ye,ce){if(null!==ye&&"function"!=typeof ye)throw bs.create("invalid-log-argument");(0,Fe.Ey)(ye,ce)}function ne(ye){(0,Fe.He)(ye)}const Ee="firebase-heartbeat-database",pe=1,bt="firebase-heartbeat-store";let kn=null;function xn(){return kn||(kn=function c1(ye,ce,{blocked:Ue,upgrade:Lt,blocking:Hn,terminated:Jn}={}){const _1=indexedDB.open(ye,ce),Ci=At(_1);return Lt&&_1.addEventListener("upgradeneeded",Pi=>{Lt(At(_1.result),Pi.oldVersion,Pi.newVersion,At(_1.transaction),Pi)}),Ue&&_1.addEventListener("blocked",Pi=>Ue(Pi.oldVersion,Pi.newVersion,Pi)),Ci.then(Pi=>{Jn&&Pi.addEventListener("close",()=>Jn()),Hn&&Pi.addEventListener("versionchange",V1=>Hn(V1.oldVersion,V1.newVersion,V1))}).catch(()=>{}),Ci}(Ee,pe,{upgrade:(ye,ce)=>{if(0===ce)try{ye.createObjectStore(bt)}catch(Ue){console.warn(Ue)}}}).catch(ye=>{throw bs.create("idb-open",{originalErrorMessage:ye.message})})),kn}function Ei(){return(Ei=(0,H.A)(function*(ye){try{const Ue=(yield xn()).transaction(bt),Lt=yield Ue.objectStore(bt).get(ms(ye));return yield Ue.done,Lt}catch(ce){if(ce instanceof se.g)os.warn(ce.message);else{const Ue=bs.create("idb-get",{originalErrorMessage:ce?.message});os.warn(Ue.message)}}})).apply(this,arguments)}function Bt(ye,ce){return p1.apply(this,arguments)}function p1(){return(p1=(0,H.A)(function*(ye,ce){try{const Lt=(yield xn()).transaction(bt,"readwrite");yield Lt.objectStore(bt).put(ce,ms(ye)),yield Lt.done}catch(Ue){if(Ue instanceof se.g)os.warn(Ue.message);else{const Lt=bs.create("idb-set",{originalErrorMessage:Ue?.message});os.warn(Lt.message)}}})).apply(this,arguments)}function ms(ye){return`${ye.name}!${ye.options.appId}`}class vc{constructor(ce){this.container=ce,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new k0(Ue),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var ce=this;return(0,H.A)(function*(){var Ue,Lt;try{const Jn=ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_1=Va();return null==(null===(Ue=ce._heartbeatsCache)||void 0===Ue?void 0:Ue.heartbeats)&&(ce._heartbeatsCache=yield ce._heartbeatsCachePromise,null==(null===(Lt=ce._heartbeatsCache)||void 0===Lt?void 0:Lt.heartbeats))||ce._heartbeatsCache.lastSentHeartbeatDate===_1||ce._heartbeatsCache.heartbeats.some(Ci=>Ci.date===_1)?void 0:(ce._heartbeatsCache.heartbeats.push({date:_1,agent:Jn}),ce._heartbeatsCache.heartbeats=ce._heartbeatsCache.heartbeats.filter(Ci=>{const Pi=new Date(Ci.date).valueOf();return Date.now()-Pi<=2592e6}),ce._storage.overwrite(ce._heartbeatsCache))}catch(Hn){os.warn(Hn)}})()}getHeartbeatsHeader(){var ce=this;return(0,H.A)(function*(){var Ue;try{if(null===ce._heartbeatsCache&&(yield ce._heartbeatsCachePromise),null==(null===(Ue=ce._heartbeatsCache)||void 0===Ue?void 0:Ue.heartbeats)||0===ce._heartbeatsCache.heartbeats.length)return"";const Lt=Va(),{heartbeatsToSend:Hn,unsentEntries:Jn}=function ua(ye,ce=1024){const Ue=[];let Lt=ye.slice();for(const Hn of ye){const Jn=Ue.find(_1=>_1.agent===Hn.agent);if(Jn){if(Jn.dates.push(Hn.date),F0(Ue)>ce){Jn.dates.pop();break}}else if(Ue.push({agent:Hn.agent,dates:[Hn.date]}),F0(Ue)>ce){Ue.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:Lt}}(ce._heartbeatsCache.heartbeats),_1=(0,se.Uj)(JSON.stringify({version:2,heartbeats:Hn}));return ce._heartbeatsCache.lastSentHeartbeatDate=Lt,Jn.length>0?(ce._heartbeatsCache.heartbeats=Jn,yield ce._storage.overwrite(ce._heartbeatsCache)):(ce._heartbeatsCache.heartbeats=[],ce._storage.overwrite(ce._heartbeatsCache)),_1}catch(Lt){return os.warn(Lt),""}})()}}function Va(){return(new Date).toISOString().substring(0,10)}class k0{constructor(ce){this.app=ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,H.A)(function*(){return!!(0,se.zW)()&&(0,se.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ce=this;return(0,H.A)(function*(){if(yield ce._canUseIndexedDBPromise){const Lt=yield function L1(ye){return Ei.apply(this,arguments)}(ce.app);return Lt?.heartbeats?Lt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ce){var Ue=this;return(0,H.A)(function*(){var Lt;if(yield Ue._canUseIndexedDBPromise){const Jn=yield Ue.read();return Bt(Ue.app,{lastSentHeartbeatDate:null!==(Lt=ce.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Jn.lastSentHeartbeatDate,heartbeats:ce.heartbeats})}})()}add(ce){var Ue=this;return(0,H.A)(function*(){var Lt;if(yield Ue._canUseIndexedDBPromise){const Jn=yield Ue.read();return Bt(Ue.app,{lastSentHeartbeatDate:null!==(Lt=ce.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Jn.lastSentHeartbeatDate,heartbeats:[...Jn.heartbeats,...ce.heartbeats]})}})()}}function F0(ye){return(0,se.Uj)(JSON.stringify({version:2,heartbeats:ye})).length}!function hn(ye){k2(new st.uA("platform-logger",ce=>new P1(ce),"PRIVATE")),k2(new st.uA("heartbeat",ce=>new vc(ce),"PRIVATE")),J(Li,Ms,ye),J(Li,Ms,"esm2017"),J("fire-js","")}("")},779:(n2,u1,Ve)=>{"use strict";Ve.d(u1,{h1:()=>Ut,uA:()=>Fe});var H=Ve(467),st=Ve(401);class Fe{constructor(ee,le,dt){this.name=ee,this.instanceFactory=le,this.type=dt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const se="[DEFAULT]";class wn{constructor(ee,le){this.name=ee,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const le=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(le)){const dt=new st.cY;if(this.instancesDeferred.set(le,dt),this.isInitialized(le)||this.shouldAutoInitialize())try{const St=this.getOrInitializeService({instanceIdentifier:le});St&&dt.resolve(St)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ee){var le;const dt=this.normalizeInstanceIdentifier(ee?.identifier),St=null!==(le=ee?.optional)&&void 0!==le&&le;if(!this.isInitialized(dt)&&!this.shouldAutoInitialize()){if(St)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:dt})}catch(dn){if(St)return null;throw dn}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Je(Dt){return"EAGER"===Dt.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[le,dt]of this.instancesDeferred.entries()){const St=this.normalizeInstanceIdentifier(le);try{const dn=this.getOrInitializeService({instanceIdentifier:St});dt.resolve(dn)}catch{}}}}clearInstance(ee=se){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,H.A)(function*(){const le=Array.from(ee.instances.values());yield Promise.all([...le.filter(dt=>"INTERNAL"in dt).map(dt=>dt.INTERNAL.delete()),...le.filter(dt=>"_delete"in dt).map(dt=>dt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=se){return this.instances.has(ee)}getOptions(ee=se){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:le={}}=ee,dt=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(dt))throw Error(`${this.name}(${dt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const St=this.getOrInitializeService({instanceIdentifier:dt,options:le});for(const[dn,di]of this.instancesDeferred.entries())dt===this.normalizeInstanceIdentifier(dn)&&di.resolve(St);return St}onInit(ee,le){var dt;const St=this.normalizeInstanceIdentifier(le),dn=null!==(dt=this.onInitCallbacks.get(St))&&void 0!==dt?dt:new Set;dn.add(ee),this.onInitCallbacks.set(St,dn);const di=this.instances.get(St);return di&&ee(di,St),()=>{dn.delete(ee)}}invokeOnInitCallbacks(ee,le){const dt=this.onInitCallbacks.get(le);if(dt)for(const St of dt)try{St(ee,le)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:le={}}){let dt=this.instances.get(ee);if(!dt&&this.component&&(dt=this.component.instanceFactory(this.container,{instanceIdentifier:(Dt=ee,Dt===se?void 0:Dt),options:le}),this.instances.set(ee,dt),this.instancesOptions.set(ee,le),this.invokeOnInitCallbacks(dt,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,dt)}catch{}var Dt;return dt||null}normalizeInstanceIdentifier(ee=se){return this.component?this.component.multipleInstances?ee:se:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ut{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const le=this.getProvider(ee.name);if(le.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);le.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const le=new wn(ee,this);return this.providers.set(ee,le),le}getProviders(){return Array.from(this.providers.values())}}},398:(n2,u1,Ve)=>{"use strict";Ve.d(u1,{$b:()=>st,Ey:()=>Dt,He:()=>Ut,Vy:()=>Je});const H=[];var st=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(st||{});const Fe={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},se=st.INFO,wn={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},xt=(ee,le,...dt)=>{if(le<ee.logLevel)return;const St=(new Date).toISOString(),dn=wn[le];if(!dn)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[dn](`[${St}]  ${ee.name}:`,...dt)};class Je{constructor(le){this.name=le,this._logLevel=se,this._logHandler=xt,this._userLogHandler=null,H.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in st))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?Fe[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...le),this._logHandler(this,st.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...le),this._logHandler(this,st.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,st.INFO,...le),this._logHandler(this,st.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,st.WARN,...le),this._logHandler(this,st.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...le),this._logHandler(this,st.ERROR,...le)}}function Ut(ee){H.forEach(le=>{le.setLogLevel(ee)})}function Dt(ee,le){for(const dt of H){let St=null;le&&le.level&&(St=Fe[le.level]),dt.userLogHandler=null===ee?null:(dn,di,...t1)=>{const ln=t1.map(In=>{if(null==In)return null;if("string"==typeof In)return In;if("number"==typeof In||"boolean"==typeof In)return In.toString();if(In instanceof Error)return In.message;try{return JSON.stringify(In)}catch{return null}}).filter(In=>In).join(" ");di>=(St??dn.logLevel)&&ee({level:st[di].toLowerCase(),message:ln,args:t1,type:dn.name})}}}},780:(n2,u1,Ve)=>{"use strict";var H=Ve(467),st=Ve(574),Fe=Ve(979),se=Ve(401),wn=Ve(398),xt=Ve(635),Je=Ve(779);const Dt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const di=function St(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},t1=function dn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ln=new se.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d1=new wn.Vy("@firebase/auth");function At(y,...f){d1.logLevel<=wn.$b.ERROR&&d1.error(`Auth (${Fe.SDK_VERSION}): ${y}`,...f)}function n1(y,...f){throw Wt(y,...f)}function c1(y,...f){return Wt(y,...f)}function Zt(y,f,p){const C=Object.assign(Object.assign({},t1()),{[f]:p});return new se.FA("auth","Firebase",C).create(f,{appName:y.name})}function Re(y){return Zt(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tn(y,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&n1(y,"argument-error"),Zt(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wt(y,...f){if("string"!=typeof y){const p=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(p,...C)}return ln.create(y,...f)}function Oe(y,f,...p){if(!y)throw Wt(f,...p)}function P1(y){const f="INTERNAL ASSERTION FAILED: "+y;throw At(f),new Error(f)}function f1(y,f){y||P1(f)}function Li(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ms(){return"http:"===os()||"https:"===os()}function os(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class he{constructor(f,p){this.shortDelay=f,this.longDelay=p,f1(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,se.jZ)()||(0,se.lV)()}get(){return function er(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ms()||(0,se.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ge(y,f){f1(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Te{static initialize(f,p,C){this.fetchImpl=f,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void P1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void P1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void P1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new he(3e4,6e4);function be(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function ct(y,f,p,C){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,H.A)(function*(y,f,p,C,P={}){return O1(y,P,(0,H.A)(function*(){let V={},Z={};C&&("GET"===f?Z=C:V={body:JSON.stringify(C)});const oe=(0,se.Am)(Object.assign({key:y.config.apiKey},Z)).slice(1),ke=yield y._getAdditionalHeaders();return ke["Content-Type"]="application/json",y.languageCode&&(ke["X-Firebase-Locale"]=y.languageCode),Te.fetch()(mi(y,y.config.apiHost,p,oe),Object.assign({method:f,headers:ke,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function O1(y,f,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,H.A)(function*(y,f,p){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ie),f);try{const P=new Rn(y),V=yield Promise.race([p(),P.promise]);P.clearNetworkTimeout();const Z=yield V.json();if("needConfirmation"in Z)throw Ui(y,"account-exists-with-different-credential",Z);if(V.ok&&!("errorMessage"in Z))return Z;{const oe=V.ok?Z.errorMessage:Z.error.message,[ke,It]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw Ui(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===ke)throw Ui(y,"email-already-in-use",Z);if("USER_DISABLED"===ke)throw Ui(y,"user-disabled",Z);const Qt=C[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Zt(y,Qt,It);n1(y,Qt)}}catch(P){if(P instanceof se.g)throw P;n1(y,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function mn(y,f,p,C){return gn.apply(this,arguments)}function gn(){return(gn=(0,H.A)(function*(y,f,p,C,P={}){const V=yield ct(y,f,p,C,P);return"mfaPendingCredential"in V&&n1(y,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function mi(y,f,p,C){const P=`${f}${p}?${C}`;return y.config.emulator?ge(y.config,P):`${y.config.apiScheme}://${P}`}function E1(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(c1(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ui(y,f,p){const C={appName:y.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const P=c1(y,f,C);return P.customData._tokenResponse=p,P}function Cs(y){return void 0!==y&&void 0!==y.getResponse}function Gs(y){return void 0!==y&&void 0!==y.enterprise}class Ii{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===f)return E1(p.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Co(){return(Co=(0,H.A)(function*(y){return(yield ct(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function aa(y,f){return tr.apply(this,arguments)}function tr(){return(tr=(0,H.A)(function*(y,f){return ct(y,"GET","/v2/recaptchaConfig",be(y,f))})).apply(this,arguments)}function ps(){return(ps=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Bi(){return(Bi=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Er(y,f){return $s.apply(this,arguments)}function $s(){return($s=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function v2(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Is(){return(Is=(0,H.A)(function*(y,f=!1){const p=(0,se.Ku)(y),C=yield p.getIdToken(f),P=w1(C);Oe(P&&P.exp&&P.auth_time&&P.iat,p.auth,"internal-error");const V="object"==typeof P.firebase?P.firebase:void 0,Z=V?.sign_in_provider;return{claims:P,token:C,authTime:v2(Hi(P.auth_time)),issuedAtTime:v2(Hi(P.iat)),expirationTime:v2(Hi(P.exp)),signInProvider:Z||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function Hi(y){return 1e3*Number(y)}function w1(y){const[f,p,C]=y.split(".");if(void 0===f||void 0===p||void 0===C)return At("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,se.u)(p);return P?JSON.parse(P):(At("Failed to decode base64 JWT payload"),null)}catch(P){return At("Caught error parsing JWT payload as JSON",P?.toString()),null}}function zi(y){const f=w1(y);return Oe(f,"internal-error"),Oe(typeof f.exp<"u","internal-error"),Oe(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}function nr(y,f){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,H.A)(function*(y,f,p=!1){if(p)return f;try{return yield f}catch(C){throw C instanceof se.g&&function bs({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}class v3{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const P=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,H.A)(function*(){yield p.iteration()}),C)}iteration(){var f=this;return(0,H.A)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&f.schedule(!0))}f.schedule()})()}}class Jr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=v2(this.lastLoginAt),this.creationTime=v2(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tr(y){return M2.apply(this,arguments)}function M2(){return(M2=(0,H.A)(function*(y){var f;const p=y.auth,C=yield y.getIdToken(),P=yield nr(y,Er(p,{idToken:C}));Oe(P?.users.length,p,"internal-error");const V=P.users[0];y._notifyReloadListener(V);const Z=null!==(f=V.providerUserInfo)&&void 0!==f&&f.length?Z1(V.providerUserInfo):[],oe=function ka(y,f){return[...y.filter(C=>!f.some(P=>P.providerId===C.providerId)),...f]}(y.providerData,Z),Qt=!!y.isAnonymous&&!(y.email&&V.passwordHash||oe?.length),Ht={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:oe,metadata:new Jr(V.createdAt,V.lastLoginAt),isAnonymous:Qt};Object.assign(y,Ht)})).apply(this,arguments)}function yc(){return(yc=(0,H.A)(function*(y){const f=(0,se.Ku)(y);yield Tr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Z1(y){return y.map(f=>{var{providerId:p}=f,C=(0,xt.Tt)(f,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function J(){return(J=(0,H.A)(function*(y,f){const p=yield O1(y,{},(0,H.A)(function*(){const C=(0,se.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:P,apiKey:V}=y.config,Z=mi(y,P,"/v1/token",`key=${V}`),oe=yield y._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(Z,{method:"POST",headers:oe,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function ne(){return(ne=(0,H.A)(function*(y,f){return ct(y,"POST","/v2/accounts:revokeToken",be(y,f))})).apply(this,arguments)}class Ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Oe(f.idToken,"internal-error"),Oe(typeof f.idToken<"u","internal-error"),Oe(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):zi(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}updateFromIdToken(f){Oe(0!==f.length,"internal-error");const p=zi(f);this.updateTokensAndExpiration(f,null,p)}getToken(f,p=!1){var C=this;return(0,H.A)(function*(){return p||!C.accessToken||C.isExpired?(Oe(C.refreshToken,f,"user-token-expired"),C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null):C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var C=this;return(0,H.A)(function*(){const{accessToken:P,refreshToken:V,expiresIn:Z}=yield function la(y,f){return J.apply(this,arguments)}(f,p);C.updateTokensAndExpiration(P,V,Number(Z))})()}updateTokensAndExpiration(f,p,C){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,p){const{refreshToken:C,accessToken:P,expirationTime:V}=p,Z=new Ee;return C&&(Oe("string"==typeof C,"internal-error",{appName:f}),Z.refreshToken=C),P&&(Oe("string"==typeof P,"internal-error",{appName:f}),Z.accessToken=P),V&&(Oe("number"==typeof V,"internal-error",{appName:f}),Z.expirationTime=V),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ee,this.toJSON())}_performRefresh(){return P1("not implemented")}}function pe(y,f){Oe("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class bt{constructor(f){var{uid:p,auth:C,stsTokenManager:P}=f,V=(0,xt.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Jr(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,H.A)(function*(){const C=yield nr(p,p.stsTokenManager.getToken(p.auth,f));return Oe(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(f){return function k2(y){return Is.apply(this,arguments)}(this,f)}reload(){return function ir(y){return yc.apply(this,arguments)}(this)}_assign(f){this!==f&&(Oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new bt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var C=this;return(0,H.A)(function*(){let P=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),P=!0),p&&(yield Tr(C)),yield C.auth._persistUserIfCurrent(C),P&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,H.A)(function*(){if((0,Fe._isFirebaseServerApp)(f.auth.app))return Promise.reject(Re(f.auth));const p=yield f.getIdToken();return yield nr(f,function ca(y,f){return ps.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var C,P,V,Z,oe,ke,It,Qt;const Ht=null!==(C=p.displayName)&&void 0!==C?C:void 0,Ji=null!==(P=p.email)&&void 0!==P?P:void 0,No=null!==(V=p.phoneNumber)&&void 0!==V?V:void 0,U5=null!==(Z=p.photoURL)&&void 0!==Z?Z:void 0,Rg=null!==(oe=p.tenantId)&&void 0!==oe?oe:void 0,Gf=null!==(ke=p._redirectEventId)&&void 0!==ke?ke:void 0,Le=null!==(It=p.createdAt)&&void 0!==It?It:void 0,g1=null!==(Qt=p.lastLoginAt)&&void 0!==Qt?Qt:void 0,{uid:l4,emailVerified:Zl,isAnonymous:ri,providerData:B5,stsTokenManager:u4}=p;Oe(l4&&u4,f,"internal-error");const Do=Ee.fromJSON(this.name,u4);Oe("string"==typeof l4,f,"internal-error"),pe(Ht,f.name),pe(Ji,f.name),Oe("boolean"==typeof Zl,f,"internal-error"),Oe("boolean"==typeof ri,f,"internal-error"),pe(No,f.name),pe(U5,f.name),pe(Rg,f.name),pe(Gf,f.name),pe(Le,f.name),pe(g1,f.name);const Ql=new bt({uid:l4,auth:f,email:Ji,emailVerified:Zl,displayName:Ht,isAnonymous:ri,photoURL:U5,phoneNumber:No,tenantId:Rg,stsTokenManager:Do,createdAt:Le,lastLoginAt:g1});return B5&&Array.isArray(B5)&&(Ql.providerData=B5.map($f=>Object.assign({},$f))),Gf&&(Ql._redirectEventId=Gf),Ql}static _fromIdTokenResponse(f,p,C=!1){return(0,H.A)(function*(){const P=new Ee;P.updateFromServerResponse(p);const V=new bt({uid:p.localId,auth:f,stsTokenManager:P,isAnonymous:C});return yield Tr(V),V})()}static _fromGetAccountInfoResponse(f,p,C){return(0,H.A)(function*(){const P=p.users[0];Oe(void 0!==P.localId,"internal-error");const V=void 0!==P.providerUserInfo?Z1(P.providerUserInfo):[],Z=!(P.email&&P.passwordHash||V?.length),oe=new Ee;oe.updateFromIdToken(C);const ke=new bt({uid:P.localId,auth:f,stsTokenManager:oe,isAnonymous:Z}),It={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:V,metadata:new Jr(P.createdAt,P.lastLoginAt),isAnonymous:!(P.email&&P.passwordHash||V?.length)};return Object.assign(ke,It),ke})()}}const kn=new Map;function xn(y){f1(y instanceof Function,"Expected a class definition");let f=kn.get(y);return f?(f1(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,kn.set(y,f),f)}const Ei=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,H.A)(function*(){return!0})()}_set(p,C){var P=this;return(0,H.A)(function*(){P.storage[p]=C})()}_get(p){var C=this;return(0,H.A)(function*(){const P=C.storage[p];return void 0===P?null:P})()}_remove(p){var C=this;return(0,H.A)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return y.type="NONE",y})();function Bt(y,f,p){return`firebase:${y}:${f}:${p}`}class p1{constructor(f,p,C){this.persistence=f,this.auth=p,this.userKey=C;const{config:P,name:V}=this.auth;this.fullUserKey=Bt(this.userKey,P.apiKey,V),this.fullPersistenceKey=Bt("persistence",P.apiKey,V),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,H.A)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?bt._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,H.A)(function*(){if(p.persistence===f)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,C="authUser"){return(0,H.A)(function*(){if(!p.length)return new p1(xn(Ei),f,C);const P=(yield Promise.all(p.map(function(){var It=(0,H.A)(function*(Qt){if(yield Qt._isAvailable())return Qt});return function(Qt){return It.apply(this,arguments)}}()))).filter(It=>It);let V=P[0]||xn(Ei);const Z=Bt(C,f.config.apiKey,f.name);let oe=null;for(const It of p)try{const Qt=yield It._get(Z);if(Qt){const Ht=bt._fromJSON(f,Qt);It!==V&&(oe=Ht),V=It;break}}catch{}const ke=P.filter(It=>It._shouldAllowMigration);return V._shouldAllowMigration&&ke.length?(V=ke[0],oe&&(yield V._set(Z,oe.toJSON())),yield Promise.all(p.map(function(){var It=(0,H.A)(function*(Qt){if(Qt!==V)try{yield Qt._remove(Z)}catch{}});return function(Qt){return It.apply(this,arguments)}}())),new p1(V,f,C)):new p1(V,f,C)})()}}function ms(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Va(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(eo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(k0(f))return"Blackberry";if(F0(f))return"Webos";if(Fa(f))return"Safari";if((f.includes("chrome/")||vc(f))&&!f.includes("edge/"))return"Chrome";if(ua(f))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function eo(y=(0,se.ZQ)()){return/firefox\//i.test(y)}function Fa(y=(0,se.ZQ)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function vc(y=(0,se.ZQ)()){return/crios\//i.test(y)}function Va(y=(0,se.ZQ)()){return/iemobile/i.test(y)}function ua(y=(0,se.ZQ)()){return/android/i.test(y)}function k0(y=(0,se.ZQ)()){return/blackberry/i.test(y)}function F0(y=(0,se.ZQ)()){return/webos/i.test(y)}function hn(y=(0,se.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Lt(y=(0,se.ZQ)()){return hn(y)||ua(y)||F0(y)||k0(y)||/windows phone/i.test(y)||Va(y)}function Hn(y,f=[]){let p;switch(y){case"Browser":p=ms((0,se.ZQ)());break;case"Worker":p=`${ms((0,se.ZQ)())}-${y}`;break;default:p=y}const C=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${Fe.SDK_VERSION}/${C}`}class Jn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const C=V=>new Promise((Z,oe)=>{try{Z(f(V))}catch(ke){oe(ke)}});C.onAbort=p,this.queue.push(C);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,H.A)(function*(){if(p.auth.currentUser===f)return;const C=[];try{for(const P of p.queue)yield P(f),P.onAbort&&C.push(P.onAbort)}catch(P){C.reverse();for(const V of C)try{V()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}function Ci(){return(Ci=(0,H.A)(function*(y,f={}){return ct(y,"GET","/v2/passwordPolicy",be(y,f))})).apply(this,arguments)}class V1{constructor(f){var p,C,P,V;const Z=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Z.minPasswordLength)&&void 0!==p?p:6,Z.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Z.maxPasswordLength),void 0!==Z.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Z.containsLowercaseCharacter),void 0!==Z.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Z.containsUppercaseCharacter),void 0!==Z.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Z.containsNumericCharacter),void 0!==Z.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Z.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(P=null===(C=f.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==P?P:"",this.forceUpgradeOnSignin=null!==(V=f.forceUpgradeOnSignin)&&void 0!==V&&V,this.schemaVersion=f.schemaVersion}validatePassword(f){var p,C,P,V,Z,oe;const ke={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,ke),this.validatePasswordCharacterOptions(f,ke),ke.isValid&&(ke.isValid=null===(p=ke.meetsMinPasswordLength)||void 0===p||p),ke.isValid&&(ke.isValid=null===(C=ke.meetsMaxPasswordLength)||void 0===C||C),ke.isValid&&(ke.isValid=null===(P=ke.containsLowercaseLetter)||void 0===P||P),ke.isValid&&(ke.isValid=null===(V=ke.containsUppercaseLetter)||void 0===V||V),ke.isValid&&(ke.isValid=null===(Z=ke.containsNumericCharacter)||void 0===Z||Z),ke.isValid&&(ke.isValid=null===(oe=ke.containsNonAlphanumericCharacter)||void 0===oe||oe),ke}validatePasswordLengthOptions(f,p){const C=this.customStrengthOptions.minPasswordLength,P=this.customStrengthOptions.maxPasswordLength;C&&(p.meetsMinPasswordLength=f.length>=C),P&&(p.meetsMaxPasswordLength=f.length<=P)}validatePasswordCharacterOptions(f,p){let C;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let P=0;P<f.length;P++)C=f.charAt(P),this.updatePasswordCharacterOptionsStatuses(p,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(f,p,C,P,V){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=P)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=V))}}class Mc{constructor(f,p,C,P){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y8(this),this.idTokenSubscription=new Y8(this),this.beforeStateQueue=new Jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ln,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(f,p){var C=this;return p&&(this._popupRedirectResolver=xn(p)),this._initializationPromise=this.queue((0,H.A)(function*(){var P,V;if(!C._deleted&&(C.persistenceManager=yield p1.create(C,f),!C._deleted)){if(null!==(P=C._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(V=C.currentUser)||void 0===V?void 0:V.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,H.A)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(f){var p=this;return(0,H.A)(function*(){try{const C=yield Er(p,{idToken:f}),P=yield bt._fromGetAccountInfoResponse(p,C,f);yield p.directlySetCurrentUser(P)}catch(C){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",C),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(f){var p=this;return(0,H.A)(function*(){var C;if((0,Fe._isFirebaseServerApp)(p.app)){const oe=p.app.settings.authIdToken;return oe?new Promise(ke=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(oe).then(ke,ke))}):p.directlySetCurrentUser(null)}const P=yield p.assertedPersistence.getCurrentUser();let V=P,Z=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const oe=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,ke=V?._redirectEventId,It=yield p.tryRedirectSignIn(f);(!oe||oe===ke)&&It?.user&&(V=It.user,Z=!0)}if(!V)return p.directlySetCurrentUser(null);if(!V._redirectEventId){if(Z)try{yield p.beforeStateQueue.runMiddleware(V)}catch(oe){V=P,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(oe))}return V?p.reloadAndSetCurrentUserOrClear(V):p.directlySetCurrentUser(null)}return Oe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===V._redirectEventId?p.directlySetCurrentUser(V):p.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(f){var p=this;return(0,H.A)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,H.A)(function*(){try{yield Tr(f)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function s2(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,H.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,H.A)(function*(){if((0,Fe._isFirebaseServerApp)(p.app))return Promise.reject(Re(p));const C=f?(0,se.Ku)(f):null;return C&&Oe(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(f,p=!1){var C=this;return(0,H.A)(function*(){if(!C._deleted)return f&&Oe(C.tenantId===f.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(f)),C.queue((0,H.A)(function*(){yield C.directlySetCurrentUser(f),C.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,H.A)(function*(){return(0,Fe._isFirebaseServerApp)(f.app)?Promise.reject(Re(f)):(yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0))})()}setPersistence(f){var p=this;return(0,Fe._isFirebaseServerApp)(this.app)?Promise.reject(Re(this)):this.queue((0,H.A)(function*(){yield p.assertedPersistence.setPersistence(xn(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var p=this;return(0,H.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const C=p._getPasswordPolicyInternal();return C.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,H.A)(function*(){const p=yield function _1(y){return Ci.apply(this,arguments)}(f),C=new V1(p);null===f.tenantId?f._projectPasswordPolicy=C:f._tenantPasswordPolicies[f.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new se.FA("auth","Firebase",f())}onAuthStateChanged(f,p,C){return this.registerStateListener(this.authStateSubscription,f,p,C)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,C){return this.registerStateListener(this.idTokenSubscription,f,p,C)}authStateReady(){return new Promise((f,p)=>{if(this.currentUser)f();else{const C=this.onAuthStateChanged(()=>{C(),f()},p)}})}revokeAccessToken(f){var p=this;return(0,H.A)(function*(){if(p.currentUser){const C=yield p.currentUser.getIdToken(),P={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:C};null!=p.tenantId&&(P.tenantId=p.tenantId),yield function Q(y,f){return ne.apply(this,arguments)}(p,P)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var C=this;return(0,H.A)(function*(){const P=yield C.getOrInitRedirectPersistenceManager(p);return null===f?P.removeCurrentUser():P.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,H.A)(function*(){if(!p.redirectPersistenceManager){const C=f&&xn(f)||p._popupRedirectResolver;Oe(C,p,"argument-error"),p.redirectPersistenceManager=yield p1.create(p,[xn(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,H.A)(function*(){var C,P;return p._isInitialized&&(yield p.queue((0,H.A)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===f?p._currentUser:(null===(P=p.redirectUser)||void 0===P?void 0:P._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,H.A)(function*(){if(f===p.currentUser)return p.queue((0,H.A)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,C,P){if(this._deleted)return()=>{};const V="function"==typeof p?p:p.next.bind(p);let Z=!1;const oe=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(oe,this,"internal-error"),oe.then(()=>{Z||V(this.currentUser)}),"function"==typeof p){const ke=f.addObserver(p,C,P);return()=>{Z=!0,ke()}}{const ke=f.addObserver(p);return()=>{Z=!0,ke()}}}directlySetCurrentUser(f){var p=this;return(0,H.A)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,H.A)(function*(){var p;const C={"X-Client-Version":f.clientVersion};f.app.options.appId&&(C["X-Firebase-gmpid"]=f.app.options.appId);const P=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();P&&(C["X-Firebase-Client"]=P);const V=yield f._getAppCheckToken();return V&&(C["X-Firebase-AppCheck"]=V),C})()}_getAppCheckToken(){var f=this;return(0,H.A)(function*(){var p;const C=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function G1(y,...f){d1.logLevel<=wn.$b.WARN&&d1.warn(`Auth (${Fe.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function ii(y){return(0,se.Ku)(y)}class Y8{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,se.tD)(p=>this.observer=p)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cc={loadJS:()=>(0,H.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bc(y){return Cc.loadJS(y)}function V0(y){return`__${y}${Math.floor(1e6*Math.random())}`}class U0{constructor(f){this.type="recaptcha-enterprise",this.auth=ii(f)}verify(f="verify",p=!1){var C=this;return(0,H.A)(function*(){function V(){return V=(0,H.A)(function*(oe){if(!p){if(null==oe.tenantId&&null!=oe._agentRecaptchaConfig)return oe._agentRecaptchaConfig.siteKey;if(null!=oe.tenantId&&void 0!==oe._tenantRecaptchaConfigs[oe.tenantId])return oe._tenantRecaptchaConfigs[oe.tenantId].siteKey}return new Promise(function(){var ke=(0,H.A)(function*(It,Qt){aa(oe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ht=>{if(void 0!==Ht.recaptchaKey){const Ji=new Ii(Ht);return null==oe.tenantId?oe._agentRecaptchaConfig=Ji:oe._tenantRecaptchaConfigs[oe.tenantId]=Ji,It(Ji.siteKey)}Qt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ht=>{Qt(Ht)})});return function(It,Qt){return ke.apply(this,arguments)}}())}),V.apply(this,arguments)}function Z(oe,ke,It){const Qt=window.grecaptcha;Gs(Qt)?Qt.enterprise.ready(()=>{Qt.enterprise.execute(oe,{action:f}).then(Ht=>{ke(Ht)}).catch(()=>{ke("NO_RECAPTCHA")})}):It(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((oe,ke)=>{(function P(oe){return V.apply(this,arguments)})(C.auth).then(It=>{if(!p&&Gs(window.grecaptcha))Z(It,oe,ke);else{if(typeof window>"u")return void ke(new Error("RecaptchaVerifier is only supported in browser"));let Qt=function C3(){return Cc.recaptchaEnterpriseScript}();0!==Qt.length&&(Qt+=It),bc(Qt).then(()=>{Z(It,oe,ke)}).catch(Ht=>{ke(Ht)})}}).catch(It=>{ke(It)})})})()}}function e5(y,f,p){return B0.apply(this,arguments)}function B0(){return(B0=(0,H.A)(function*(y,f,p,C=!1){const P=new U0(y);let V;try{V=yield P.verify(p)}catch{V=yield P.verify(p,!0)}const Z=Object.assign({},f);return Object.assign(Z,C?{captchaResp:V}:{captchaResponse:V}),Object.assign(Z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Z})).apply(this,arguments)}function b3(y,f,p,C){return x3.apply(this,arguments)}function x3(){return x3=(0,H.A)(function*(y,f,p,C){var P;if(null!==(P=y._getRecaptchaConfig())&&void 0!==P&&P.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const V=yield e5(y,f,p,"getOobCode"===p);return C(y,V)}return C(y,f).catch(function(){var V=(0,H.A)(function*(Z){if("auth/missing-recaptcha-token"===Z.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const oe=yield e5(y,f,p,"getOobCode"===p);return C(y,oe)}return Promise.reject(Z)});return function(Z){return V.apply(this,arguments)}}())}),x3.apply(this,arguments)}function H0(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function j0(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class da{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return P1("not implemented")}_getIdTokenResponse(f){return P1("not implemented")}_linkToIdToken(f,p){return P1("not implemented")}_getReauthenticationResolver(f){return P1("not implemented")}}function xl(y,f){return xc.apply(this,arguments)}function xc(){return(xc=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:resetPassword",be(y,f))})).apply(this,arguments)}function w3(){return(w3=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function J7(y,f){return T3.apply(this,arguments)}function T3(){return(T3=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function bo(){return(bo=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:update",be(y,f))})).apply(this,arguments)}function ji(y,f){return El.apply(this,arguments)}function El(){return(El=(0,H.A)(function*(y,f){return mn(y,"POST","/v1/accounts:signInWithPassword",be(y,f))})).apply(this,arguments)}function Ec(y,f){return wl.apply(this,arguments)}function wl(){return(wl=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:sendOobCode",be(y,f))})).apply(this,arguments)}function G0(){return(G0=(0,H.A)(function*(y,f){return Ec(y,f)})).apply(this,arguments)}function wc(y,f){return $0.apply(this,arguments)}function $0(){return($0=(0,H.A)(function*(y,f){return Ec(y,f)})).apply(this,arguments)}function S3(y,f){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,H.A)(function*(y,f){return Ec(y,f)})).apply(this,arguments)}function Ua(){return(Ua=(0,H.A)(function*(y,f){return Ec(y,f)})).apply(this,arguments)}function A3(){return(A3=(0,H.A)(function*(y,f){return mn(y,"POST","/v1/accounts:signInWithEmailLink",be(y,f))})).apply(this,arguments)}function L3(){return(L3=(0,H.A)(function*(y,f){return mn(y,"POST","/v1/accounts:signInWithEmailLink",be(y,f))})).apply(this,arguments)}class as extends da{constructor(f,p,C,P=null){super("password",C),this._email=f,this._password=p,this._tenantId=P}static _fromEmailAndPassword(f,p){return new as(f,p,"password")}static _fromEmailAndCode(f,p,C=null){return new as(f,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,H.A)(function*(){switch(p.signInMethod){case"password":return b3(f,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ji);case"emailLink":return function Sc(y,f){return A3.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:n1(f,"internal-error")}})()}_linkToIdToken(f,p){var C=this;return(0,H.A)(function*(){switch(C.signInMethod){case"password":return b3(f,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J7);case"emailLink":return function Ba(y,f){return L3.apply(this,arguments)}(f,{idToken:p,email:C._email,oobCode:C._password});default:n1(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ha(y,f){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,H.A)(function*(y,f){return mn(y,"POST","/v1/accounts:signInWithIdp",be(y,f))})).apply(this,arguments)}class Sr extends da{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Sr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):n1("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:P}=p,V=(0,xt.Tt)(p,["providerId","signInMethod"]);if(!C||!P)return null;const Z=new Sr(C,P);return Z.idToken=V.idToken||void 0,Z.accessToken=V.accessToken||void 0,Z.secret=V.secret,Z.nonce=V.nonce,Z.pendingToken=V.pendingToken||null,Z}_getIdTokenResponse(f){return ha(f,this.buildRequest())}_linkToIdToken(f,p){const C=this.buildRequest();return C.idToken=p,ha(f,C)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ha(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,se.Am)(p)}return f}}function Tl(){return(Tl=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:sendVerificationCode",be(y,f))})).apply(this,arguments)}function q0(){return(q0=(0,H.A)(function*(y,f){return mn(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,f))})).apply(this,arguments)}function Sl(){return(Sl=(0,H.A)(function*(y,f){const p=yield mn(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,f));if(p.temporaryProof)throw Ui(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Bm={USER_NOT_FOUND:"user-not-found"};function z3(){return(z3=(0,H.A)(function*(y,f){return mn(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Bm)})).apply(this,arguments)}class ja extends da{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new ja({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new ja({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function W0(y,f){return q0.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function I3(y,f){return Sl.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Al(y,f){return z3.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:C,verificationCode:P}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:C,code:P}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:C,phoneNumber:P,temporaryProof:V}=f;return C||p||P||V?new ja({verificationId:p,verificationCode:C,phoneNumber:P,temporaryProof:V}):null}}class pa{constructor(f){var p,C,P,V,Z,oe;const ke=(0,se.I9)((0,se.hp)(f)),It=null!==(p=ke.apiKey)&&void 0!==p?p:null,Qt=null!==(C=ke.oobCode)&&void 0!==C?C:null,Ht=function s5(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=ke.mode)&&void 0!==P?P:null);Oe(It&&Qt&&Ht,"argument-error"),this.apiKey=It,this.operation=Ht,this.code=Qt,this.continueUrl=null!==(V=ke.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(Z=ke.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(oe=ke.tenantId)&&void 0!==oe?oe:null}static parseLink(f){const p=function r5(y){const f=(0,se.I9)((0,se.hp)(y)).link,p=f?(0,se.I9)((0,se.hp)(f)).deep_link_id:null,C=(0,se.I9)((0,se.hp)(y)).deep_link_id;return(C?(0,se.I9)((0,se.hp)(C)).link:null)||C||p||f||y}(f);try{return new pa(p)}catch{return null}}}let Ll=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,C){return as._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const P=pa.parseLink(C);return Oe(P,"argument-error"),as._fromEmailAndCode(p,P.code,P.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class xo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class x extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class w extends x{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Oe("providerId"in p&&"signInMethod"in p,"argument-error"),Sr._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Oe(f.idToken||f.accessToken,"argument-error"),Sr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return w.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return w.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:C,oauthTokenSecret:P,pendingToken:V,nonce:Z,providerId:oe}=f;if(!C&&!P&&!p&&!V||!oe)return null;try{return new w(oe)._credential({idToken:p,accessToken:C,nonce:Z,pendingToken:V})}catch{return null}}}let R=(()=>{class y extends x{constructor(){super("facebook.com")}static credential(p){return Sr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),W=(()=>{class y extends x{constructor(){super("google.com"),this.addScope("profile")}static credential(p,C){return Sr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:C})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:C,oauthAccessToken:P}=p;if(!C&&!P)return null;try{return y.credential(C,P)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Y=(()=>{class y extends x{constructor(){super("github.com")}static credential(p){return Sr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ae extends da{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return ha(f,this.buildRequest())}_linkToIdToken(f,p){const C=this.buildRequest();return C.idToken=p,ha(f,C)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ha(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:P,pendingToken:V}=p;return C&&P&&V&&C===P?new Ae(C,V):null}static _create(f,p){return new Ae(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Be extends xo{constructor(f){Oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Be.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Be.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Ae.fromJSON(f);return Oe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:C}=f;if(!p||!C)return null;try{return Ae._create(C,p)}catch{return null}}}let nt=(()=>{class y extends x{constructor(){super("twitter.com")}static credential(p,C){return Sr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:C})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:C,oauthTokenSecret:P}=p;if(!C||!P)return null;try{return y.credential(C,P)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ct(y,f){return tt.apply(this,arguments)}function tt(){return(tt=(0,H.A)(function*(y,f){return mn(y,"POST","/v1/accounts:signUp",be(y,f))})).apply(this,arguments)}class gt{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,C,P=!1){return(0,H.A)(function*(){const V=yield bt._fromIdTokenResponse(f,C,P),Z=un(C);return new gt({user:V,providerId:Z,_tokenResponse:C,operationType:p})})()}static _forOperation(f,p,C){return(0,H.A)(function*(){yield f._updateTokensIfNecessary(C,!0);const P=un(C);return new gt({user:f,providerId:P,_tokenResponse:C,operationType:p})})()}}function un(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Kt(){return(Kt=(0,H.A)(function*(y){var f;if((0,Fe._isFirebaseServerApp)(y.app))return Promise.reject(Re(y));const p=ii(y);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new gt({user:p.currentUser,providerId:null,operationType:"signIn"});const C=yield Ct(p,{returnSecureToken:!0}),P=yield gt._fromIdTokenResponse(p,"signIn",C,!0);return yield p._updateCurrentUser(P.user),P})).apply(this,arguments)}class On extends se.g{constructor(f,p,C,P){var V;super(p.code,p.message),this.operationType=C,this.user=P,Object.setPrototypeOf(this,On.prototype),this.customData={appName:f.name,tenantId:null!==(V=f.tenantId)&&void 0!==V?V:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(f,p,C,P){return new On(f,p,C,P)}}function jn(y,f,p,C){return("reauthenticate"===f?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?On._fromErrorAndOperation(y,V,f,C):V})}function si(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Zi(){return Zi=(0,H.A)(function*(y,f){const p=(0,se.Ku)(y);yield Es(!0,p,f);const{providerUserInfo:C}=yield function Ls(y,f){return Bi.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),P=si(C||[]);return p.providerData=p.providerData.filter(V=>P.has(V.providerId)),P.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Zi.apply(this,arguments)}function xs(y,f){return r2.apply(this,arguments)}function r2(){return(r2=(0,H.A)(function*(y,f,p=!1){const C=yield nr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),p);return gt._forOperation(y,"link",C)})).apply(this,arguments)}function Es(y,f,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,H.A)(function*(y,f,p){yield Tr(f);const P=!1===y?"provider-already-linked":"no-such-provider";Oe(si(f.providerData).has(p)===y,f.auth,P)})).apply(this,arguments)}function Ws(y,f){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,H.A)(function*(y,f,p=!1){const{auth:C}=y;if((0,Fe._isFirebaseServerApp)(C.app))return Promise.reject(Re(C));const P="reauthenticate";try{const V=yield nr(y,jn(C,P,f,y),p);Oe(V.idToken,C,"internal-error");const Z=w1(V.idToken);Oe(Z,C,"internal-error");const{sub:oe}=Z;return Oe(y.uid===oe,C,"user-mismatch"),gt._forOperation(y,P,V)}catch(V){throw"auth/user-not-found"===V?.code&&n1(C,"user-mismatch"),V}})).apply(this,arguments)}function zs(y,f){return o2.apply(this,arguments)}function o2(){return(o2=(0,H.A)(function*(y,f,p=!1){if((0,Fe._isFirebaseServerApp)(y.app))return Promise.reject(Re(y));const C="signIn",P=yield jn(y,C,f),V=yield gt._fromIdTokenResponse(y,C,P);return p||(yield y._updateCurrentUser(V.user)),V})).apply(this,arguments)}function gs(y,f){return We.apply(this,arguments)}function We(){return(We=(0,H.A)(function*(y,f){return zs(ii(y),f)})).apply(this,arguments)}function Gi(y,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,H.A)(function*(y,f){const p=(0,se.Ku)(y);return yield Es(!1,p,f.providerId),xs(p,f)})).apply(this,arguments)}function to(y,f){return K0.apply(this,arguments)}function K0(){return(K0=(0,H.A)(function*(y,f){return Ws((0,se.Ku)(y),f)})).apply(this,arguments)}function X0(){return(X0=(0,H.A)(function*(y,f){return mn(y,"POST","/v1/accounts:signInWithCustomToken",be(y,f))})).apply(this,arguments)}function no(){return no=(0,H.A)(function*(y,f){if((0,Fe._isFirebaseServerApp)(y.app))return Promise.reject(Re(y));const p=ii(y),C=yield function o5(y,f){return X0.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),P=yield gt._fromIdTokenResponse(p,"signIn",C);return yield p._updateCurrentUser(P.user),P}),no.apply(this,arguments)}class a2{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?wo._fromServerResponse(f,p):"totpInfo"in p?ma._fromServerResponse(f,p):n1(f,"internal-error")}}class wo extends a2{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new wo(p)}}class ma extends a2{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new ma(p)}}function ga(y,f,p){var C;Oe((null===(C=p.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),Oe(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Oe(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Oe(p.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function io(y){return Il.apply(this,arguments)}function Il(){return(Il=(0,H.A)(function*(y){const f=ii(y);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function a5(){return(a5=(0,H.A)(function*(y,f,p){const C=ii(y),P={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};p&&ga(C,P,p),yield b3(C,P,"getOobCode",wc)})).apply(this,arguments)}function U1(){return U1=(0,H.A)(function*(y,f,p){yield xl((0,se.Ku)(y),{oobCode:f,newPassword:p}).catch(function(){var C=(0,H.A)(function*(P){throw"auth/password-does-not-meet-requirements"===P.code&&io(y),P});return function(P){return C.apply(this,arguments)}}())}),U1.apply(this,arguments)}function _s(){return _s=(0,H.A)(function*(y,f){yield function $1(y,f){return bo.apply(this,arguments)}((0,se.Ku)(y),{oobCode:f})}),_s.apply(this,arguments)}function l5(y,f){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,H.A)(function*(y,f){const p=(0,se.Ku)(y),C=yield xl(p,{oobCode:f}),P=C.requestType;switch(Oe(P,p,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(C.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(C.mfaInfo,p,"internal-error");default:Oe(C.email,p,"internal-error")}let V=null;return C.mfaInfo&&(V=a2._fromServerResponse(ii(p),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:V},operation:P}})).apply(this,arguments)}function zl(){return(zl=(0,H.A)(function*(y,f){const{data:p}=yield l5((0,se.Ku)(y),f);return p.email})).apply(this,arguments)}function Y0(){return(Y0=(0,H.A)(function*(y,f,p){if((0,Fe._isFirebaseServerApp)(y.app))return Promise.reject(Re(y));const C=ii(y),Z=yield b3(C,{returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ct).catch(ke=>{throw"auth/password-does-not-meet-requirements"===ke.code&&io(y),ke}),oe=yield gt._fromIdTokenResponse(C,"signIn",Z);return yield C._updateCurrentUser(oe.user),oe})).apply(this,arguments)}function tf(){return(tf=(0,H.A)(function*(y,f,p){const C=ii(y),P={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function V(Z,oe){Oe(oe.handleCodeInApp,C,"argument-error"),oe&&ga(C,Z,oe)})(P,p),yield b3(C,P,"getOobCode",S3)})).apply(this,arguments)}function jm(){return(jm=(0,H.A)(function*(y,f,p){if((0,Fe._isFirebaseServerApp)(y.app))return Promise.reject(Re(y));const C=(0,se.Ku)(y),P=Ll.credentialWithLink(f,p||Li());return Oe(P._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),gs(C,P)})).apply(this,arguments)}function Gm(){return(Gm=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:createAuthUri",be(y,f))})).apply(this,arguments)}function nf(){return nf=(0,H.A)(function*(y,f){const C={identifier:f,continueUri:Ms()?Li():"http://localhost"},{signinMethods:P}=yield function mR(y,f){return Gm.apply(this,arguments)}((0,se.Ku)(y),C);return P||[]}),nf.apply(this,arguments)}function sf(){return sf=(0,H.A)(function*(y,f){const p=(0,se.Ku)(y),P={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&ga(p.auth,P,f);const{email:V}=yield function fa(y,f){return G0.apply(this,arguments)}(p.auth,P);V!==y.email&&(yield y.reload())}),sf.apply(this,arguments)}function F2(){return F2=(0,H.A)(function*(y,f,p){const C=(0,se.Ku)(y),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};p&&ga(C.auth,V,p);const{email:Z}=yield function Ni(y,f){return Ua.apply(this,arguments)}(C.auth,V);Z!==y.email&&(yield y.reload())}),F2.apply(this,arguments)}function $m(){return($m=(0,H.A)(function*(y,f){return ct(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wm(){return Wm=(0,H.A)(function*(y,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const C=(0,se.Ku)(y),V={idToken:yield C.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},Z=yield nr(C,function Un(y,f){return $m.apply(this,arguments)}(C.auth,V));C.displayName=Z.displayName||null,C.photoURL=Z.photoUrl||null;const oe=C.providerData.find(({providerId:ke})=>"password"===ke);oe&&(oe.displayName=C.displayName,oe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Z)}),Wm.apply(this,arguments)}function Ft(y,f,p){return qm.apply(this,arguments)}function qm(){return qm=(0,H.A)(function*(y,f,p){const{auth:C}=y,V={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(V.email=f),p&&(V.password=p);const Z=yield nr(y,function n5(y,f){return w3.apply(this,arguments)}(C,V));yield y._updateTokensIfNecessary(Z,!0)}),qm.apply(this,arguments)}class Ga{constructor(f,p,C={}){this.isNewUser=f,this.providerId=p,this.profile=C}}class Km extends Ga{constructor(f,p,C,P){super(f,p,C),this.username=P}}class Xm extends Ga{constructor(f,p){super(f,"facebook.com",p)}}class Hb extends Km{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class u5 extends Ga{constructor(f,p){super(f,"google.com",p)}}class d5 extends Km{constructor(f,p,C){super(f,"twitter.com",p,C)}}function rf(y){const{user:f,_tokenResponse:p}=y;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function rr(y){var f,p;if(!y)return null;const{providerId:C}=y,P=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},V=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const Z=null===(p=null===(f=w1(y.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(Z)return new Ga(V,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!C)return null;switch(C){case"facebook.com":return new Xm(V,P);case"github.com":return new Hb(V,P);case"google.com":return new u5(V,P);case"twitter.com":return new d5(V,P,y.screenName||null);case"custom":case"anonymous":return new Ga(V,null);default:return new Ga(V,C,P)}}(p)}class $a{constructor(f,p,C){this.type=f,this.credential=p,this.user=C}static _fromIdtoken(f,p){return new $a("enroll",f,p)}static _fromMfaPendingCredential(f){return new $a("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,C;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return $a._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(C=f.multiFactorSession)&&void 0!==C&&C.idToken)return $a._fromIdtoken(f.multiFactorSession.idToken)}return null}}class P3{constructor(f,p,C){this.session=f,this.hints=p,this.signInResolver=C}static _fromError(f,p){const C=ii(f),P=p.customData._serverResponse,V=(P.mfaInfo||[]).map(oe=>a2._fromServerResponse(C,oe));Oe(P.mfaPendingCredential,C,"internal-error");const Z=$a._fromMfaPendingCredential(P.mfaPendingCredential);return new P3(Z,V,function(){var oe=(0,H.A)(function*(ke){const It=yield ke._process(C,Z);delete P.mfaInfo,delete P.mfaPendingCredential;const Qt=Object.assign(Object.assign({},P),{idToken:It.idToken,refreshToken:It.refreshToken});switch(p.operationType){case"signIn":const Ht=yield gt._fromIdTokenResponse(C,p.operationType,Qt);return yield C._updateCurrentUser(Ht.user),Ht;case"reauthenticate":return Oe(p.user,C,"internal-error"),gt._forOperation(p.user,p.operationType,Qt);default:n1(C,"internal-error")}});return function(ke){return oe.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,H.A)(function*(){return p.signInResolver(f)})()}}class Zn{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(C=>a2._fromServerResponse(f.auth,C)))})}static _fromUser(f){return new Zn(f)}getSession(){var f=this;return(0,H.A)(function*(){return $a._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,p){var C=this;return(0,H.A)(function*(){const P=f,V=yield C.getSession(),Z=yield nr(C.user,P._process(C.user.auth,V,p));return yield C.user._updateTokensIfNecessary(Z),C.user.reload()})()}unenroll(f){var p=this;return(0,H.A)(function*(){const C="string"==typeof f?f:f.uid,P=yield p.user.getIdToken();try{const V=yield nr(p.user,function tg(y,f){return ct(y,"POST","/v2/accounts/mfaEnrollment:withdraw",be(y,f))}(p.user.auth,{idToken:P,mfaEnrollmentId:C}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Z})=>Z!==C),yield p.user._updateTokensIfNecessary(V),yield p.user.reload()}catch(V){throw V}})()}}const q1=new WeakMap,f5="__sak";class ng{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(f5,"1"),this.storage.removeItem(f5),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const m1=(()=>{class y extends ng{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const P=this.storage.getItem(C),V=this.localCache[C];P!==V&&p(C,V,P)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((oe,ke,It)=>{this.notifyListeners(oe,It)});const P=p.key;C?this.detachListener():this.stopPolling();const V=()=>{const oe=this.storage.getItem(P);!C&&this.localCache[P]===oe||this.notifyListeners(P,oe)},Z=this.storage.getItem(P);!function Ue(){return(0,se.lT)()&&10===document.documentMode}()||Z===p.newValue||p.newValue===p.oldValue?V():setTimeout(V,10)}notifyListeners(p,C){this.localCache[p]=C;const P=this.listeners[p];if(P)for(const V of Array.from(P))V(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var P=()=>super._set,V=this;return(0,H.A)(function*(){yield P().call(V,p,C),V.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,P=this;return(0,H.A)(function*(){const V=yield C().call(P,p);return P.localCache[p]=JSON.stringify(V),V})()}_remove(p){var C=()=>super._remove,P=this;return(0,H.A)(function*(){yield C().call(P,p),delete P.localCache[p]})()}}return y.type="LOCAL",y})(),Wa=(()=>{class y extends ng{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return y.type="SESSION",y})();let rg=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(V=>V.isListeningto(p));if(C)return C;const P=new y(p);return this.receivers.push(P),P}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,H.A)(function*(){const P=p,{eventId:V,eventType:Z,data:oe}=P.data,ke=C.handlersMap[Z];if(!ke?.size)return;P.ports[0].postMessage({status:"ack",eventId:V,eventType:Z});const It=Array.from(ke).map(function(){var Ht=(0,H.A)(function*(Ji){return Ji(P.origin,oe)});return function(Ji){return Ht.apply(this,arguments)}}()),Qt=yield function or(y){return Promise.all(y.map(function(){var f=(0,H.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return f.apply(this,arguments)}}()))}(It);P.ports[0].postMessage({status:"done",eventId:V,eventType:Z,response:Qt})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function h5(y="",f=10){let p="";for(let C=0;C<f;C++)p+=Math.floor(10*Math.random());return y+p}class TR{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,C=50){var P=this;return(0,H.A)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let Z,oe;return new Promise((ke,It)=>{const Qt=h5("",20);V.port1.start();const Ht=setTimeout(()=>{It(new Error("unsupported_event"))},C);oe={messageChannel:V,onMessage(Ji){const No=Ji;if(No.data.eventId===Qt)switch(No.data.status){case"ack":clearTimeout(Ht),Z=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),ke(No.data.response);break;default:clearTimeout(Ht),clearTimeout(Z),It(new Error("invalid_response"))}}},P.handlers.add(oe),V.port1.addEventListener("message",oe.onMessage),P.target.postMessage({eventType:f,eventId:Qt,data:p},[V.port2])}).finally(()=>{oe&&P.removeMessageHandler(oe)})})()}}function $i(){return window}function Z0(){return typeof $i().WorkerGlobalScope<"u"&&"function"==typeof $i().importScripts}function df(){return(df=(0,H.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const N3="firebaseLocalStorageDb",To="firebaseLocalStorage",ag="fbase_key";class ut{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Dl(y,f){return y.transaction([To],f?"readwrite":"readonly").objectStore(To)}function Q0(){const y=indexedDB.open(N3,1);return new Promise((f,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(To,{keyPath:ag})}catch(P){p(P)}}),y.addEventListener("success",(0,H.A)(function*(){const C=y.result;C.objectStoreNames.contains(To)?f(C):(C.close(),yield function Ke(){const y=indexedDB.deleteDatabase(N3);return new ut(y).toPromise()}(),f(yield Q0()))}))})}function p5(y,f,p){return D3.apply(this,arguments)}function D3(){return(D3=(0,H.A)(function*(y,f,p){const C=Dl(y,!0).put({[ag]:f,value:p});return new ut(C).toPromise()})).apply(this,arguments)}function ff(){return(ff=(0,H.A)(function*(y,f){const p=Dl(y,!1).get(f),C=yield new ut(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function cg(y,f){const p=Dl(y,!0).delete(f);return new ut(p).toPromise()}const _a=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,H.A)(function*(){return p.db||(p.db=yield Q0()),p.db})()}_withRetries(p){var C=this;return(0,H.A)(function*(){let P=0;for(;;)try{const V=yield C._openDb();return yield p(V)}catch(V){if(P++>3)throw V;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,H.A)(function*(){return Z0()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,H.A)(function*(){p.receiver=rg._getInstance(function og(){return Z0()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,H.A)(function*(P,V){return{keyProcessed:(yield p._poll()).includes(V.key)}});return function(P,V){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,H.A)(function*(P,V){return["keyChanged"]});return function(P,V){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,H.A)(function*(){var C,P;if(p.activeServiceWorker=yield function $b(){return df.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new TR(p.activeServiceWorker);const V=yield p.sender._send("ping",{},800);V&&null!==(C=V[0])&&void 0!==C&&C.fulfilled&&null!==(P=V[0])&&void 0!==P&&P.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,H.A)(function*(){if(C.sender&&C.activeServiceWorker&&function Wb(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,H.A)(function*(){try{if(!indexedDB)return!1;const p=yield Q0();return yield p5(p,f5,"1"),yield cg(p,f5),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,H.A)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var P=this;return(0,H.A)(function*(){return P._withPendingWrite((0,H.A)(function*(){return yield P._withRetries(V=>p5(V,p,C)),P.localCache[p]=C,P.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,H.A)(function*(){const P=yield C._withRetries(V=>function Kb(y,f){return ff.apply(this,arguments)}(V,p));return C.localCache[p]=P,P})()}_remove(p){var C=this;return(0,H.A)(function*(){return C._withPendingWrite((0,H.A)(function*(){return yield C._withRetries(P=>cg(P,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,H.A)(function*(){const C=yield p._withRetries(Z=>{const oe=Dl(Z,!1).getAll();return new ut(oe).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const P=[],V=new Set;if(0!==C.length)for(const{fbase_key:Z,value:oe}of C)V.add(Z),JSON.stringify(p.localCache[Z])!==JSON.stringify(oe)&&(p.notifyListeners(Z,oe),P.push(Z));for(const Z of Object.keys(p.localCache))p.localCache[Z]&&!V.has(Z)&&(p.notifyListeners(Z,null),P.push(Z));return P})()}notifyListeners(p,C){this.localCache[p]=C;const P=this.listeners[p];if(P)for(const V of Array.from(P))V(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,H.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Rl=1e12;class m5{constructor(f){this.auth=f,this.counter=Rl,this._widgets=new Map}render(f,p){const C=this.counter;return this._widgets.set(C,new g5(f,this.auth.name,p||{})),this.counter++,C}reset(f){var p;const C=f||Rl;null===(p=this._widgets.get(C))||void 0===p||p.delete(),this._widgets.delete(C)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Rl))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,H.A)(function*(){var C;return null===(C=p._widgets.get(f||Rl))||void 0===C||C.execute(),""})()}}class g5{constructor(f,p,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof f?document.getElementById(f):f;Oe(P,"argument-error",{appName:p}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hf(y){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)f.push(p.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lg=V0("rcb"),ug=new he(3e4,6e4);class AR{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=$i().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return Oe(function Ir(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&Cs($i().grecaptcha)?Promise.resolve($i().grecaptcha):new Promise((C,P)=>{const V=$i().setTimeout(()=>{P(c1(f,"network-request-failed"))},ug.get());$i()[lg]=()=>{$i().clearTimeout(V),delete $i()[lg];const oe=$i().grecaptcha;if(!oe||!Cs(oe))return void P(c1(f,"internal-error"));const ke=oe.render;oe.render=(It,Qt)=>{const Ht=ke(It,Qt);return this.counter++,Ht},this.hostLanguage=p,C(oe)},bc(`${function M3(){return Cc.recaptchaV2Script}()}?${(0,se.Am)({onload:lg,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(V),P(c1(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=$i().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pf{load(f){return(0,H.A)(function*(){return new m5(f)})()}clearedOneInstance(){}}const O3="recaptcha",LR={theme:"light",type:"image"};class dg{constructor(f,p,C=Object.assign({},LR)){this.parameters=C,this.type=O3,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ii(f),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof p?document.getElementById(p):p;Oe(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pf:new AR,this.validateStartingState()}verify(){var f=this;return(0,H.A)(function*(){f.assertNotDestroyed();const p=yield f.render(),C=f.getAssertedRecaptcha();return C.getResponse(p)||new Promise(V=>{const Z=oe=>{oe&&(f.tokenChangeListeners.delete(Z),V(oe))};f.tokenChangeListeners.add(Z),f.isInvisible&&C.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(C=>C(p)),"function"==typeof f)f(p);else if("string"==typeof f){const C=$i()[f];"function"==typeof C&&C(p)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,H.A)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const C=document.createElement("div");p.appendChild(C),p=C}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,H.A)(function*(){Oe(Ms()&&!Z0(),f.auth,"internal-error"),yield function ya(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function y3(y){return Co.apply(this,arguments)}(f.auth);Oe(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class k1{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=ja._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function _5(){return(_5=(0,H.A)(function*(y,f,p){if((0,Fe._isFirebaseServerApp)(y.app))return Promise.reject(Re(y));const C=ii(y),P=yield Ao(C,f,(0,se.Ku)(p));return new k1(P,V=>gs(C,V))})).apply(this,arguments)}function e4(){return(e4=(0,H.A)(function*(y,f,p){const C=(0,se.Ku)(y);yield Es(!1,C,"phone");const P=yield Ao(C.auth,f,(0,se.Ku)(p));return new k1(P,V=>Gi(C,V))})).apply(this,arguments)}function zr(){return(zr=(0,H.A)(function*(y,f,p){const C=(0,se.Ku)(y);if((0,Fe._isFirebaseServerApp)(C.auth.app))return Promise.reject(Re(C.auth));const P=yield Ao(C.auth,f,(0,se.Ku)(p));return new k1(P,V=>to(C,V))})).apply(this,arguments)}function Ao(y,f,p){return gf.apply(this,arguments)}function gf(){return gf=(0,H.A)(function*(y,f,p){var C;const P=yield p.verify();try{let V;if(Oe("string"==typeof P,y,"argument-error"),Oe(p.type===O3,y,"argument-error"),V="string"==typeof f?{phoneNumber:f}:f,"session"in V){const Z=V.session;if("phoneNumber"in V)return Oe("enroll"===Z.type,y,"internal-error"),(yield function lf(y,f){return ct(y,"POST","/v2/accounts/mfaEnrollment:start",be(y,f))}(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{Oe("signin"===Z.type,y,"internal-error");const oe=(null===(C=V.multiFactorHint)||void 0===C?void 0:C.uid)||V.multiFactorUid;return Oe(oe,y,"missing-multi-factor-info"),(yield function Yb(y,f){return ct(y,"POST","/v2/accounts/mfaSignIn:start",be(y,f))}(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function Ac(y,f){return Tl.apply(this,arguments)}(y,{phoneNumber:V.phoneNumber,recaptchaToken:P});return Z}}finally{p._reset()}}),gf.apply(this,arguments)}function v5(){return(v5=(0,H.A)(function*(y,f){const p=(0,se.Ku)(y);if((0,Fe._isFirebaseServerApp)(p.auth.app))return Promise.reject(Re(p.auth));yield xs(p,f)})).apply(this,arguments)}let t4=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=ii(p)}verifyPhoneNumber(p,C){return Ao(this.auth,p,(0,se.Ku)(C))}static credential(p,C){return ja._fromVerification(p,C)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:C,temporaryProof:P}=p;return C&&P?ja._fromTokenResponse(C,P):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Lo(y,f){return f?xn(f):(Oe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class M5 extends da{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ha(f,this._buildIdpRequest())}_linkToIdToken(f,p){return ha(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return ha(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function fg(y){return zs(y.auth,new M5(y),y.bypassAuthState)}function Qb(y){const{auth:f,user:p}=y;return Oe(p,f,"internal-error"),Ws(p,new M5(y),y.bypassAuthState)}function yf(y){return vf.apply(this,arguments)}function vf(){return(vf=(0,H.A)(function*(y){const{auth:f,user:p}=y;return Oe(p,f,"internal-error"),xs(p,new M5(y),y.bypassAuthState)})).apply(this,arguments)}class hg{constructor(f,p,C,P,V=!1){this.auth=f,this.resolver=C,this.user=P,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,H.A)(function*(C,P){f.pendingPromise={resolve:C,reject:P};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(V){f.reject(V)}});return function(C,P){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,H.A)(function*(){const{urlResponse:C,sessionId:P,postBody:V,tenantId:Z,error:oe,type:ke}=f;if(oe)return void p.reject(oe);const It={auth:p.auth,requestUri:C,sessionId:P,tenantId:Z||void 0,postBody:V||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ke)(It))}catch(Qt){p.reject(Qt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return fg;case"linkViaPopup":case"linkViaRedirect":return yf;case"reauthViaPopup":case"reauthViaRedirect":return Qb;default:n1(this.auth,"internal-error")}}resolve(f){f1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){f1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Io=new he(2e3,1e4);function C5(){return(C5=(0,H.A)(function*(y,f,p){if((0,Fe._isFirebaseServerApp)(y.app))return Promise.reject(c1(y,"operation-not-supported-in-this-environment"));const C=ii(y);Tn(y,f,xo);const P=Lo(C,p);return new b5(C,"signInViaPopup",f,P).executeNotNull()})).apply(this,arguments)}function Mf(){return(Mf=(0,H.A)(function*(y,f,p){const C=(0,se.Ku)(y);if((0,Fe._isFirebaseServerApp)(C.auth.app))return Promise.reject(c1(C.auth,"operation-not-supported-in-this-environment"));Tn(C.auth,f,xo);const P=Lo(C.auth,p);return new b5(C.auth,"reauthViaPopup",f,P,C).executeNotNull()})).apply(this,arguments)}function Cf(){return(Cf=(0,H.A)(function*(y,f,p){const C=(0,se.Ku)(y);Tn(C.auth,f,xo);const P=Lo(C.auth,p);return new b5(C.auth,"linkViaPopup",f,P,C).executeNotNull()})).apply(this,arguments)}let b5=(()=>{class y extends hg{constructor(p,C,P,V,Z){super(p,C,V,Z),this.provider=P,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,H.A)(function*(){const C=yield p.execute();return Oe(C,p.auth,"internal-error"),C})()}onExecution(){var p=this;return(0,H.A)(function*(){f1(1===p.filter.length,"Popup operations only handle one event");const C=h5();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],C),p.authWindow.associatedEvent=C,p.resolver._originValidation(p.auth).catch(P=>{p.reject(P)}),p.resolver._isIframeWebStorageSupported(p.auth,P=>{P||p.reject(c1(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(c1(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var C,P;this.pollId=null!==(P=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(c1(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Io.get())};p()}}return y.currentPopupAction=null,y})();const nx="pendingRedirect",Ol=new Map;class ix extends hg{constructor(f,p,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,H.A)(function*(){let C=Ol.get(p.auth._key());if(!C){try{const V=(yield function c2(y,f){return bf.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;C=()=>Promise.resolve(V)}catch(P){C=()=>Promise.reject(P)}Ol.set(p.auth._key(),C)}return p.bypassAuthState||Ol.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,C=this;return(0,H.A)(function*(){if("signInViaRedirect"===f.type)return p().call(C,f);if("unknown"!==f.type){if(f.eventId){const P=yield C.auth._redirectUserForId(f.eventId);if(P)return C.user=P,p().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,H.A)(function*(){})()}cleanUp(){}}function bf(){return(bf=(0,H.A)(function*(y,f){const p=y1(f),C=U2(y);if(!(yield C._isAvailable()))return!1;const P="true"===(yield C._get(p));return yield C._remove(p),P})).apply(this,arguments)}function xf(y,f){return V2.apply(this,arguments)}function V2(){return(V2=(0,H.A)(function*(y,f){return U2(y)._set(y1(f),"true")})).apply(this,arguments)}function Ks(y,f){Ol.set(y._key(),f)}function U2(y){return xn(y._redirectPersistence)}function y1(y){return Bt(nx,y.config.apiKey,y.name)}function Ps(y,f,p){return function l2(y,f,p){return va.apply(this,arguments)}(y,f,p)}function va(){return(va=(0,H.A)(function*(y,f,p){if((0,Fe._isFirebaseServerApp)(y.app))return Promise.reject(Re(y));const C=ii(y);Tn(y,f,xo),yield C._initializationPromise;const P=Lo(C,p);return yield xf(P,C),P._openRedirect(C,f,"signInViaRedirect")})).apply(this,arguments)}function C2(y,f,p){return function mg(y,f,p){return x5.apply(this,arguments)}(y,f,p)}function x5(){return(x5=(0,H.A)(function*(y,f,p){const C=(0,se.Ku)(y);if(Tn(C.auth,f,xo),(0,Fe._isFirebaseServerApp)(C.auth.app))return Promise.reject(Re(C.auth));yield C.auth._initializationPromise;const P=Lo(C.auth,p);yield xf(P,C.auth);const V=yield kl(C);return P._openRedirect(C.auth,f,"reauthViaRedirect",V)})).apply(this,arguments)}function E5(y,f,p){return function sx(y,f,p){return Ef.apply(this,arguments)}(y,f,p)}function Ef(){return(Ef=(0,H.A)(function*(y,f,p){const C=(0,se.Ku)(y);Tn(C.auth,f,xo),yield C.auth._initializationPromise;const P=Lo(C.auth,p);yield Es(!1,C,f.providerId),yield xf(P,C.auth);const V=yield kl(C);return P._openRedirect(C.auth,f,"linkViaRedirect",V)})).apply(this,arguments)}function wf(){return(wf=(0,H.A)(function*(y,f){return yield ii(y)._initializationPromise,n4(y,f,!1)})).apply(this,arguments)}function n4(y,f){return T5.apply(this,arguments)}function T5(){return(T5=(0,H.A)(function*(y,f,p=!1){if((0,Fe._isFirebaseServerApp)(y.app))return Promise.reject(Re(y));const C=ii(y),P=Lo(C,f),Z=yield new ix(C,P,p).execute();return Z&&!p&&(delete Z.user._redirectEventId,yield C._persistUserIfCurrent(Z.user),yield C._setRedirectUser(null,f)),Z})).apply(this,arguments)}function kl(y){return gg.apply(this,arguments)}function gg(){return(gg=(0,H.A)(function*(y){const f=h5(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class _g{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(p=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function yg(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sf(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var C;if(f.error&&!Sf(f)){const P=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(c1(this.auth,P))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const C=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(S5(f))}saveEventToCache(f){this.cachedEventUids.add(S5(f)),this.lastProcessedEventTime=Date.now()}}function S5(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Sf({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Pc(y){return Af.apply(this,arguments)}function Af(){return(Af=(0,H.A)(function*(y,f={}){return ct(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Lf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A5=/^https?/;function Fl(){return(Fl=(0,H.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Pc(y);for(const p of f)try{if(L5(p))return}catch{}n1(y,"unauthorized-domain")})).apply(this,arguments)}function L5(y){const f=Li(),{protocol:p,hostname:C}=new URL(f);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===C?"chrome-extension:"===p&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&Z.hostname===C}if(!A5.test(p))return!1;if(Lf.test(y))return C===y;const P=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(C)}const cr=new he(3e4,6e4);function k3(){const y=$i().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let I5=null;const vg=new he(5e3,15e3),i4="__/auth/iframe",ax="emulator/auth/iframe",cx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zf(y){const f=y.config;Oe(f.authDomain,y,"auth-domain-config-required");const p=f.emulator?ge(f,ax):`https://${y.config.authDomain}/${i4}`,C={apiKey:f.apiKey,appName:y.name,v:Fe.SDK_VERSION},P=lx.get(y.config.apiHost);P&&(C.eid=P);const V=y._getFrameworks();return V.length&&(C.fw=V.join(",")),`${p}?${(0,se.Am)(C).slice(1)}`}function z5(){return z5=(0,H.A)(function*(y){const f=yield function ox(y){return I5=I5||function If(y){return new Promise((f,p)=>{var C,P,V;function Z(){k3(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{k3(),p(c1(y,"network-request-failed"))},timeout:cr.get()})}if(null!==(P=null===(C=$i().gapi)||void 0===C?void 0:C.iframes)&&void 0!==P&&P.Iframe)f(gapi.iframes.getContext());else{if(null===(V=$i().gapi)||void 0===V||!V.load){const oe=V0("iframefcb");return $i()[oe]=()=>{gapi.load?Z():p(c1(y,"network-request-failed"))},bc(`${function Cl(){return Cc.gapiScript}()}?onload=${oe}`).catch(ke=>p(ke))}Z()}}).catch(f=>{throw I5=null,f})}(y),I5}(y),p=$i().gapi;return Oe(p,y,"internal-error"),f.open({where:document.body,url:zf(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cx,dontclear:!0},C=>new Promise(function(){var P=(0,H.A)(function*(V,Z){yield C.restyle({setHideOnLeave:!1});const oe=c1(y,"network-request-failed"),ke=$i().setTimeout(()=>{Z(oe)},vg.get());function It(){$i().clearTimeout(ke),V(C)}C.ping(It).then(It,()=>{Z(oe)})});return function(V,Z){return P.apply(this,arguments)}}()))}),z5.apply(this,arguments)}const Pf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nf{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hx="__/auth/handler",px="emulator/auth/handler",mx=encodeURIComponent("fac");function Df(y,f,p,C,P,V){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,H.A)(function*(y,f,p,C,P,V){Oe(y.config.authDomain,y,"auth-domain-config-required"),Oe(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:C,v:Fe.SDK_VERSION,eventId:P};if(f instanceof xo){f.setDefaultLanguage(y.languageCode),Z.providerId=f.providerId||"",(0,se.Im)(f.getCustomParameters())||(Z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Qt,Ht]of Object.entries(V||{}))Z[Qt]=Ht}if(f instanceof x){const Qt=f.getScopes().filter(Ht=>""!==Ht);Qt.length>0&&(Z.scopes=Qt.join(","))}y.tenantId&&(Z.tid=y.tenantId);const oe=Z;for(const Qt of Object.keys(oe))void 0===oe[Qt]&&delete oe[Qt];const ke=yield y._getAppCheckToken(),It=ke?`#${mx}=${encodeURIComponent(ke)}`:"";return`${function gx({config:y}){return y.emulator?ge(y,px):`https://${y.authDomain}/${hx}`}(y)}?${(0,se.Am)(oe).slice(1)}${It}`})).apply(this,arguments)}const Ul="webStorageSupport",Di=class P5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wa,this._completeRedirectFn=n4,this._overrideRedirectResult=Ks}_openPopup(f,p,C,P){var V=this;return(0,H.A)(function*(){var Z;f1(null===(Z=V.eventManagers[f._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const oe=yield Df(f,p,C,Li(),P);return function fx(y,f,p,C=500,P=600){const V=Math.max((window.screen.availHeight-P)/2,0).toString(),Z=Math.max((window.screen.availWidth-C)/2,0).toString();let oe="";const ke=Object.assign(Object.assign({},Pf),{width:C.toString(),height:P.toString(),top:V,left:Z}),It=(0,se.ZQ)().toLowerCase();p&&(oe=vc(It)?"_blank":p),eo(It)&&(f=f||"http://localhost",ke.scrollbars="yes");const Qt=Object.entries(ke).reduce((Ji,[No,U5])=>`${Ji}${No}=${U5},`,"");if(function ce(y=(0,se.ZQ)()){var f;return hn(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(It)&&"_self"!==oe)return function Vl(y,f){const p=document.createElement("a");p.href=y,p.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(f||"",oe),new Nf(null);const Ht=window.open(f||"",oe,Qt);Oe(Ht,y,"popup-blocked");try{Ht.focus()}catch{}return new Nf(Ht)}(f,oe,h5())})()}_openRedirect(f,p,C,P){var V=this;return(0,H.A)(function*(){return yield V._originValidation(f),function uf(y){$i().location.href=y}(yield Df(f,p,C,Li(),P)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:P,promise:V}=this.eventManagers[p];return P?Promise.resolve(P):(f1(V,"If manager is not set, promise should be"),V)}const C=this.initAndGetManager(f);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(f){var p=this;return(0,H.A)(function*(){const C=yield function qa(y){return z5.apply(this,arguments)}(f),P=new _g(f);return C.register("authEvent",V=>(Oe(V?.authEvent,f,"invalid-auth-event"),{status:P.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:P},p.iframes[f._key()]=C,P})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Ul,{type:Ul},P=>{var V;const Z=null===(V=P?.[0])||void 0===V?void 0:V[Ul];void 0!==Z&&p(!!Z),n1(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function rx(y){return Fl.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Lt()||Fa()||hn()}};class _t{constructor(f){this.factorId=f}_process(f,p,C){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,C);case"signin":return this._finalizeSignIn(f,p.credential);default:return P1("unexpected MultiFactorSessionType")}}}class Sn extends _t{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Sn(f)}_finalizeEnroll(f,p,C){return function eg(y,f){return ct(y,"POST","/v2/accounts/mfaEnrollment:finalize",be(y,f))}(f,{idToken:p,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function R3(y,f){return ct(y,"POST","/v2/accounts/mfaSignIn:finalize",be(y,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ws=(()=>{class y{constructor(){}static assertion(p){return Sn._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var bi="@firebase/auth";class Ca{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,H.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(C=>{f(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function so(){return window}(0,se.XA)("authIdTokenMaxAge"),function Z8(y){Cc=y}({loadJS:y=>new Promise((f,p)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=f,C.onerror=P=>{const V=c1("internal-error");V.customData=P,p(V)},C.type="text/javascript",C.charset="UTF-8",function Xa(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Bl(y){(0,Fe._registerComponent)(new Je.uA("auth",(f,{options:p})=>{const C=f.getProvider("app").getImmediate(),P=f.getProvider("heartbeat"),V=f.getProvider("app-check-internal"),{apiKey:Z,authDomain:oe}=C.options;Oe(Z&&!Z.includes(":"),"invalid-api-key",{appName:C.name});const ke={apiKey:Z,authDomain:oe,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hn(y)},It=new Mc(C,P,V,ke);return function bl(y,f){const p=f?.persistence||[],C=(Array.isArray(p)?p:[p]).map(xn);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(C,f?.popupRedirectResolver)}(It,p),It},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,C)=>{f.getProvider("auth-internal").initialize()})),(0,Fe._registerComponent)(new Je.uA("auth-internal",f=>{const p=ii(f.getProvider("auth").getImmediate());return new Ca(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Fe.registerVersion)(bi,"1.7.8",function Xn(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,Fe.registerVersion)(bi,"1.7.8","esm2017")}("Browser");function o4(){return o4=(0,H.A)(function*(y,f,p){var C;const{BuildInfo:P}=so();f1(f.sessionId,"AuthEvent did not contain a session ID");const V=yield function a4(y){return Qi.apply(this,arguments)}(f.sessionId),Z={};return hn()?Z.ibi=P.packageName:ua()?Z.apn=P.packageName:n1(y,"operation-not-supported-in-this-environment"),P.displayName&&(Z.appDisplayName=P.displayName),Z.sessionId=V,Df(y,p,f.type,void 0,null!==(C=f.eventId)&&void 0!==C?C:void 0,Z)}),o4.apply(this,arguments)}function pn(){return(pn=(0,H.A)(function*(y){const{BuildInfo:f}=so(),p={};hn()?p.iosBundleId=f.packageName:ua()?p.androidPackageName=f.packageName:n1(y,"operation-not-supported-in-this-environment"),yield Pc(y,p)})).apply(this,arguments)}function oo(){return(oo=(0,H.A)(function*(y,f,p){const{cordova:C}=so();let P=()=>{};try{yield new Promise((V,Z)=>{let oe=null;function ke(){var Ht;V();const Ji=null===(Ht=C.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof Ji&&Ji(),"function"==typeof p?.close&&p.close()}function It(){oe||(oe=window.setTimeout(()=>{Z(c1(y,"redirect-cancelled-by-user"))},2e3))}function Qt(){"visible"===document?.visibilityState&&It()}f.addPassiveListener(ke),document.addEventListener("resume",It,!1),ua()&&document.addEventListener("visibilitychange",Qt,!1),P=()=>{f.removePassiveListener(ke),document.removeEventListener("resume",It,!1),document.removeEventListener("visibilitychange",Qt,!1),oe&&window.clearTimeout(oe)}})}finally{P()}})).apply(this,arguments)}function Qi(){return(Qi=(0,H.A)(function*(y){const f=function D5(y){if(f1(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),p=new Uint8Array(f);for(let C=0;C<y.length;C++)p[C]=y.charCodeAt(C);return p}(y),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(P=>P.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class x2 extends _g{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInitialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInitialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,H.A)(function*(){yield f.initPromise})()}}function Gl(y){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,H.A)(function*(y){const f=yield Ff()._get(Wl(y));return f&&(yield Ff()._remove(Wl(y))),f})).apply(this,arguments)}function bg(){const y=[];for(let p=0;p<20;p++){const C=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(C))}return y.join("")}function Ff(){return xn(m1)}function Wl(y){return Bt("authEvent",y.config.apiKey,y.name)}function c4(y){if(!y?.includes("?"))return{};const[f,...p]=y.split("?");return(0,se.I9)(p.join("?"))}const PR=class zR{constructor(){this._redirectPersistence=Wa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=n4,this._overrideRedirectResult=Ks}_initialize(f){var p=this;return(0,H.A)(function*(){const C=f._key();let P=p.eventManagers.get(C);return P||(P=new x2(f),p.eventManagers.set(C,P),p.attachCallbackListeners(f,P)),P})()}_openPopup(f){n1(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,C,P){var V=this;return(0,H.A)(function*(){!function N5(y){var f,p,C,P,V,Z,oe,ke,It,Qt;const Ht=so();Oe("function"==typeof(null===(f=Ht?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(typeof(null===(p=Ht?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe("function"==typeof(null===(V=null===(P=null===(C=Ht?.cordova)||void 0===C?void 0:C.plugins)||void 0===P?void 0:P.browsertab)||void 0===V?void 0:V.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(ke=null===(oe=null===(Z=Ht?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===ke?void 0:ke.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(Qt=null===(It=Ht?.cordova)||void 0===It?void 0:It.InAppBrowser)||void 0===Qt?void 0:Qt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Z=yield V._initialize(f);yield Z.initialized(),Z.resetRedirect(),function pg(){Ol.clear()}(),yield V._originValidation(f);const oe=function kf(y,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:bg(),postBody:null,tenantId:y.tenantId,error:c1(y,"no-auth-event")}}(f,C,P);yield function V3(y,f){return Ff()._set(Wl(y),f)}(f,oe);const ke=yield function Nc(y,f,p){return o4.apply(this,arguments)}(f,oe,p),It=yield function Of(y){const{cordova:f}=so();return new Promise(p=>{f.plugins.browsertab.isAvailable(C=>{let P=null;C?f.plugins.browsertab.openUrl(y):P=f.InAppBrowser.open(y,function ye(y=(0,se.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(P)})})}(ke);return function jl(y,f,p){return oo.apply(this,arguments)}(f,Z,It)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ro(y){return pn.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:C,handleOpenURL:P,BuildInfo:V}=so(),Z=setTimeout((0,H.A)(function*(){yield Gl(f),p.onEvent(yx())}),500),oe=function(){var Qt=(0,H.A)(function*(Ht){clearTimeout(Z);const Ji=yield Gl(f);let No=null;Ji&&Ht?.url&&(No=function $l(y,f){var p,C;const P=function _x(y){const f=c4(y),p=f.link?decodeURIComponent(f.link):void 0,C=c4(p).link,P=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return c4(P).link||P||C||p||y}(f);if(P.includes("/__/auth/callback")){const V=c4(P),Z=V.firebaseError?function xg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(V.firebaseError)):null,oe=null===(C=null===(p=Z?.code)||void 0===p?void 0:p.split("auth/"))||void 0===C?void 0:C[1],ke=oe?c1(oe):null;return ke?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:P,postBody:null}}return null}(Ji,Ht.url)),p.onEvent(No||yx())});return function(Ji){return Qt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,oe);const ke=P,It=`${V.packageName.toLowerCase()}://`;so().handleOpenURL=function(){var Qt=(0,H.A)(function*(Ht){if(Ht.toLowerCase().startsWith(It)&&oe({url:Ht}),"function"==typeof ke)try{ke(Ht)}catch(Ji){console.error(Ji)}});return function(Ht){return Qt.apply(this,arguments)}}()}};function yx(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:c1("no-auth-event")}}function R5(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function vx(y=(0,se.ZQ)()){return!("file:"!==R5()&&"ionic:"!==R5()&&"capacitor:"!==R5()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mx(){try{const y=self.localStorage,f=h5();if(y)return y.setItem(f,"1"),y.removeItem(f),!function VR(y=(0,se.ZQ)()){return function Eg(){return(0,se.lT)()&&11===document?.documentMode}()||function wg(y=(0,se.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,se.zW)()}catch{return Tg()&&(0,se.zW)()}return!1}function Tg(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sg(){return(function kR(){return"http:"===R5()||"https:"===R5()}()||(0,se.sr)()||vx())&&!function FR(){return(0,se.lV)()||(0,se.Ll)()}()&&Mx()&&!Tg()}function Ag(){return vx()&&typeof document<"u"}function Nr(){return(Nr=(0,H.A)(function*(){return!!Ag()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Dr={LOCAL:"local",NONE:"none",SESSION:"session"},ql=Oe,Vf="persistence";function Uf(y){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,H.A)(function*(y){yield y._initializationPromise;const f=zo(),p=Bt(Vf,y.config.apiKey,y.name);f&&f.setItem(p,y._getPersistence())})).apply(this,arguments)}function zo(){var y;try{return(null===(y=function Ig(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Pg=Oe;class Ya{constructor(){this.browserResolver=xn(Di),this.cordovaResolver=xn(PR),this.underlyingResolver=null,this._redirectPersistence=Wa,this._completeRedirectFn=n4,this._overrideRedirectResult=Ks}_initialize(f){var p=this;return(0,H.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,C,P){var V=this;return(0,H.A)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openPopup(f,p,C,P)})()}_openRedirect(f,p,C,P){var V=this;return(0,H.A)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openRedirect(f,p,C,P)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ag()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,H.A)(function*(){if(f.underlyingResolver)return;const p=yield function Lg(){return Nr.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function B1(y){return y.unwrap()}function Xl(y){return Ng(y)}function Ng(y){const{_tokenResponse:f}=y instanceof se.g?y.customData:y;if(!f)return null;if(!(y instanceof se.g)&&"temporaryProof"in f&&"phoneNumber"in f)return t4.credentialFromResult(y);const p=f.providerId;if(!p||p===Dt.PASSWORD)return null;let C;switch(p){case Dt.GOOGLE:C=W;break;case Dt.FACEBOOK:C=R;break;case Dt.GITHUB:C=Y;break;case Dt.TWITTER:C=nt;break;default:const{oauthIdToken:P,oauthAccessToken:V,oauthTokenSecret:Z,pendingToken:oe,nonce:ke}=f;return V||Z||P||oe?oe?p.startsWith("saml.")?Ae._create(p,oe):Sr._fromParams({providerId:p,signInMethod:p,pendingToken:oe,idToken:P,accessToken:V}):new w(p).credential({idToken:P,accessToken:V,rawNonce:ke}):null}return y instanceof se.g?C.credentialFromError(y):C.credentialFromResult(y)}function Xs(y,f){return f.catch(p=>{throw p instanceof se.g&&function B2(y,f){var p;const C=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new bx(y,function cf(y,f){var p;const C=(0,se.Ku)(y),P=f;return Oe(f.customData.operationType,C,"argument-error"),Oe(null===(p=P.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,C,"argument-error"),P3._fromError(C,P)}(y,f));else if(C){const P=Ng(f),V=f;P&&(V.credential=P,V.tenantId=C.tenantId||void 0,V.email=C.email||void 0,V.phoneNumber=C.phoneNumber||void 0)}}(y,p),p}).then(p=>{const P=p.user;return{operationType:p.operationType,credential:Xl(p),additionalUserInfo:rf(p),user:Po.getOrCreate(P)}})}function Za(y,f){return H2.apply(this,arguments)}function H2(){return(H2=(0,H.A)(function*(y,f){const p=yield f;return{verificationId:p.verificationId,confirm:C=>Xs(y,p.confirm(C))}})).apply(this,arguments)}class bx{constructor(f,p){this.resolver=p,this.auth=function Bf(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Xs(B1(this.auth),this.resolver.resolveSignIn(f))}}class Po{constructor(f){this._delegate=f,this.multiFactor=function ER(y){const f=(0,se.Ku)(y);return q1.has(f)||q1.set(f,Zn._fromUser(f)),q1.get(f)}(f)}static getOrCreate(f){return Po.USER_MAP.has(f)||Po.USER_MAP.set(f,new Po(f)),Po.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,H.A)(function*(){return Xs(p.auth,Gi(p._delegate,f))})()}linkWithPhoneNumber(f,p){var C=this;return(0,H.A)(function*(){return Za(C.auth,function mf(y,f,p){return e4.apply(this,arguments)}(C._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,H.A)(function*(){return Xs(p.auth,function tx(y,f,p){return Cf.apply(this,arguments)}(p._delegate,f,Ya))})()}linkWithRedirect(f){var p=this;return(0,H.A)(function*(){return yield Uf(ii(p.auth)),E5(p._delegate,f,Ya)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,H.A)(function*(){return Xs(p.auth,to(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return Za(this.auth,function y5(y,f,p){return zr.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Xs(this.auth,function ex(y,f,p){return Mf.apply(this,arguments)}(this._delegate,f,Ya))}reauthenticateWithRedirect(f){var p=this;return(0,H.A)(function*(){return yield Uf(ii(p.auth)),C2(p._delegate,f,Ya)})()}sendEmailVerification(f){return function _R(y,f){return sf.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,H.A)(function*(){return yield function W1(y,f){return Zi.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function MR(y,f){const p=(0,se.Ku)(y);return(0,Fe._isFirebaseServerApp)(p.auth.app)?Promise.reject(Re(p.auth)):Ft(p,f,null)}(this._delegate,f)}updatePassword(f){return function CR(y,f){return Ft((0,se.Ku)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function _f(y,f){return v5.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function vR(y,f){return Wm.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function yR(y,f,p){return F2.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Po.USER_MAP=new WeakMap;const Yl=Oe;let Rr=(()=>{class y{constructor(p,C){if(this.app=p,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:P}=p.options;Yl(P,"invalid-api-key",{appName:p.name}),Yl(P,"invalid-api-key",{appName:p.name});const V=typeof window<"u"?Ya:void 0;this._delegate=C.initialize({options:{persistence:Dg(P,p.name),popupRedirectResolver:V}}),this._delegate._updateErrorMap(di),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Po.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,C){!function t5(y,f,p){const C=ii(y);Oe(C._canInitEmulator,C,"emulator-config-failed"),Oe(/^https?:\/\//.test(f),C,"invalid-emulator-scheme");const P=!!p?.disableWarnings,V=H0(f),{host:Z,port:oe}=function Um(y){const f=H0(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(C);if(P){const V=P[1];return{host:V,port:j0(C.substr(V.length+1))}}{const[V,Z]=C.split(":");return{host:V,port:j0(Z)}}}(f);C.config.emulator={url:`${V}//${Z}${null===oe?"":`:${oe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Z,port:oe,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Q7(){function y(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,C)}applyActionCode(p){return function c5(y,f){return _s.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return l5(this._delegate,p)}confirmPasswordReset(p,C){return function ef(y,f,p){return U1.apply(this,arguments)}(this._delegate,p,C)}createUserWithEmailAndPassword(p,C){var P=this;return(0,H.A)(function*(){return Xs(P._delegate,function Wn(y,f,p){return Y0.apply(this,arguments)}(P._delegate,p,C))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function gR(y,f){return nf.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function pR(y,f){const p=pa.parseLink(f);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,H.A)(function*(){Yl(Sg(),p._delegate,"operation-not-supported-in-this-environment");const C=yield function w5(y,f){return wf.apply(this,arguments)}(p._delegate,Ya);return C?Xs(p._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function NR(y,f){ii(y)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,C,P){const{next:V,error:Z,complete:oe}=Hf(p,C,P);return this._delegate.onAuthStateChanged(V,Z,oe)}onIdTokenChanged(p,C,P){const{next:V,error:Z,complete:oe}=Hf(p,C,P);return this._delegate.onIdTokenChanged(V,Z,oe)}sendSignInLinkToEmail(p,C){return function hR(y,f,p){return tf.apply(this,arguments)}(this._delegate,p,C)}sendPasswordResetEmail(p,C){return function _i(y,f,p){return a5.apply(this,arguments)}(this._delegate,p,C||void 0)}setPersistence(p){var C=this;return(0,H.A)(function*(){let P;switch(function zg(y,f){ql(Object.values(Dr).includes(f),y,"invalid-persistence-type"),(0,se.lV)()?ql(f!==Dr.SESSION,y,"unsupported-persistence-type"):(0,se.Ll)()?ql(f===Dr.NONE,y,"unsupported-persistence-type"):Tg()?ql(f===Dr.NONE||f===Dr.LOCAL&&(0,se.zW)(),y,"unsupported-persistence-type"):ql(f===Dr.NONE||Mx(),y,"unsupported-persistence-type")}(C._delegate,p),p){case Dr.SESSION:P=Wa;break;case Dr.LOCAL:P=(yield xn(_a)._isAvailable())?_a:m1;break;case Dr.NONE:P=Ei;break;default:return n1("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(P)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Xs(this._delegate,function Kn(y){return Kt.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Xs(this._delegate,gs(this._delegate,p))}signInWithCustomToken(p){return Xs(this._delegate,function Eo(y,f){return no.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,C){return Xs(this._delegate,function Lr(y,f,p){return(0,Fe._isFirebaseServerApp)(y.app)?Promise.reject(Re(y)):gs((0,se.Ku)(y),Ll.credential(f,p)).catch(function(){var C=(0,H.A)(function*(P){throw"auth/password-does-not-meet-requirements"===P.code&&io(y),P});return function(P){return C.apply(this,arguments)}}())}(this._delegate,p,C))}signInWithEmailLink(p,C){return Xs(this._delegate,function Lc(y,f,p){return jm.apply(this,arguments)}(this._delegate,p,C))}signInWithPhoneNumber(p,C){return Za(this._delegate,function So(y,f,p){return _5.apply(this,arguments)}(this._delegate,p,C))}signInWithPopup(p){var C=this;return(0,H.A)(function*(){return Yl(Sg(),C._delegate,"operation-not-supported-in-this-environment"),Xs(C._delegate,function Jb(y,f,p){return C5.apply(this,arguments)}(C._delegate,p,Ya))})()}signInWithRedirect(p){var C=this;return(0,H.A)(function*(){return Yl(Sg(),C._delegate,"operation-not-supported-in-this-environment"),yield Uf(C._delegate),Ps(C._delegate,p,Ya)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Bb(y,f){return zl.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Dr,y})();function Hf(y,f,p){let C=y;"function"!=typeof y&&({next:C,error:f,complete:p}=y);const P=C;return{next:Z=>P(Z&&Po.getOrCreate(Z)),error:f,complete:p}}function Dg(y,f){const p=function Cx(y,f){const p=zo();if(!p)return[];const C=Bt(Vf,y,f);switch(p.getItem(C)){case Dr.NONE:return[Ei];case Dr.LOCAL:return[_a,Wa];case Dr.SESSION:return[Wa];default:return[]}}(y,f);if(typeof self<"u"&&!p.includes(_a)&&p.push(_a),typeof window<"u")for(const C of[m1,Wa])p.includes(C)||p.push(C);return p.includes(Ei)||p.push(Ei),p}class O5{constructor(){this.providerId="phone",this._delegate=new t4(B1(st.A.auth()))}static credential(f,p){return t4.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}O5.PHONE_SIGN_IN_METHOD=t4.PHONE_SIGN_IN_METHOD,O5.PROVIDER_ID=t4.PROVIDER_ID;const k5=Oe;class jf{constructor(f,p,C=st.A.app()){var P;k5(null===(P=C.options)||void 0===P?void 0:P.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new dg(C.auth(),f,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function V5(y){y.INTERNAL.registerComponent(new Je.uA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),C=f.getProvider("auth");return new Rr(p,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ll,FacebookAuthProvider:R,GithubAuthProvider:Y,GoogleAuthProvider:W,OAuthProvider:w,SAMLAuthProvider:Be,PhoneAuthProvider:O5,PhoneMultiFactorGenerator:ws,RecaptchaVerifier:jf,TwitterAuthProvider:nt,Auth:Rr,AuthCredential:da,Error:se.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.13")}(st.A)},819:(n2,u1,Ve)=>{"use strict";Ve.d(u1,{a:()=>Je,b:()=>Dt});var H=Object.create,st=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,se=Object.getOwnPropertyNames,wn=Object.getPrototypeOf,xt=Object.prototype.hasOwnProperty,Je=(ee,le)=>()=>(le||ee((le={exports:{}}).exports,le),le.exports),Dt=(ee,le,dt)=>(dt=null!=ee?H(wn(ee)):{},((ee,le,dt,St)=>{if(le&&"object"==typeof le||"function"==typeof le)for(let dn of se(le))!xt.call(ee,dn)&&undefined!==dn&&st(ee,dn,{get:()=>le[dn],enumerable:!(St=Fe(le,dn))||St.enumerable});return ee})(!le&&ee&&ee.__esModule?dt:st(dt,"default",{value:ee,enumerable:!0}),ee))},783:(n2,u1,Ve)=>{"use strict";Ve.d(u1,{a:()=>$1,b:()=>bo,c:()=>ji,d:()=>G0,e:()=>s5,f:()=>r5,g:()=>pa,h:()=>sr,i:()=>Ll,j:()=>xo});var H=Ve(467),st={},se=Uint8Array,wn=Uint16Array,xt=Int32Array,Je=new se([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ut=new se([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Dt=new se([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ee=function(x,w){for(var R=new wn(31),W=0;W<31;++W)R[W]=w+=1<<x[W-1];var Y=new xt(R[30]);for(W=1;W<30;++W)for(var ie=R[W];ie<R[W+1];++ie)Y[ie]=ie-R[W]<<5|W;return{b:R,r:Y}},le=ee(Je,2),dt=le.b,St=le.r;dt[28]=258,St[258]=28;var di=ee(Ut,0).b,t1=new wn(32768);for(At=0;At<32768;++At)t1[At]=((65280&(ln=(61680&(ln=(52428&(ln=(43690&At)>>1|(21845&At)<<1))>>2|(13107&ln)<<2))>>4|(3855&ln)<<4))>>8|(255&ln)<<8)>>1;var ln,In=function(x,w,R){for(var W=x.length,Y=0,ie=new wn(w);Y<W;++Y)x[Y]&&++ie[x[Y]-1];var $e,Ae=new wn(w);for(Y=1;Y<w;++Y)Ae[Y]=Ae[Y-1]+ie[Y-1]<<1;if(R){$e=new wn(1<<w);var Be=15-w;for(Y=0;Y<W;++Y)if(x[Y])for(var nt=Y<<4|x[Y],Ct=w-x[Y],tt=Ae[x[Y]-1]++<<Ct,gt=tt|(1<<Ct)-1;tt<=gt;++tt)$e[t1[tt]>>Be]=nt}else for($e=new wn(W),Y=0;Y<W;++Y)x[Y]&&($e[Y]=t1[Ae[x[Y]-1]++]>>15-x[Y]);return $e},d1=new se(288);for(At=0;At<144;++At)d1[At]=8;for(At=144;At<256;++At)d1[At]=9;for(At=256;At<280;++At)d1[At]=7;for(At=280;At<288;++At)d1[At]=8;var G1=new se(32);for(At=0;At<32;++At)G1[At]=5;var At,n1=In(d1,9,1),c1=In(G1,5,1),Zt=function(x){for(var w=x[0],R=1;R<x.length;++R)x[R]>w&&(w=x[R]);return w},Re=function(x,w,R){var W=w/8|0;return(x[W]|x[W+1]<<8)>>(7&w)&R},Tn=function(x,w){var R=w/8|0;return(x[R]|x[R+1]<<8|x[R+2]<<16)>>(7&w)},Wt=function(x){return(x+7)/8|0},Oe=function(x,w,R){return(null==w||w<0)&&(w=0),(null==R||R>x.length)&&(R=x.length),new se(x.subarray(w,R))},P1=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],f1=function(x,w,R){var W=new Error(w||P1[x]);if(W.code=x,Error.captureStackTrace&&Error.captureStackTrace(W,f1),!R)throw W;return W},Li=function(x,w,R,W){var Y=x.length,ie=W?W.length:0;if(!Y||w.f&&!w.l)return R||new se(0);var Ae=!R,$e=Ae||2!=w.i,Be=w.i;Ae&&(R=new se(3*Y));var nt=function(ef){var U1=R.length;if(ef>U1){var c5=new se(Math.max(2*U1,ef));c5.set(R),R=c5}},Ct=w.f||0,tt=w.p||0,gt=w.b||0,un=w.l,Kn=w.d,Kt=w.m,On=w.n,jn=8*Y;do{if(!un){Ct=Re(x,tt,1);var si=Re(x,tt+1,3);if(tt+=3,!si){var K0=x[(gs=Wt(tt)+4)-4]|x[gs-3]<<8,o5=gs+K0;if(o5>Y){Be&&f1(0);break}$e&&nt(gt+K0),R.set(x.subarray(gs,o5),gt),w.b=gt+=K0,w.p=tt=8*o5,w.f=Ct;continue}if(1==si)un=n1,Kn=c1,Kt=9,On=5;else if(2==si){var W1=Re(x,tt,31)+257,Zi=Re(x,tt+10,15)+4,xs=W1+Re(x,tt+5,31)+1;tt+=14;for(var r2=new se(xs),Es=new se(19),gi=0;gi<Zi;++gi)Es[Dt[gi]]=Re(x,tt+3*gi,7);tt+=3*Zi;var Ws=Zt(Es),Ar=(1<<Ws)-1,zs=In(Es,Ws,1);for(gi=0;gi<xs;){var gs,o2=zs[Re(x,tt,Ar)];if(tt+=15&o2,(gs=o2>>4)<16)r2[gi++]=gs;else{var We=0,Gi=0;for(16==gs?(Gi=3+Re(x,tt,3),tt+=2,We=r2[gi-1]):17==gs?(Gi=3+Re(x,tt,7),tt+=3):18==gs&&(Gi=11+Re(x,tt,127),tt+=7);Gi--;)r2[gi++]=We}}var qs=r2.subarray(0,W1),to=r2.subarray(W1);Kt=Zt(qs),On=Zt(to),un=In(qs,Kt,1),Kn=In(to,On,1)}else f1(1);if(tt>jn){Be&&f1(0);break}}$e&&nt(gt+131072);for(var X0=(1<<Kt)-1,Eo=(1<<On)-1,no=tt;;no=tt){var a2=(We=un[Tn(x,tt)&X0])>>4;if((tt+=15&We)>jn){Be&&f1(0);break}if(We||f1(2),a2<256)R[gt++]=a2;else{if(256==a2){no=tt,un=null;break}var wo=a2-254;a2>264&&(wo=Re(x,tt,(1<<(ma=Je[gi=a2-257]))-1)+dt[gi],tt+=ma);var ga=Kn[Tn(x,tt)&Eo],io=ga>>4;if(ga||f1(3),tt+=15&ga,to=di[io],io>3){var ma=Ut[io];to+=Tn(x,tt)&(1<<ma)-1,tt+=ma}if(tt>jn){Be&&f1(0);break}$e&&nt(gt+131072);var Il=gt+wo;if(gt<to){var _i=ie-to,a5=Math.min(to,Il);for(_i+gt<0&&f1(3);gt<a5;++gt)R[gt]=W[_i+gt]}for(;gt<Il;++gt)R[gt]=R[gt-to]}}w.l=un,w.p=no,w.b=gt,w.f=Ct,un&&(Ct=1,w.m=Kt,w.d=Kn,w.n=On)}while(!Ct);return gt!=R.length&&Ae?Oe(R,0,gt):R.subarray(0,gt)},Ms=new se(0),er=function(x,w,R){for(var W=x(),Y=x.toString(),ie=Y.slice(Y.indexOf("[")+1,Y.lastIndexOf("]")).replace(/\s+/g,"").split(","),Ae=0;Ae<W.length;++Ae){var $e=W[Ae],Be=ie[Ae];if("function"==typeof $e){w+=";"+Be+"=";var nt=$e.toString();if($e.prototype)if(-1!=nt.indexOf("[native code]")){var Ct=nt.indexOf(" ",8)+1;w+=nt.slice(Ct,nt.indexOf("(",Ct))}else for(var tt in w+=nt,$e.prototype)w+=";"+Be+".prototype."+tt+"="+$e.prototype[tt].toString();else w+=nt}else R[Be]=$e}return w},s2=[],Te=function(){return[se,wn,xt,Je,Ut,Dt,dt,di,n1,c1,t1,P1,In,Zt,Re,Tn,Wt,Oe,f1,Li,mn,Ie,Ze]},Ie=function(x){return postMessage(x,[x.buffer])},Ze=function(x){return x&&{out:x.size&&new se(x.size),dictionary:x.dictionary}},be=function(x,w,R,W,Y,ie){var Ae=function(x,w,R,W){if(!s2[R]){for(var Y="",ie={},Ae=x.length-1,$e=0;$e<Ae;++$e)Y=er(x[$e],Y,ie);s2[R]={c:er(x[Ae],Y,ie),e:ie}}var Be=function(x,w){var R={};for(var W in x)R[W]=x[W];for(var W in w)R[W]=w[W];return R}({},s2[R].e);return function(x,w,R,W,Y){var ie=new Worker(st[w]||(st[w]=URL.createObjectURL(new Blob([x+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return ie.onmessage=function(Ae){var $e=Ae.data,Be=$e.$e$;if(Be){var nt=new Error(Be[0]);nt.code=Be[1],nt.stack=Be[2],Y(nt,null)}else Y(null,$e)},ie.postMessage(R,W),ie}(s2[R].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+w.toString()+"}",R,Be,function(x){var w=[];for(var R in x)x[R].buffer&&w.push((x[R]=new x[R].constructor(x[R])).buffer);return w}(Be),W)}(R,W,Y,function($e,Be){Ae.terminate(),ie($e,Be)});return Ae.postMessage([x,w],w.consume?[x.buffer]:[]),function(){Ae.terminate()}},ct=function(x,w){return x[w]|x[w+1]<<8},Pn=function(x,w){return(x[w]|x[w+1]<<8|x[w+2]<<16|x[w+3]<<24)>>>0},O1=function(x,w){return Pn(x,w)+4294967296*Pn(x,w+4)};function mn(x,w){return Li(x,{i:2},w&&w.out,w&&w.dictionary)}var gn=typeof TextDecoder<"u"&&new TextDecoder;try{gn.decode(Ms,{stream:!0})}catch{}var E1=function(x){for(var w="",R=0;;){var W=x[R++],Y=(W>127)+(W>223)+(W>239);if(R+Y>x.length)return{s:w,r:Oe(x,R-1)};Y?3==Y?(W=((15&W)<<18|(63&x[R++])<<12|(63&x[R++])<<6|63&x[R++])-65536,w+=String.fromCharCode(55296|W>>10,56320|1023&W)):w+=String.fromCharCode(1&Y?(31&W)<<6|63&x[R++]:(15&W)<<12|(63&x[R++])<<6|63&x[R++]):w+=String.fromCharCode(W)}};function Rn(x,w){if(w){for(var R="",W=0;W<x.length;W+=16384)R+=String.fromCharCode.apply(null,x.subarray(W,W+16384));return R}if(gn)return gn.decode(x);var Y=E1(x),ie=Y.s;return(R=Y.r).length&&f1(8),ie}var Ui=function(x,w){return w+30+ct(x,w+26)+ct(x,w+28)},Cs=function(x,w,R){var W=ct(x,w+28),Y=Rn(x.subarray(w+46,w+46+W),!(2048&ct(x,w+8))),ie=w+46+W,Ae=Pn(x,w+20),$e=R&&4294967295==Ae?Gs(x,ie):[Ae,Pn(x,w+24),Pn(x,w+42)],Be=$e[0],nt=$e[1],Ct=$e[2];return[ct(x,w+10),Be,nt,Y,ie+ct(x,w+30)+ct(x,w+32),Ct]},Gs=function(x,w){for(;1!=ct(x,w);w+=4+ct(x,w+2));return[O1(x,w+12),O1(x,w+4),O1(x,w+20)]},Ii="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(x){x()};function Co(x){return(Array.isArray(x)?x:x.issues).reduce((w,R)=>{if(R.path){let W=R.path.map(({key:Y})=>Y).join(".");w.nested[W]=[...w.nested[W]||[],R.message]}else w.root=[...w.root||[],R.message];return w},{nested:{}})}var aa=class extends Error{issues;constructor(x){super(x[0].message),this.name="ValiError",this.issues=x}};function tr(x,w){return{reason:x?.reason,validation:w.validation,origin:x?.origin||"value",message:w.message,input:w.input,abortEarly:x?.abortEarly,abortPipeEarly:x?.abortPipeEarly}}function ca(x,w){return{reason:w,origin:x?.origin,abortEarly:x?.abortEarly,abortPipeEarly:x?.abortPipeEarly}}function ps(x,w,R,W){if(!w||!w.length)return{output:x};let Y,ie,Ae=x;for(let $e of w){let Be=$e(Ae);if(Be.issue){Y=Y||ca(R,W);let nt=tr(Y,Be.issue);if(ie?ie.push(nt):ie=[nt],Y.abortEarly||Y.abortPipeEarly)break}else Ae=Be.output}return ie?{issues:ie}:{output:Ae}}function Ls(x,w){return x&&"string"!=typeof x?[void 0,x]:[x,w]}function Bi(x,w,R,W,Y,ie){return{issues:[{reason:w,validation:R,origin:x?.origin||"value",message:W,input:Y,issues:ie,abortEarly:x?.abortEarly,abortPipeEarly:x?.abortPipeEarly}]}}function $s(x,w,R){let[W,Y]=Ls(w,R);return{schema:"array",array:{item:x},async:!1,_parse(ie,Ae){if(!Array.isArray(ie))return Bi(Ae,"type","array",W||"Invalid type",ie);let $e,Be=[];for(let nt=0;nt<ie.length;nt++){let Ct=ie[nt],tt=x._parse(Ct,Ae);if(tt.issues){let gt={schema:"array",input:ie,key:nt,value:Ct};for(let un of tt.issues)un.path?un.path.unshift(gt):un.path=[gt],$e?.push(un);if($e||($e=tt.issues),null!=Ae&&Ae.abortEarly)break}else Be.push(tt.output)}return $e?{issues:$e}:ps(Be,Y,Ae,"array")}}}function v2(x,w){let[R,W]=Ls(x,w);return{schema:"boolean",async:!1,_parse:(Y,ie)=>"boolean"!=typeof Y?Bi(ie,"type","boolean",R||"Invalid type",Y):ps(Y,W,ie,"boolean")}}function wr(x,w){return{schema:"literal",literal:x,async:!1,_parse:(R,W)=>R!==x?Bi(W,"type","literal",w||"Invalid type",R):{output:R}}}function Is(x,w){let[R,W]=Ls(x,w);return{schema:"number",async:!1,_parse:(Y,ie)=>"number"!=typeof Y?Bi(ie,"type","number",R||"Invalid type",Y):ps(Y,W,ie,"number")}}function Hi(x,w,R){let ie,[W,Y]=Ls(w,R);return{schema:"object",object:x,async:!1,_parse(Ae,$e){if(!Ae||"object"!=typeof Ae)return Bi($e,"type","object",W||"Invalid type",Ae);ie=ie||Object.entries(x);let Be,nt={};for(let[Ct,tt]of ie){let gt=Ae[Ct],un=tt._parse(gt,$e);if(un.issues){let Kn={schema:"object",input:Ae,key:Ct,value:gt};for(let Kt of un.issues)Kt.path?Kt.path.unshift(Kn):Kt.path=[Kn],Be?.push(Kt);if(Be||(Be=un.issues),null!=$e&&$e.abortEarly)break}else nt[Ct]=un.output}return Be?{issues:Be}:ps(nt,Y,$e,"object")}}}function w1(x){return{schema:"optional",wrapped:x,async:!1,_parse:(w,R)=>void 0===w?{output:w}:x._parse(w,R)}}function zi(x,w){let[R,W]=Ls(x,w);return{schema:"string",async:!1,_parse:(Y,ie)=>"string"!=typeof Y?Bi(ie,"type","string",R||"Invalid type",Y):ps(Y,W,ie,"string")}}var Qr=["__proto__","prototype","constructor"];function Jr(x,w,R,W){let[Y,ie,Ae]=function v3(x,w,R){if("object"==typeof x&&!Array.isArray(x)){let[ie,Ae]=Ls(w,R);return[x,ie,Ae]}let[W,Y]=Ls(x,w);return[void 0,W,Y]}(w,R,W);return{schema:"tuple",tuple:{items:x,rest:Y},async:!1,_parse($e,Be){if(!Array.isArray($e)||!Y&&x.length!==$e.length||Y&&x.length>$e.length)return Bi(Be,"type","tuple",ie||"Invalid type",$e);let nt,Ct=[];for(let tt=0;tt<x.length;tt++){let gt=$e[tt],un=x[tt]._parse(gt,Be);if(un.issues){let Kn={schema:"tuple",input:$e,key:tt,value:gt};for(let Kt of un.issues)Kt.path?Kt.path.unshift(Kn):Kt.path=[Kn],nt?.push(Kt);if(nt||(nt=un.issues),null!=Be&&Be.abortEarly)break}else Ct[tt]=un.output}if(Y)for(let tt=x.length;tt<$e.length;tt++){let gt=$e[tt],un=Y._parse(gt,Be);if(un.issues){let Kn={schema:"tuple",input:$e,key:tt,value:gt};for(let Kt of un.issues)Kt.path?Kt.path.unshift(Kn):Kt.path=[Kn],nt?.push(Kt);if(nt||(nt=un.issues),null!=Be&&Be.abortEarly)break}else Ct[tt]=un.output}return nt?{issues:nt}:ps(Ct,Ae,Be,"tuple")}}}function Tr(x,w){return{schema:"union",union:x,async:!1,_parse(R,W){let Y,ie;for(let Ae of x){let $e=Ae._parse(R,W);if(!$e.issues){ie=[$e.output];break}if(Y)for(let Be of $e.issues)Y.push(Be);else Y=$e.issues}return ie?{output:ie[0]}:Bi(W,"type","union",w||"Invalid type",R,Y)}}}function M2(x,w,R){let[W,Y]=Ls(w,R);return Hi(x.reduce((ie,Ae)=>({...ie,...Ae.object}),{}),W,Y)}function ka(x,w){return R=>R>x?{issue:{validation:"max_value",message:w||"Invalid value",input:R}}:{output:R}}function Z1(x,w){return R=>R<x?{issue:{validation:"min_value",message:w||"Invalid value",input:R}}:{output:R}}var x,la=Object.create,J=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,ne=Object.getOwnPropertyNames,Ee=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty,kn=(x,w)=>function(){return w||(0,x[ne(x)[0]])((w={exports:{}}).exports,w),w.exports},Bt=kn({"../../node_modules/.pnpm/@rgba-image+copy@0.1.3/node_modules/@rgba-image/copy/dist/index.js"(x){Object.defineProperty(x,"__esModule",{value:!0}),x.copy=void 0,x.copy=(R,W,Y=0,ie=0,Ae=R.width-Y,$e=R.height-ie,Be=0,nt=0)=>{if(Y|=0,ie|=0,$e|=0,Be|=0,nt|=0,(Ae|=0)<=0||$e<=0)return;let Ct=new Uint32Array(R.data.buffer),tt=new Uint32Array(W.data.buffer);for(let gt=0;gt<$e;gt++){let un=ie+gt;if(un<0||un>=R.height)continue;let Kn=nt+gt;if(!(Kn<0||Kn>=W.height))for(let Kt=0;Kt<Ae;Kt++){let On=Y+Kt;if(On<0||On>=R.width)continue;let jn=Be+Kt;jn<0||jn>=W.width||(tt[Kn*W.width+jn]=Ct[un*R.width+On])}}}}}),p1=kn({"../../node_modules/.pnpm/@rgba-image+create-image@0.1.1/node_modules/@rgba-image/create-image/dist/index.js"(x){Object.defineProperty(x,"__esModule",{value:!0}),x.CreateImageFactory=(w=[0,0,0,0],R=4)=>{if(R=Math.floor(R),isNaN(R)||R<1)throw TypeError("channels should be a positive non-zero number");if(!("length"in w)||w.length<R)throw TypeError(`fill should be iterable with at least ${R} members`);let W=(w=new Uint8ClampedArray(w).slice(0,R)).every(Y=>0===Y);return(Y,ie,Ae)=>{if(void 0===Y||void 0===ie)throw TypeError("Not enough arguments");if(Y=Math.floor(Y),ie=Math.floor(ie),isNaN(Y)||Y<1||isNaN(ie)||ie<1)throw TypeError("Index or size is negative or greater than the allowed amount");let $e=Y*ie*R;if(void 0===Ae&&(Ae=new Uint8ClampedArray($e)),Ae instanceof Uint8ClampedArray){if(Ae.length!==$e)throw TypeError("Index or size is negative or greater than the allowed amount");if(!W)for(let Be=0;Be<ie;Be++)for(let nt=0;nt<Y;nt++){let Ct=(Be*Y+nt)*R;for(let tt=0;tt<R;tt++)Ae[Ct+tt]=w[tt]}return{get width(){return Y},get height(){return ie},get data(){return Ae}}}throw TypeError("Expected data to be Uint8ClampedArray or undefined")}},x.createImage=x.CreateImageFactory()}}),ms=kn({"../../node_modules/.pnpm/@rgba-image+lanczos@0.1.1/node_modules/@rgba-image/lanczos/dist/filters.js"(x){Object.defineProperty(x,"__esModule",{value:!0}),x.filters=void 0;var R=(ie,Ae)=>{if(ie<=-Ae||ie>=Ae||0==ie)return 0;let $e=ie*Math.PI;return Math.sin($e)/$e*Math.sin($e/Ae)/($e/Ae)},W=ie=>Math.round(16383*ie);x.filters=(ie,Ae,$e,Be,nt)=>{let Ct=nt?2:3,tt=1/$e,gt=Math.min(1,$e),un=Ct/gt,Kn=Math.floor(2*(un+1)),Kt=new Int16Array((Kn+2)*Ae),On=0;for(let jn=0;jn<Ae;jn++){let si=(jn+.5)*tt+Be,W1=Math.max(0,Math.floor(si-un)),Zi=Math.min(ie-1,Math.ceil(si+un)),xs=Zi-W1+1,r2=new Float32Array(xs),Es=new Int16Array(xs),gi=0,Ws=0;for(let Gi=W1;Gi<=Zi;Gi++){let qs=R((Gi+.5-si)*gt,Ct);gi+=qs,r2[Ws]=qs,Ws++}let Ar=0;for(let Gi=0;Gi<r2.length;Gi++){let qs=r2[Gi]/gi;Ar+=qs,Es[Gi]=W(qs)}Es[Ae>>1]+=W(1-Ar);let zs=0;for(;zs<Es.length&&0===Es[zs];)zs++;let o2=Es.length-1;for(;o2>0&&0===Es[o2];)o2--;let We=o2-zs+1;Kt[On++]=W1+zs,Kt[On++]=We,Kt.set(Es.subarray(zs,o2+1),On),On+=We}return Kt}}}),eo=kn({"../../node_modules/.pnpm/@rgba-image+lanczos@0.1.1/node_modules/@rgba-image/lanczos/dist/convolve.js"(x){Object.defineProperty(x,"__esModule",{value:!0}),x.convolve=void 0,x.convolve=(W,Y,ie,Ae,$e,Be)=>{let nt=0,Ct=0;for(let tt=0;tt<Ae;tt++){let gt=0;for(let un=0;un<$e;un++){let Kt=nt+4*Be[gt++]|0,On=0,jn=0,si=0,W1=0;for(let Zi=Be[gt++];Zi>0;Zi--){let xs=Be[gt++];On=On+xs*W[Kt]|0,jn=jn+xs*W[Kt+1]|0,si=si+xs*W[Kt+2]|0,W1=W1+xs*W[Kt+3]|0,Kt=Kt+4|0}Y[Ct]=On+8192>>14,Y[Ct+1]=jn+8192>>14,Y[Ct+2]=si+8192>>14,Y[Ct+3]=W1+8192>>14,Ct=Ct+4*Ae|0}Ct=4*(tt+1)|0,nt=(tt+1)*ie*4|0}}}}),Fa=kn({"../../node_modules/.pnpm/@rgba-image+lanczos@0.1.1/node_modules/@rgba-image/lanczos/dist/index.js"(x){Object.defineProperty(x,"__esModule",{value:!0}),x.lanczos2=x.lanczos=void 0;var w=Bt(),R=p1(),W=ms(),Y=eo(),ie=(Be,nt,Ct=!1)=>{let gt=nt.height/Be.height,un=W.filters(Be.width,nt.width,nt.width/Be.width,0,Ct),Kn=W.filters(Be.height,nt.height,gt,0,Ct),Kt=new Uint8ClampedArray(nt.width*Be.height*4);Y.convolve(Be.data,Kt,Be.width,Be.height,nt.width,un),Y.convolve(Kt,nt.data,Be.height,nt.width,nt.height,Kn)};x.lanczos=(Be,nt,Ct=0,tt=0,gt=Be.width-Ct,un=Be.height-tt,Kn=0,Kt=0,On=nt.width-Kn,jn=nt.height-Kt)=>{if(tt|=0,un|=0,Kn|=0,Kt|=0,On|=0,jn|=0,(gt|=0)<=0||un<=0||On<=0||jn<=0)return;if(0==(Ct|=0)&&0===tt&&gt===Be.width&&un===Be.height&&0===Kn&&0===Kt&&On===nt.width&&jn===nt.height)return void ie(Be,nt);let si=R.createImage(gt,un),W1=R.createImage(On,jn);w.copy(Be,si,Ct,tt),ie(si,W1),w.copy(W1,nt,0,0,W1.width,W1.height,Kn,Kt)},x.lanczos2=(Be,nt,Ct=0,tt=0,gt=Be.width-Ct,un=Be.height-tt,Kn=0,Kt=0,On=nt.width-Kn,jn=nt.height-Kt)=>{if(tt|=0,un|=0,Kn|=0,Kt|=0,On|=0,jn|=0,(gt|=0)<=0||un<=0||On<=0||jn<=0)return;if(0==(Ct|=0)&&0===tt&&gt===Be.width&&un===Be.height&&0===Kn&&0===Kt&&On===nt.width&&jn===nt.height)return void ie(Be,nt,!0);let si=R.createImage(gt,un),W1=R.createImage(On,jn);w.copy(Be,si,Ct,tt),ie(si,W1,!0),w.copy(W1,nt,0,0,W1.width,W1.height,Kn,Kt)}}}),vc=((x=vc||{}).Bounce="bounce",x.Normal="normal",x),Va=function k2(x,w){return{schema:"native_enum",nativeEnum:x,async:!1,_parse:(R,W)=>Object.values(x).includes(R)?{output:R}:Bi(W,"type","native_enum",w||"Invalid type",R)}}(vc),ua=Hi({autoplay:w1(v2()),defaultTheme:w1(zi()),direction:w1(Tr([wr(1),wr(-1)])),hover:w1(v2()),id:zi(),intermission:w1(Is()),loop:w1(Tr([v2(),Is()])),playMode:w1(Va),speed:w1(Is()),themeColor:w1(zi())}),k0=Hi({animations:$s(zi()),id:zi()}),F0=Hi({activeAnimationId:w1(zi()),animations:$s(ua),author:w1(zi()),custom:w1(function bs(x,w,R,W){let[Y,ie,Ae,$e]=function nr(x,w,R,W){if("object"==typeof w&&!Array.isArray(w)){let[Ae,$e]=Ls(R,W);return[x,w,Ae,$e]}let[Y,ie]=Ls(w,R);return[zi(),x,Y,ie]}(x,w,R,W);return{schema:"record",record:{key:Y,value:ie},async:!1,_parse(Be,nt){if(!Be||"object"!=typeof Be)return Bi(nt,"type","record",Ae||"Invalid type",Be);let Ct,tt={};for(let[gt,un]of Object.entries(Be))if(!Qr.includes(gt)){let Kn,Kt=Y._parse(gt,{origin:"key",abortEarly:nt?.abortEarly,abortPipeEarly:nt?.abortPipeEarly});if(Kt.issues){Kn={schema:"record",input:Be,key:gt,value:un};for(let jn of Kt.issues)jn.path=[Kn],Ct?.push(jn);if(Ct||(Ct=Kt.issues),null!=nt&&nt.abortEarly)break}let On=ie._parse(un,nt);if(On.issues){Kn=Kn||{schema:"record",input:Be,key:gt,value:un};for(let jn of On.issues)jn.path?jn.path.unshift(Kn):jn.path=[Kn],Ct?.push(jn);if(Ct||(Ct=On.issues),null!=nt&&nt.abortEarly)break}!Kt.issues&&!On.issues&&(tt[Kt.output]=On.output)}return Ct?{issues:Ct}:ps(tt,$e,nt,"record")}}}(zi(),function Er(x=[]){return{schema:"any",async:!1,_parse:(w,R)=>ps(w,x,R,"any")}}())),description:w1(zi()),generator:w1(zi()),keywords:w1(zi()),revision:w1(Is()),themes:w1($s(k0)),states:w1($s(zi())),version:w1(zi())}),hn=function ir(x,w,R,W){let[Y,ie]=Ls(R,W);return Hi(Object.entries(x.object).reduce((Ae,[$e,Be])=>w.includes($e)?Ae:{...Ae,[$e]:Be},{}),Y,ie)}(ua,["id"]),ye=Hi({state:zi()}),ce=ye,Ue=M2([ye,Hi({ms:Is()})]),Lt=M2([ye,Hi({count:Is()})]),Hn=ye,Jn=ye,_1=ye,Ci=M2([ye,Hi({threshold:w1($s(Is([Z1(0),ka(1)])))})]),Pi=Hi({onAfter:w1(Ue),onClick:w1(ce),onComplete:w1(_1),onEnter:w1(Lt),onMouseEnter:w1(Hn),onMouseLeave:w1(Jn),onShow:w1(Ci)}),V1=M2([hn,Hi({playOnScroll:w1(Jr([Is([Z1(0),ka(1)]),Is([Z1(0),ka(1)])])),segments:w1(Tr([Jr([Is(),Is()]),zi()]))})]);M2([Pi,Hi({animationId:w1(zi()),playbackSettings:V1})]);var Mc={jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",svg:"image/svg+xml",webp:"image/webp",mpeg:"audio/mpeg",mp3:"audio/mp3"},ii={jpeg:[255,216,255],png:[137,80,78,71,13,10,26,10],gif:[71,73,70],bmp:[66,77],webp:[82,73,70,70,87,69,66,80],svg:[60,63,120],mp3:[73,68,51,3,0,0,0,0],mpeg:[73,68,51,3,0,0,0,0]},Y8=x=>{let w=null,R=[];if(!x)return null;let W=x.substring(x.indexOf(",")+1);w=typeof window>"u"?Buffer.from(W,"base64").toString("binary"):atob(W);let Y=new Uint8Array(w.length);for(let ie=0;ie<w.length;ie+=1)Y[ie]=w.charCodeAt(ie);R=Array.from(Y.subarray(0,8));for(let ie in ii){let Ae=ii[ie];if(Ae&&R.every(($e,Be)=>$e===Ae[Be]))return Mc[ie]}return null},Cc=class extends Error{constructor(x,w){super(x),((x,w,R)=>{((x,w,R)=>{w in x?J(x,w,{enumerable:!0,configurable:!0,writable:!0,value:R}):x[w]=R})(x,"symbol"!=typeof w?w+"":w,R)})(this,"code"),this.name="[dotlottie-js]",this.code=w}};function Z8(x){let w;if(typeof window>"u")w=Buffer.from(x).toString("base64");else{let R=Array.prototype.map.call(x,W=>String.fromCharCode(W)).join("");w=window.btoa(R)}return`data:${Y8(w)};base64,${w}`}function bc(x){return"w"in x&&"h"in x&&!("xt"in x)&&"p"in x}function M3(x){return!("h"in x)&&!("w"in x)&&"p"in x&&"e"in x&&"u"in x&&"id"in x}function C3(x){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,H.A)(function*(x,w=()=>!0){if(!(x instanceof Uint8Array))throw new Cc("DotLottie not found","INVALID_DOTLOTTIE");return yield new Promise((R,W)=>{!function y3(x,w,R){R||(R=w,w={}),"function"!=typeof R&&f1(7);var W=[],Y=function(){for(var On=0;On<W.length;++On)W[On]()},ie={},Ae=function(On,jn){Ii(function(){R(On,jn)})};Ii(function(){Ae=R});for(var $e=x.length-22;101010256!=Pn(x,$e);--$e)if(!$e||x.length-$e>65558)return Ae(f1(13,0,1),null),Y;var Be=ct(x,$e+8);if(Be){var nt=Be,Ct=Pn(x,$e+16),tt=4294967295==Ct||65535==nt;if(tt){var gt=Pn(x,$e-12);(tt=101075792==Pn(x,gt))&&(nt=Be=Pn(x,gt+32),Ct=Pn(x,gt+48))}for(var un=w&&w.filter,Kn=function(On){var jn=Cs(x,Ct,tt),si=jn[0],W1=jn[1],Zi=jn[2],xs=jn[3],r2=jn[4],gi=Ui(x,jn[5]);Ct=r2;var Ws=function(zs,o2){zs?(Y(),Ae(zs,null)):(o2&&(ie[xs]=o2),--Be||Ae(null,ie))};if(!un||un({name:xs,size:W1,originalSize:Zi,compression:si}))if(si)if(8==si){var Ar=x.subarray(gi,gi+W1);if(W1<32e4)try{Ws(null,mn(Ar,{out:new se(Zi)}))}catch(zs){Ws(zs,null)}else W.push(function fn(x,w,R){return R||(R=w,w={}),"function"!=typeof R&&f1(7),be(x,w,[Te],function(W){return Ie(mn(W.data[0],Ze(W.data[1])))},1,R)}(Ar,{size:Zi},Ws))}else Ws(f1(14,"unknown compression type "+si,1),null);else Ws(null,Oe(x,gi,gi+W1));else Ws(null,null)},Kt=0;Kt<nt;++Kt)Kn()}else Ae(null,{});return Y}(x,{filter:w},(Y,ie)=>{Y&&W(Y),R(ie)})})}),Cl.apply(this,arguments)}function V0(x,w,R){return Q8.apply(this,arguments)}function Q8(){return Q8=(0,H.A)(function*(x,w,R){if(!(x instanceof Uint8Array))throw new Cc("DotLottie not found","INVALID_DOTLOTTIE");return(yield C3(x,W=>W.name===w&&(!R||R(W))))[w]}),Q8.apply(this,arguments)}function J8(x){return U0.apply(this,arguments)}function U0(){return U0=(0,H.A)(function*(x){let w="manifest.json",R=(yield C3(x,W=>W.name===w))[w];if(!(typeof R>"u"))return JSON.parse(Rn(R,!1))}),U0.apply(this,arguments)}function B0(){return B0=(0,H.A)(function*(x){if(!(x instanceof Uint8Array))return{success:!1,error:"DotLottie not found"};let w=yield J8(x);if(typeof w>"u")return{success:!1,error:"Invalid .lottie file, manifest.json is missing"};let R=function yc(x,w,R){let W=x._parse(w,R);return W.issues?{success:!1,error:new aa(W.issues),issues:W.issues}:{success:!0,data:W.output,output:W.output}}(F0,w);return R.success?{success:!0}:{success:!1,error:`Invalid .lottie file, manifest.json structure is invalid, ${JSON.stringify(Co(R.error).nested,null,2)}`}}),B0.apply(this,arguments)}function b3(x){return x3.apply(this,arguments)}function x3(){return x3=(0,H.A)(function*(x){let w=new Uint8Array(x),R=yield function e5(x){return B0.apply(this,arguments)}(w);if(R.error)throw new Cc(R.error,"INVALID_DOTLOTTIE");return w}),x3.apply(this,arguments)}function E3(){return E3=(0,H.A)(function*(x,w){let R=yield C3(x,Y=>{let ie=Y.name.replace("audio/","");return Y.name.startsWith("audio/")&&(!w||w({...Y,name:ie}))}),W={};for(let Y in R){let ie=R[Y];ie instanceof Uint8Array&&(W[Y.replace("audio/","")]=Z8(ie))}return W}),E3.apply(this,arguments)}function bl(){return bl=(0,H.A)(function*(x,w){var R;let W=new Map;for(let[ie,Ae]of Object.entries(w))for(let $e of Ae.assets||[])if(M3($e)){let Be=$e.p;W.has(Be)||W.set(Be,new Set),null==(R=W.get(Be))||R.add(ie)}let Y=yield function Z7(x,w){return E3.apply(this,arguments)}(x,ie=>W.has(ie.name));for(let[ie,Ae]of W){let $e=Y[ie];if($e)for(let Be of Ae){let nt=w[Be];for(let Ct of nt?.assets||[])M3(Ct)&&Ct.p===ie&&(Ct.p=$e,Ct.u="",Ct.e=1)}}}),bl.apply(this,arguments)}function H0(){return H0=(0,H.A)(function*(x,w){let R=yield C3(x,Y=>{let ie=Y.name.replace("images/","");return Y.name.startsWith("images/")&&(!w||w({...Y,name:ie}))}),W={};for(let Y in R){let ie=R[Y];ie instanceof Uint8Array&&(W[Y.replace("images/","")]=Z8(ie))}return W}),H0.apply(this,arguments)}function j0(){return j0=(0,H.A)(function*(x,w){var R;let W=new Map;for(let[ie,Ae]of Object.entries(w))for(let $e of Ae.assets||[])if(bc($e)){let Be=$e.p;W.has(Be)||W.set(Be,new Set),null==(R=W.get(Be))||R.add(ie)}let Y=yield function t5(x,w){return H0.apply(this,arguments)}(x,ie=>W.has(ie.name));for(let[ie,Ae]of W){let $e=Y[ie];if($e)for(let Be of Ae){let nt=w[Be];for(let Ct of nt?.assets||[])bc(Ct)&&Ct.p===ie&&(Ct.p=$e,Ct.u="",Ct.e=1)}}}),j0.apply(this,arguments)}function da(){return da=(0,H.A)(function*(x,w,{inlineAssets:R}={},W){let Y=`animations/${w}.json`,ie=yield V0(x,Y,W);if(typeof ie>"u")return;let Ae=JSON.parse(Rn(ie,!1));if(!R)return Ae;let $e={[w]:Ae};return yield function Um(x,w){return j0.apply(this,arguments)}(x,$e),yield function Vm(x,w){return bl.apply(this,arguments)}(x,$e),Ae}),da.apply(this,arguments)}function xc(){return xc=(0,H.A)(function*(x,w,R){let W=`themes/${w}.json`,Y=yield V0(x,W,R);if(!(typeof Y>"u"))return JSON.parse(Rn(Y,!1))}),xc.apply(this,arguments)}function w3(){return w3=(0,H.A)(function*(x,w){let R={},W=yield C3(x,Y=>{let ie=Y.name.replace("states/","").replace(".json","");return Y.name.startsWith("states/")&&(!w||w({...Y,name:ie}))});for(let Y in W){let ie=W[Y];ie instanceof Uint8Array&&(R[Y.replace("states/","").replace(".json","")]=Rn(ie,!1))}return R}),w3.apply(this,arguments)}function T3(){return T3=(0,H.A)(function*(x,w,R){let W=`states/${w}.json`,Y=yield V0(x,W,R);return typeof Y>"u"?void 0:JSON.parse(Rn(Y,!1))}),T3.apply(this,arguments)}function $1(x,w="dotLottie-common"){return new Error(`[${w}]: ${x}`)}function bo(x,w="dotLottie-common",...R){console.error(`[${w}]:`,x,...R)}function ji(x,w="dotLottie-common",...R){console.warn(`[${w}]:`,x,...R)}function Ec(x){return["v","ip","op","layers","fr","w","h"].every(w=>Object.prototype.hasOwnProperty.call(x,w))}function G0(x,w){let R=Object.keys(x).find(W=>x[W]===w);if(void 0===R)throw new Error("Value not found in the object.");return R}function wc(x){return JSON.parse(JSON.stringify(x))}((x,w,R)=>{R=null!=x?la(Ee(x)):{},((x,w,R,W)=>{if(w&&"object"==typeof w||"function"==typeof w)for(let Y of ne(w))!pe.call(x,Y)&&undefined!==Y&&J(x,Y,{get:()=>w[Y],enumerable:!(W=Q(w,Y))||W.enumerable})})(x&&x.__esModule?R:J(R,"default",{value:x,enumerable:!0}),x)})(Fa());var $0=class{_dotLottie;_animationsMap=new Map;_themeMap=new Map;_stateMachinesMap=new Map;_manifest;get dotLottie(){return this._dotLottie}get animationsMap(){return this._animationsMap}get themeMap(){return this._themeMap}get stateMachinesMap(){return this._stateMachinesMap}get manifest(){return this._manifest}loadFromUrl(x){var w=this;return(0,H.A)(function*(){let R=yield fetch(x,{method:"GET",mode:"cors"});if(!R.ok)throw new Error(`Failed to load dotLottie from ${x} with status ${R.status}`);let W=R.headers.get("content-type");if(null!=W&&W.includes("application/json")){let Y=yield R.json();if(!Ec(Y))throw new Error(`Invalid lottie JSON at ${x}`);let ie=function El(x=""){let w=x.trim(),R=w.lastIndexOf("/"),W=w.substring(R+1),Y=W.indexOf(".");return-1!==Y?W.substring(0,Y):W}(x);w._animationsMap.set(ie,Y),w._manifest={activeAnimationId:ie,animations:[{id:ie}]}}else{w._dotLottie=yield b3(yield R.arrayBuffer());let Y=yield J8(w._dotLottie);if(!Y)throw new Error("Manifest not found");w._manifest=Y}})()}loadFromLottieJSON(x){if(!Ec(x))throw new Error("Invalid lottie JSON");let w="my-animation";this._animationsMap.set(w,x),this._manifest={activeAnimationId:w,animations:[{id:w}]}}loadFromArrayBuffer(x){var w=this;return(0,H.A)(function*(){w._dotLottie=yield b3(x);let R=yield J8(w._dotLottie);if(!R)throw new Error("Manifest not found");w._manifest=R})()}getAnimation(x){var w=this;return(0,H.A)(function*(){if(w._animationsMap.get(x))return w._animationsMap.get(x);if(!w._dotLottie)return;let R=yield function Q7(x,w){return da.apply(this,arguments)}(w._dotLottie,x,{inlineAssets:!0});return R&&w._animationsMap.set(x,R),R})()}getTheme(x){var w=this;return(0,H.A)(function*(){if(w._themeMap.get(x))return w._themeMap.get(x);if(!w._dotLottie)return;let R=yield function xl(x,w,R){return xc.apply(this,arguments)}(w._dotLottie,x);return R&&w._themeMap.set(x,R),R})()}getStateMachines(){var x=this;return(0,H.A)(function*(){if(!x._dotLottie)return;let w=yield function n5(x,w){return w3.apply(this,arguments)}(x._dotLottie);for(let R in w)if(R){let W=w[R];if(W){let Y=JSON.parse(W);if(Y){let ie=Y.descriptor.id;x._stateMachinesMap.get(ie)||x._stateMachinesMap.set(ie,Y)}}}return Array.from(x._stateMachinesMap.values())})()}getStateMachine(x){var w=this;return(0,H.A)(function*(){if(w._stateMachinesMap.get(x))return w._stateMachinesMap.get(x);if(!w._dotLottie)return;let R=yield function J7(x,w,R){return T3.apply(this,arguments)}(w._dotLottie,x);return R&&w._stateMachinesMap.set(R.descriptor.id,R),R})()}};function S3(){throw new Error("Cycle detected")}function Tc(){if(Sc>1)Sc--;else{for(var x,w=!1;void 0!==Ua;){var R=Ua;for(Ua=void 0,A3++;void 0!==R;){var W=R.o;if(R.o=void 0,R.f&=-3,!(8&R.f)&&Ha(R))try{R.c()}catch(Y){w||(x=Y,w=!0)}R=W}}if(A3=0,Sc--,w)throw x}}var Ni=void 0,Ua=void 0,Sc=0,A3=0,Ba=0;function L3(x){if(void 0!==Ni){var w=x.n;if(void 0===w||w.t!==Ni)return w={i:0,S:x,p:Ni.s,n:void 0,t:Ni,e:void 0,x:void 0,r:w},void 0!==Ni.s&&(Ni.s.n=w),Ni.s=w,x.n=w,32&Ni.f&&x.S(w),w;if(-1===w.i)return w.i=0,void 0!==w.n&&(w.n.p=w.p,void 0!==w.p&&(w.p.n=w.n),w.p=Ni.s,w.n=void 0,Ni.s.n=w,Ni.s=w),w}}function as(x){this.v=x,this.i=0,this.n=void 0,this.t=void 0}function Ha(x){for(var w=x.s;void 0!==w;w=w.n)if(w.S.i!==w.i||!w.S.h()||w.S.i!==w.i)return!0;return!1}function i5(x){for(var w=x.s;void 0!==w;w=w.n){var R=w.S.n;if(void 0!==R&&(w.r=R),w.S.n=w,w.i=-1,void 0===w.n){x.s=w;break}}}function Sr(x){for(var w=x.s,R=void 0;void 0!==w;){var W=w.p;-1===w.i?(w.S.U(w),void 0!==W&&(W.n=w.n),void 0!==w.n&&(w.n.p=W)):R=w,w.S.n=w.r,void 0!==w.r&&(w.r=void 0),w=W}x.s=R}function Ac(x){as.call(this,void 0),this.x=x,this.s=void 0,this.g=Ba-1,this.f=4}function Tl(x){var w=x.u;if(x.u=void 0,"function"==typeof w){Sc++;var R=Ni;Ni=void 0;try{w()}catch(W){throw x.f&=-2,x.f|=8,W0(x),W}finally{Ni=R,Tc()}}}function W0(x){for(var w=x.s;void 0!==w;w=w.n)w.S.U(w);x.x=void 0,x.s=void 0,Tl(x)}function q0(x){if(Ni!==this)throw new Error("Out-of-order effect");Sr(this),Ni=x,this.f&=-2,8&this.f&&W0(this),Tc()}function I3(x){this.x=x,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}as.prototype.h=function(){return!0},as.prototype.S=function(x){this.t!==x&&void 0===x.e&&(x.x=this.t,void 0!==this.t&&(this.t.e=x),this.t=x)},as.prototype.U=function(x){if(void 0!==this.t){var w=x.e,R=x.x;void 0!==w&&(w.x=R,x.e=void 0),void 0!==R&&(R.e=w,x.x=void 0),x===this.t&&(this.t=R)}},as.prototype.subscribe=function(x){var w=this;return function Sl(x){var w=new I3(x);try{w.c()}catch(R){throw w.d(),R}return w.d.bind(w)}(function(){var R=w.value,W=32&this.f;this.f&=-33;try{x(R)}finally{this.f|=W}})},as.prototype.valueOf=function(){return this.value},as.prototype.toString=function(){return this.value+""},as.prototype.toJSON=function(){return this.value},as.prototype.peek=function(){return this.v},Object.defineProperty(as.prototype,"value",{get:function(){var x=L3(this);return void 0!==x&&(x.i=this.i),this.v},set:function(x){if(Ni instanceof Ac&&function(){throw new Error("Computed cannot have side-effects")}(),x!==this.v){A3>100&&S3(),this.v=x,this.i++,Ba++,Sc++;try{for(var w=this.t;void 0!==w;w=w.x)w.t.N()}finally{Tc()}}}}),(Ac.prototype=new as).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===Ba))return!0;if(this.g=Ba,this.f|=1,this.i>0&&!Ha(this))return this.f&=-2,!0;var x=Ni;try{i5(this),Ni=this;var w=this.x();(16&this.f||this.v!==w||0===this.i)&&(this.v=w,this.f&=-17,this.i++)}catch(R){this.v=R,this.f|=16,this.i++}return Ni=x,Sr(this),this.f&=-2,!0},Ac.prototype.S=function(x){if(void 0===this.t){this.f|=36;for(var w=this.s;void 0!==w;w=w.n)w.S.S(w)}as.prototype.S.call(this,x)},Ac.prototype.U=function(x){if(void 0!==this.t&&(as.prototype.U.call(this,x),void 0===this.t)){this.f&=-33;for(var w=this.s;void 0!==w;w=w.n)w.S.U(w)}},Ac.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var x=this.t;void 0!==x;x=x.x)x.t.N()}},Ac.prototype.peek=function(){if(this.h()||S3(),16&this.f)throw this.v;return this.v},Object.defineProperty(Ac.prototype,"value",{get:function(){1&this.f&&S3();var x=L3(this);if(this.h(),void 0!==x&&(x.i=this.i),16&this.f)throw this.v;return this.v}}),I3.prototype.c=function(){var x=this.S();try{if(8&this.f||void 0===this.x)return;var w=this.x();"function"==typeof w&&(this.u=w)}finally{x()}},I3.prototype.S=function(){1&this.f&&S3(),this.f|=1,this.f&=-9,Tl(this),i5(this),Sc++;var x=Ni;return Ni=this,q0.bind(this,x)},I3.prototype.N=function(){2&this.f||(this.f|=2,this.o=Ua,Ua=this)},I3.prototype.d=function(){this.f|=8,1&this.f||W0(this)};var Bm=class{_state;_prevState;constructor(x){this._prevState=x,this._state=function ha(x){return new as(x)}(x)}setState(x){this._prevState=this._state.value,this._state.value=x}subscribe(x){return this._state.subscribe(w=>x(w,this._prevState))}};function z3(){return z3=(0,H.A)(function*(x,w){let[{DotLottieStateMachineManager:R}]=yield Promise.all([Ve.e(773).then(Ve.bind(Ve,773))]);if(!x.length)throw $1("No state machines available inside this .lottie!");return new R(x,w)}),z3.apply(this,arguments)}var ja_dependencies_lottie_web="^5.12.2",s5=(x=>(x.Complete="complete",x.DataFail="data_fail",x.DataReady="data_ready",x.Error="error",x.Frame="frame",x.Freeze="freeze",x.LoopComplete="loopComplete",x.Pause="pause",x.Play="play",x.Ready="ready",x.Stop="stop",x.VisibilityChange="visibilityChange",x))(s5||{}),r5=(x=>(x.Completed="completed",x.Error="error",x.Fetching="fetching",x.Frozen="frozen",x.Initial="initial",x.Loading="loading",x.Paused="paused",x.Playing="playing",x.Ready="ready",x.Stopped="stopped",x))(r5||{}),pa=(x=>(x.Bounce="bounce",x.Normal="normal",x))(pa||{}),sr={autoplay:!1,direction:1,hover:!1,intermission:0,loop:!1,playMode:"normal",speed:1,defaultTheme:""},Ll={activeStateId:"",autoplay:!1,currentState:"initial",frame:0,seeker:0,direction:1,hover:!1,loop:!1,playMode:"normal",speed:1,background:"transparent",intermission:0,currentAnimationId:void 0,visibilityPercentage:0},xo=class{_lottie;_src;_animationConfig;_prevUserPlaybackOptions={};_userPlaybackOptions;_hover=!1;_loop=!1;_counter=0;_intermission=0;_counterInterval=null;_container=null;_name;_mode="normal";_background="transparent";_animation;_defaultTheme;_activeAnimationId;_currentAnimationId;_testId;_listeners=new Map;_currentState="initial";_stateBeforeFreeze="initial";state=new Bm(Ll);_light=!1;_worker=!1;_dotLottieLoader=new $0;_activeStateId;_inInteractiveMode=!1;_scrollTicking=!1;_scrollCallback=void 0;_onShowIntersectionObserver=void 0;_visibilityPercentage=0;_audios=[];_stateMachineManager;constructor(x,w,R){this._src="string"==typeof x?x:wc(x),null!=R&&R.testId&&(this._testId=R.testId),this._defaultTheme=R?.defaultTheme||"",this._userPlaybackOptions=this._validatePlaybackOptions(R||{}),"string"==typeof R?.activeAnimationId&&(this._activeAnimationId=R.activeAnimationId),this._container=w||null,"string"==typeof R?.background&&this.setBackground(R.background),typeof R?.activeStateId<"u"&&(this._activeStateId=R.activeStateId);let{rendererSettings:W,...Y}=R||{};this._animationConfig={loop:!1,autoplay:!1,renderer:"svg",rendererSettings:{clearCanvas:!0,progressiveLoad:!0,hideOnTransparent:!0,filterSize:{width:"200%",height:"200%",x:"-50%",y:"-50%"},...W},...Y},null!=R&&R.light&&(this._light=R.light),null!=R&&R.worker&&(this._worker=R.worker),this._listenToHover(),this._listenToVisibilityChange()}_listenToHover(){var x,w,R,W;let Y=()=>{this._hover&&"playing"!==this.currentState&&this.play()},ie=()=>{this._hover&&"playing"===this.currentState&&this.stop()};null==(x=this._container)||x.removeEventListener("mouseenter",Y),null==(w=this._container)||w.removeEventListener("mouseleave",ie),null==(R=this._container)||R.addEventListener("mouseleave",ie),null==(W=this._container)||W.addEventListener("mouseenter",Y)}_onVisibilityChange(){!this._lottie||typeof document>"u"||(document.hidden&&"playing"===this.currentState?this.freeze():"frozen"===this.currentState&&this.unfreeze())}_listenToVisibilityChange(){typeof document<"u"&&typeof document.hidden<"u"&&document.addEventListener("visibilitychange",()=>this._onVisibilityChange())}_getOption(x){var w;if(typeof this._userPlaybackOptions[x]<"u")return this._userPlaybackOptions[x];let R=null==(w=this._dotLottieLoader.manifest)?void 0:w.animations.find(W=>W.id===this._currentAnimationId);return R&&typeof R[x]<"u"?R[x]:sr[x]}_getPlaybackOptions(){let x={};for(let w in sr)typeof sr[w]<"u"&&(x[w]=this._getOption(w));return x}_setPlayerState(x){var w,R,W;let Y=x(this._getPlaybackOptions());try{hn._parse(Y)}catch{return void ji(`Invalid PlaybackOptions, ${JSON.stringify(Y,null,2)}`)}typeof Y.defaultTheme<"u"&&(this._defaultTheme=Y.defaultTheme),typeof Y.playMode<"u"&&(this._mode=Y.playMode),typeof Y.intermission<"u"&&(this._intermission=Y.intermission),typeof Y.hover<"u"&&(this._hover=Y.hover),typeof Y.loop<"u"&&(this.clearCountTimer(),this._loop=Y.loop,this._counter=0,null==(w=this._lottie)||w.setLoop("number"==typeof Y.loop||Y.loop)),typeof Y.speed<"u"&&(null==(R=this._lottie)||R.setSpeed(Y.speed)),typeof Y.autoplay<"u"&&this._lottie&&(this._lottie.autoplay=Y.autoplay),typeof Y.direction<"u"&&(null==(W=this._lottie)||W.setDirection(Y.direction))}_getOptionsFromAnimation(x){let{id:w,...R}=x;return{...sr,...R}}_updateTestData(){!this._testId||!this._lottie||(window.dotLottiePlayer||(window.dotLottiePlayer={[this._testId]:{}}),window.dotLottiePlayer[this._testId]={direction:this._lottie.playDirection,currentState:this._currentState,loop:this.loop,mode:this._mode,speed:this._lottie.playSpeed})}setContainer(x){x!==this._container&&(this._container=x,this.setBackground(this._background),this._listenToHover())}get currentState(){return this._currentState}clearCountTimer(){this._counterInterval&&clearInterval(this._counterInterval)}setCurrentState(x){this._currentState=x,this._notify(),this._updateTestData()}static isPathJSON(x){var w;return"json"===(null==(w=x.split(".").pop())?void 0:w.toLowerCase())}get src(){return this._src}updateSrc(x){this._src!==x&&(this._src="string"==typeof x?x:wc(x),this._activeAnimationId=void 0,this._currentAnimationId=void 0,this.load())}get intermission(){return this._intermission}get hover(){return this._hover}setHover(x){"boolean"==typeof x&&(this._hover=x,this._userPlaybackOptions.hover=x,this._notify())}setIntermission(x){this._intermission=x,this._userPlaybackOptions.intermission=x,this._notify()}get mode(){return this._mode}get animations(){return this._dotLottieLoader.animationsMap}get themes(){return this._dotLottieLoader.themeMap}setMode(x){"string"==typeof x&&(this._mode=x,this._userPlaybackOptions.playMode=x,this._setPlayerState(()=>({playMode:x})),this._notify(),this._updateTestData())}get container(){if(this._container)return this._container}goToAndPlay(x,w,R){this._lottie&&!["loading"].includes(this._currentState)?(this._lottie.goToAndPlay(x,w,R),this.setCurrentState("playing")):ji("goToAndPlay() Can't use whilst loading.")}goToAndStop(x,w,R){this._lottie&&!["loading"].includes(this._currentState)?(this._lottie.goToAndStop(x,w,R),this.setCurrentState("stopped")):ji("goToAndStop() Can't use whilst loading.")}seek(x){if(!this._lottie||["loading"].includes(this._currentState))return void ji("seek() Can't use whilst loading.");let w=x;"number"==typeof w&&(w=Math.round(w));let R=/^(\d+)(%?)$/u.exec(w.toString());if(!R)return;let W="%"===R[2]?this.totalFrames*Number(R[1])/100:R[1];void 0!==W&&(this._lottie.goToAndPlay(W,!0),"playing"===this.currentState?this.play():"frozen"===this.currentState?this.freeze():this.pause())}_areNumbersInRange(x,w){return x>=0&&x<=1&&w>=0&&w<=1}_updatePosition(x,w,R){let[W,Y]=x??[0,this.totalFrames-1],[ie,Ae]=w??[0,1];if(this._areNumbersInRange(ie,Ae)){if(this.container){let{height:$e,top:Be}=this.container.getBoundingClientRect(),tt=(window.innerHeight-Be)/(window.innerHeight+$e),gt=W+Math.round((tt-ie)/(Ae-ie)*(Y-W));R&&R(tt),this.goToAndStop(gt,!0),(gt>=Y||tt>=Ae)&&this._handleAnimationComplete()}this._scrollTicking=!1}else bo("threshold values must be between 0 and 1")}_requestTick(x,w,R){this._scrollTicking||(requestAnimationFrame(()=>this._updatePosition(x,w,R)),this._scrollTicking=!0)}playOnScroll(x){this.stop(),this._scrollCallback&&this.stopPlayOnScroll(),this._scrollCallback=()=>this._requestTick(x?.segments,x?.threshold,x?.positionCallback),window.addEventListener("scroll",this._scrollCallback)}stopPlayOnScroll(){this._scrollCallback&&(window.removeEventListener("scroll",this._scrollCallback),this._scrollCallback=void 0)}stopPlayOnShow(){this._onShowIntersectionObserver&&(this._onShowIntersectionObserver.disconnect(),this._onShowIntersectionObserver=void 0)}addIntersectionObserver(x){if(!this.container)throw $1("Can't play on show, player container element not available.");this._onShowIntersectionObserver=new IntersectionObserver(W=>{W.forEach(Y=>{var ie,Ae;this._visibilityPercentage=100*Y.intersectionRatio,Y.isIntersecting?(null!=x&&x.callbackOnIntersect&&x.callbackOnIntersect(this._visibilityPercentage),null==(ie=this._container)||ie.dispatchEvent(new Event("visibilityChange"))):null!=x&&x.callbackOnIntersect&&(x.callbackOnIntersect(0),null==(Ae=this._container)||Ae.dispatchEvent(new Event("visibilityChange")))})},{root:null,rootMargin:"0px",threshold:null!=x&&x.threshold?x.threshold:[0,1]}),this._onShowIntersectionObserver.observe(this.container)}playOnShow(x){var w;if(this.stop(),!this.container)throw $1("Can't play on show, player container element not available.");this._onShowIntersectionObserver&&this.stopPlayOnShow(),this.addIntersectionObserver({threshold:null!=(w=x?.threshold)?w:[],callbackOnIntersect:R=>{0===R?this.pause():this.play()}})}_validatePlaybackOptions(x){if(!x)return{};let w={};for(let[R,W]of Object.entries(x))switch(R){case"autoplay":"boolean"==typeof W&&(w.autoplay=W);break;case"direction":"number"==typeof W&&[1,-1].includes(W)&&(w.direction=W);break;case"loop":("boolean"==typeof W||"number"==typeof W)&&(w.loop=W);break;case"playMode":"string"==typeof W&&["normal","bounce"].includes(W)&&(w.playMode=W);break;case"speed":"number"==typeof W&&(w.speed=W);break;case"themeColor":"string"==typeof W&&(w.themeColor=W);break;case"hover":"boolean"==typeof W&&(w.hover=W);break;case"intermission":"number"==typeof W&&(w.intermission=W);break;case"defaultTheme":"string"==typeof W&&(w.defaultTheme=W)}return this._requireValidPlaybackOptions(w),w}_requireAnimationsInTheManifest(){var x;if(null==(x=this._dotLottieLoader.manifest)||!x.animations.length)throw $1("No animations found in manifest.")}_requireAnimationsToBeLoaded(){if(0===this._dotLottieLoader.animationsMap.size)throw $1("No animations have been loaded.")}play(x,w){var R=this;return(0,H.A)(function*(){var W,Y;if(["initial","loading"].includes(R._currentState))ji("Player unable to play whilst loading.");else{if(R._requireAnimationsInTheManifest(),R._requireAnimationsToBeLoaded(),R._lottie&&!x)return-1===R._lottie.playDirection&&0===R._lottie.currentFrame?R._lottie.goToAndPlay(R._lottie.totalFrames,!0):R._lottie.play(),void R.setCurrentState("playing");if("number"==typeof x){let ie=null==(W=R._dotLottieLoader.manifest)?void 0:W.animations[x];if(!ie)throw $1("animation not found.");"function"==typeof w?yield R.render({id:ie.id,...w(R._getPlaybackOptions(),R._getOptionsFromAnimation(ie))}):yield R.render({id:ie.id})}if("string"==typeof x){let ie=null==(Y=R._dotLottieLoader.manifest)?void 0:Y.animations.find(Ae=>Ae.id===x);if(!ie)throw $1("animation not found.");"function"==typeof w?yield R.render({id:ie.id,...w(R._getPlaybackOptions(),R._getOptionsFromAnimation(ie))}):yield R.render({id:ie.id})}}})()}playSegments(x,w){this._lottie&&!["loading"].includes(this._currentState)?(this._lottie.playSegments(x,w),this.setCurrentState("playing")):ji("playSegments() Can't use whilst loading.")}resetSegments(x){this._lottie&&!["loading"].includes(this._currentState)?this._lottie.resetSegments(x):ji("resetSegments() Can't use whilst loading.")}togglePlay(){"playing"===this.currentState?this.pause():this.play()}_getAnimationByIdOrIndex(x){var w,R;if(this._requireAnimationsInTheManifest(),this._requireAnimationsToBeLoaded(),"number"==typeof x){let W=null==(w=this._dotLottieLoader.manifest)?void 0:w.animations[x];if(!W)throw $1("animation not found.");return W}if("string"==typeof x){let W=null==(R=this._dotLottieLoader.manifest)?void 0:R.animations.find(Y=>Y.id===x);if(!W)throw $1("animation not found.");return W}throw $1("first param must be a number or string")}get activeAnimationId(){return this._getActiveAnimationId()}get currentAnimationId(){return this._currentAnimationId}get activeStateId(){return this._activeStateId}_startInteractivity(x){var w=this;return(0,H.A)(function*(){if(w._inInteractiveMode){if(0===w._dotLottieLoader.stateMachinesMap.size&&(yield w._dotLottieLoader.getStateMachines()),0===w._dotLottieLoader.stateMachinesMap.size)throw $1("No interactivity states are available.");if("undefined"===x)throw $1("stateId is not specified.");w._stateMachineManager||(w._stateMachineManager=yield function Al(x,w){return z3.apply(this,arguments)}(Array.from(w._dotLottieLoader.stateMachinesMap.values()),w)),w._stateMachineManager.start(x)}else bo("Can't start interactivity. Not in interactive mode. Call enterInteractiveMode(stateId: string) to start.")})()}enterInteractiveMode(x){var w;if(!x)throw $1("stateId must be a non-empty string.");this._inInteractiveMode||(this._prevUserPlaybackOptions={...this._userPlaybackOptions}),this._inInteractiveMode&&(null==(w=this._stateMachineManager)||w.stop()),this._activeStateId=x,this._inInteractiveMode=!0,this._startInteractivity(x)}exitInteractiveMode(){var x;this._inInteractiveMode&&(this._inInteractiveMode=!1,this._activeStateId="",null==(x=this._stateMachineManager)||x.stop(),this._userPlaybackOptions={},this._userPlaybackOptions={...this._prevUserPlaybackOptions},this._prevUserPlaybackOptions={},this.reset())}reset(){var x;let w=this._getActiveAnimationId(),R=null==(x=this._dotLottieLoader.manifest)?void 0:x.animations.find(W=>W.id===w);if(this._inInteractiveMode&&this.exitInteractiveMode(),!R)throw $1("animation not found.");this.play(w)}previous(x){if(!this._dotLottieLoader.manifest||!this._dotLottieLoader.manifest.animations.length)throw $1("manifest not found.");if(this._inInteractiveMode)return void ji("previous() is not supported in interactive mode.");let w=this._dotLottieLoader.manifest.animations.findIndex(W=>W.id===this._currentAnimationId);if(-1===w)throw $1("animation not found.");let R=this._dotLottieLoader.manifest.animations[(w-1+this._dotLottieLoader.manifest.animations.length)%this._dotLottieLoader.manifest.animations.length];if(!R||!R.id)throw $1("animation not found.");this.render("function"==typeof x?{id:R.id,...x(this._getPlaybackOptions(),this._getOptionsFromAnimation(R))}:{id:R.id})}next(x){if(!this._dotLottieLoader.manifest||!this._dotLottieLoader.manifest.animations.length)throw $1("manifest not found.");if(this._inInteractiveMode)return void ji("next() is not supported in interactive mode.");let w=this._dotLottieLoader.manifest.animations.findIndex(W=>W.id===this._currentAnimationId);if(-1===w)throw $1("animation not found.");let R=this._dotLottieLoader.manifest.animations[(w+1)%this._dotLottieLoader.manifest.animations.length];if(!R||!R.id)throw $1("animation not found.");this.render("function"==typeof x?{id:R.id,...x(this._getPlaybackOptions(),this._getOptionsFromAnimation(R))}:{id:R.id})}getManifest(){return this._dotLottieLoader.manifest}resize(){this._lottie&&!["loading"].includes(this._currentState)?this._lottie.resize():ji("resize() Can't use whilst loading.")}stop(){this._lottie&&!["loading"].includes(this._currentState)?(this.clearCountTimer(),this._counter=0,this._setPlayerState(()=>({direction:this._getOption("direction")})),this._lottie.stop(),this.setCurrentState("stopped")):ji("stop() Can't use whilst loading.")}pause(){this._lottie&&!["loading"].includes(this._currentState)?(this.clearCountTimer(),this._lottie.pause(),this.setCurrentState("paused")):ji("pause() Can't use whilst loading.")}freeze(){this._lottie&&!["loading"].includes(this._currentState)?("frozen"!==this.currentState&&(this._stateBeforeFreeze=this.currentState),this._lottie.pause(),this.setCurrentState("frozen")):ji("freeze() Can't use whilst loading.")}unfreeze(){this._lottie&&!["loading"].includes(this._currentState)?"playing"===this._stateBeforeFreeze?this.play():this.pause():ji("unfreeze() Can't use whilst loading.")}destroy(){var x,w;null!=(x=this._container)&&x.__lottie&&(this._container.__lottie.destroy(),this._container.__lottie=null),this._audios.length&&(this._audios.forEach(R=>{R.unload()}),this._audios=[]),this.clearCountTimer(),typeof document<"u"&&document.removeEventListener("visibilitychange",()=>this._onVisibilityChange()),this._counter=0,null==(w=this._lottie)||w.destroy(),this._lottie=void 0}getAnimationInstance(){return this._lottie}static getLottieWebVersion(){return`${ja_dependencies_lottie_web}`}addEventListener(x,w){var R,W,Y;this._listeners.has(x)||this._listeners.set(x,new Set),null==(R=this._listeners.get(x))||R.add(w);try{"complete"===x?null==(W=this._container)||W.addEventListener(x,w):null==(Y=this._lottie)||Y.addEventListener(x,w)}catch(ie){bo(`addEventListener ${ie}`)}}getState(){var x,w,R,W,Y,ie,Ae;return{autoplay:null!=(w=null==(x=this._lottie)?void 0:x.autoplay)&&w,currentState:this._currentState,frame:this._frame,visibilityPercentage:this._visibilityPercentage,seeker:this._seeker,direction:null!=(W=null==(R=this._lottie)?void 0:R.playDirection)?W:1,hover:this._hover,loop:this._loop||!1,playMode:this._mode,speed:null!=(ie=null==(Y=this._lottie)?void 0:Y.playSpeed)?ie:1,background:this._background,intermission:this._intermission,defaultTheme:this._defaultTheme,currentAnimationId:this._currentAnimationId,activeStateId:null!=(Ae=this._activeStateId)?Ae:""}}_notify(){this.state.setState(this.getState())}get totalFrames(){var x;return(null==(x=this._lottie)?void 0:x.totalFrames)||0}get direction(){return this._lottie?this._lottie.playDirection:1}setDirection(x){this._requireValidDirection(x),this._setPlayerState(()=>({direction:x})),this._userPlaybackOptions.direction=x}get speed(){var x;return(null==(x=this._lottie)?void 0:x.playSpeed)||1}setSpeed(x){this._requireValidSpeed(x),this._setPlayerState(()=>({speed:x})),this._userPlaybackOptions.speed=x}get autoplay(){var x,w;return null!=(w=null==(x=this._lottie)?void 0:x.autoplay)&&w}setAutoplay(x){this._requireValidAutoplay(x),this._lottie&&!["loading"].includes(this._currentState)?(this._setPlayerState(()=>({autoplay:x})),this._userPlaybackOptions.autoplay=x):ji("setAutoplay() Can't use whilst loading.")}toggleAutoplay(){this._lottie&&!["loading"].includes(this._currentState)?this.setAutoplay(!this._lottie.autoplay):ji("toggleAutoplay() Can't use whilst loading.")}get defaultTheme(){return this._defaultTheme}setDefaultTheme(x){this._setPlayerState(()=>({defaultTheme:x})),this._userPlaybackOptions.defaultTheme=x,this._animation&&this.render()}get loop(){return this._loop}setLoop(x){this._requireValidLoop(x),this._setPlayerState(()=>({loop:x})),this._userPlaybackOptions.loop=x}toggleLoop(){this._lottie&&!["loading"].includes(this._currentState)?this.setLoop(!this._loop):ji("toggleLoop() Can't use whilst loading.")}get background(){return this._background}setBackground(x){this._requireValidBackground(x),this._background=x,this._container&&(this._container.style.backgroundColor=x)}get _frame(){return this._lottie?"completed"===this.currentState?-1===this.direction?0:this._lottie.totalFrames:this._lottie.currentFrame:0}get _seeker(){return this._lottie?this._frame/this._lottie.totalFrames*100:0}revertToManifestValues(x){var w=this;return(0,H.A)(function*(){var R;let W;W=Array.isArray(x)&&0!==x.length?x:["autoplay","defaultTheme","direction","hover","intermission","loop","playMode","speed","activeAnimationId"];let Y=!1;if(W.includes("activeAnimationId")){let ie=null==(R=w._dotLottieLoader.manifest)?void 0:R.activeAnimationId,Ae=w._getAnimationByIdOrIndex(ie||0);w._activeAnimationId=ie,yield w._setCurrentAnimation(Ae.id),Y=!0}W.forEach(ie=>{switch(ie){case"autoplay":delete w._userPlaybackOptions.autoplay,w.setAutoplay(w._getOption("autoplay"));break;case"defaultTheme":delete w._userPlaybackOptions.defaultTheme,w.setDefaultTheme(w._getOption("defaultTheme"));break;case"direction":delete w._userPlaybackOptions.direction,w.setDirection(w._getOption("direction"));break;case"hover":delete w._userPlaybackOptions.hover,w.setHover(w._getOption("hover"));break;case"intermission":delete w._userPlaybackOptions.intermission,w.setIntermission(w._getOption("intermission"));break;case"loop":delete w._userPlaybackOptions.loop,w.setLoop(w._getOption("loop"));break;case"playMode":delete w._userPlaybackOptions.playMode,w.setMode(w._getOption("playMode")),w.setDirection(w._getOption("direction"));break;case"speed":delete w._userPlaybackOptions.speed,w.setSpeed(w._getOption("speed"))}}),Y&&w.render()})()}removeEventListener(x,w){var R,W,Y;try{"complete"===x?null==(R=this._container)||R.removeEventListener(x,w):null==(W=this._lottie)||W.removeEventListener(x,w),null==(Y=this._listeners.get(x))||Y.delete(w)}catch(ie){bo("removeEventListener",ie)}}_handleAnimationComplete(){var x;"number"==typeof this._loop&&this.stop(),this.goToAndStop(-1===this.direction?0:this.totalFrames-1,!0),this._counter=0,this.clearCountTimer(),this.setCurrentState("completed"),null==(x=this._container)||x.dispatchEvent(new Event("complete"))}addEventListeners(){var x;if(this._lottie&&!["loading"].includes(this._currentState)){this._lottie.addEventListener("enterFrame",()=>{var w;this._lottie?(0===Math.floor(this._lottie.currentFrame)&&-1===this.direction&&(null==(w=this._container)||w.dispatchEvent(new Event("complete")),this.loop||this.setCurrentState("completed")),this._notify()):ji("enterFrame event : Lottie is undefined.")}),this._lottie.addEventListener("loopComplete",()=>{var w;if(!this._lottie)return void ji("loopComplete event : Lottie is undefined.");null==(w=this._container)||w.dispatchEvent(new Event("loopComplete")),this.intermission>0&&this.pause();let R=this._lottie.playDirection;if("number"==typeof this._loop&&this._loop>0&&(this._counter+="bounce"===this._mode?.5:1,this._counter>=this._loop))return void this._handleAnimationComplete();"bounce"===this._mode&&"number"==typeof R&&(R=-1*Number(R));let W=-1===R?this._lottie.totalFrames-1:0;this.intermission?(this.goToAndPlay(W,!0),this.pause(),this._counterInterval=window.setTimeout(()=>{this._lottie&&(this._setPlayerState(()=>({direction:R})),this.goToAndPlay(W,!0))},this._intermission)):(this._setPlayerState(()=>({direction:R})),this.goToAndPlay(-1===R?this.totalFrames-1:0,!0))}),this._lottie.addEventListener("complete",()=>{if(this._lottie&&!1===this._loop&&"bounce"===this._mode){if(this._counter+=.5,this._counter>=1)return void this._handleAnimationComplete();this._counterInterval=window.setTimeout(()=>{if(!this._lottie)return;let w=this._lottie.playDirection;"bounce"===this._mode&&"number"==typeof w&&(w=-1*Number(w));let R=-1===w?this.totalFrames-1:0;this._setPlayerState(()=>({direction:w})),this.goToAndPlay(R,!0)},this._intermission)}else this._handleAnimationComplete()});for(let[w,R]of this._listeners)if("complete"===w)for(let W of R)null==(x=this._container)||x.addEventListener(w,W);else for(let W of R)this._lottie.addEventListener(w,W)}else ji("addEventListeners() Can't use whilst loading.")}_setCurrentAnimation(x){var w=this;return(0,H.A)(function*(){w._currentState="loading";let R=yield w._dotLottieLoader.getAnimation(x);w._currentAnimationId=x,w._animation=R,w._currentState="ready"})()}_getAudioFactory(){var x=this;return(0,H.A)(function*(){if(x._animation&&function wl(x){let w=x.assets;return!!w&&w.some(R=>M3(R))}(x._animation)){let{DotLottieAudio:w}=yield Ve.e(392).then(Ve.bind(Ve,392));return R=>{let W=new w({src:[R]});return x._audios.push(W),W}}return null})()}render(x){var w=this;return(0,H.A)(function*(){var R,W,Y,ie,Ae,$e,Be,nt,Ct,tt,gt,un,Kn,Kt,On,jn,si,W1;if(null!=x&&x.id)yield w._setCurrentAnimation(x.id);else if(!w._animation)throw $1("no animation selected");let Zi=null!=(R=sr.loop)&&R,xs=null!=(W=sr.autoplay)&&W,r2=null!=(Y=sr.playMode)?Y:"normal",Es=null!=(ie=sr.intermission)?ie:0,gi=null!=(Ae=sr.hover)&&Ae,Ws=null!=($e=sr.direction)?$e:1,Ar=null!=(Be=sr.speed)?Be:1,zs=null!=(nt=sr.defaultTheme)?nt:"";Zi=null!=(Ct=x?.loop)?Ct:w._getOption("loop"),xs=null!=(tt=x?.autoplay)?tt:w._getOption("autoplay"),r2=null!=(gt=x?.playMode)?gt:w._getOption("playMode"),Es=null!=(un=x?.intermission)?un:w._getOption("intermission"),gi=null!=(Kn=x?.hover)?Kn:w._getOption("hover"),Ws=null!=(Kt=x?.direction)?Kt:w._getOption("direction"),Ar=null!=(On=x?.speed)?On:w._getOption("speed"),zs=null!=(jn=x?.defaultTheme)?jn:w._getOption("defaultTheme");let o2={...w._animationConfig,autoplay:!gi&&xs,loop:"number"==typeof Zi||Zi,renderer:w._worker?"svg":null!=(si=w._animationConfig.renderer)?si:"svg"},[gs,We,Gi]=yield Promise.all([w._dotLottieLoader.getTheme(zs),w._getLottiePlayerInstance(),w._getAudioFactory()]);gs&&w._animation?(w._animation=wc(w._animation),w._animation.slots=gs):w._animation=yield w._dotLottieLoader.getAnimation(null!=(W1=w._currentAnimationId)?W1:""),!w._activeStateId||w._inInteractiveMode?(w.destroy(),w._setPlayerState(()=>({defaultTheme:zs,playMode:r2,intermission:Es,hover:gi,loop:Zi})),w._lottie=We.loadAnimation(Gi?{...o2,container:w._container,animationData:w._animation,audioFactory:Gi}:{...o2,container:w._container,animationData:w._animation}),typeof w._lottie.resetSegments>"u"&&(w._lottie.resetSegments=()=>{var qs;null==(qs=w._lottie)||qs.playSegments([0,w._lottie.totalFrames],!0)}),w.addEventListeners(),w._container&&(w._container.__lottie=w._lottie),w._setPlayerState(()=>({direction:Ws,speed:Ar})),xs&&!gi&&(!1===Zi&&-1===Ws?w.play():w.setCurrentState("playing")),w._updateTestData()):w.enterInteractiveMode(w._activeStateId)})()}_getLottiePlayerInstance(){var x=this;return(0,H.A)(function*(){var w;let W,R=null!=(w=x._animationConfig.renderer)?w:"svg";if(x._worker)return"svg"!==R&&ji("Worker is only supported with svg renderer. Change or remove renderer prop to get rid of this warning."),W=yield Ve.e(812).then(Ve.bind(Ve,812)),W.default;switch(R){case"svg":W=x._light?yield Ve.e(18).then(Ve.bind(Ve,18)):yield Ve.e(244).then(Ve.bind(Ve,244));break;case"canvas":W=x._light?yield Ve.e(823).then(Ve.bind(Ve,823)):yield Ve.e(979).then(Ve.bind(Ve,360));break;case"html":W=x._light?yield Ve.e(581).then(Ve.bind(Ve,581)):yield Ve.e(441).then(Ve.bind(Ve,441));break;default:throw new Error(`Invalid renderer: ${R}`)}return W.default})()}_getActiveAnimationId(){var x,w,R,W;let Y=this._dotLottieLoader.manifest;return null!=(W=null!=(R=null!=(x=this._activeAnimationId)?x:Y?.activeAnimationId)?R:null==(w=Y?.animations[0])?void 0:w.id)?W:void 0}load(x){var w=this;return(0,H.A)(function*(){if("loading"!==w._currentState)try{if(w.setCurrentState("loading"),"string"==typeof w._src)if(function fa(x){try{return Ec(JSON.parse(x))}catch{return!1}}(w._src)){let W=JSON.parse(w._src);w._dotLottieLoader.loadFromLottieJSON(W)}else{let W=new URL(w._src,window.location.href);yield w._dotLottieLoader.loadFromUrl(W.toString())}else{if("object"!=typeof w._src||!Ec(w._src))throw $1("Invalid src provided");w._dotLottieLoader.loadFromLottieJSON(w._src)}if(!w._dotLottieLoader.manifest)throw $1("No manifest found");let R=w._getActiveAnimationId();if(!R)throw $1("No active animation found");yield w._setCurrentAnimation(R),yield w.render(x)}catch(R){w.setCurrentState("error"),R instanceof Error&&bo(`Error loading animation: ${R.message}`)}else ji("Loading in progress..")})()}setErrorState(x){this.setCurrentState("error"),bo(x)}_requireValidDirection(x){if(-1!==x&&1!==x)throw $1("Direction can only be -1 (backwards) or 1 (forwards)")}_requireValidIntermission(x){if(x<0||!Number.isInteger(x))throw $1("intermission must be a positive number")}_requireValidLoop(x){if("number"==typeof x&&(!Number.isInteger(x)||x<0))throw $1("loop must be a positive number or boolean")}_requireValidSpeed(x){if("number"!=typeof x)throw $1("speed must be a number")}_requireValidBackground(x){if("string"!=typeof x)throw $1("background must be a string")}_requireValidAutoplay(x){if("boolean"!=typeof x)throw $1("autoplay must be a boolean")}_requireValidPlaybackOptions(x){x.direction&&this._requireValidDirection(x.direction),x.intermission&&this._requireValidIntermission(x.intermission),x.loop&&this._requireValidLoop(x.loop),x.speed&&this._requireValidSpeed(x.speed)}}},446:(n2,u1,Ve)=>{"use strict";Ve.d(u1,{a:()=>Fe});var H=Object.defineProperty,st=Object.getOwnPropertyDescriptor,Fe=(se,wn,xt,Je)=>{for(var ee,Ut=Je>1?void 0:Je?st(wn,xt):wn,Dt=se.length-1;Dt>=0;Dt--)(ee=se[Dt])&&(Ut=(Je?ee(wn,xt,Ut):ee(Ut))||Ut);return Je&&Ut&&H(wn,xt,Ut),Ut}},467:(n2,u1,Ve)=>{"use strict";function H(Fe,se,wn,xt,Je,Ut,Dt){try{var ee=Fe[Ut](Dt),le=ee.value}catch(dt){return void wn(dt)}ee.done?se(le):Promise.resolve(le).then(xt,Je)}function st(Fe){return function(){var se=this,wn=arguments;return new Promise(function(xt,Je){var Ut=Fe.apply(se,wn);function Dt(le){H(Ut,xt,Je,Dt,ee,"next",le)}function ee(le){H(Ut,xt,Je,Dt,ee,"throw",le)}Dt(void 0)})}}Ve.d(u1,{A:()=>st})},635:(n2,u1,Ve)=>{"use strict";function se(he,ge){var Te={};for(var Ie in he)Object.prototype.hasOwnProperty.call(he,Ie)&&ge.indexOf(Ie)<0&&(Te[Ie]=he[Ie]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Ie=Object.getOwnPropertySymbols(he);Ze<Ie.length;Ze++)ge.indexOf(Ie[Ze])<0&&Object.prototype.propertyIsEnumerable.call(he,Ie[Ze])&&(Te[Ie[Ze]]=he[Ie[Ze]])}return Te}function dt(he,ge,Te,Ie){return new(Te||(Te=Promise))(function(be,ct){function Pn(mn){try{fn(Ie.next(mn))}catch(gn){ct(gn)}}function O1(mn){try{fn(Ie.throw(mn))}catch(gn){ct(gn)}}function fn(mn){mn.done?be(mn.value):function Ze(be){return be instanceof Te?be:new Te(function(ct){ct(be)})}(mn.value).then(Pn,O1)}fn((Ie=Ie.apply(he,ge||[])).next())})}function At(he){return this instanceof At?(this.v=he,this):new At(he)}function n1(he,ge,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Ie=Te.apply(he,ge||[]),be=[];return Ze=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Pn("next"),Pn("throw"),Pn("return",function ct(E1){return function(Rn){return Promise.resolve(Rn).then(E1,gn)}}),Ze[Symbol.asyncIterator]=function(){return this},Ze;function Pn(E1,Rn){Ie[E1]&&(Ze[E1]=function(Ui){return new Promise(function(Cs,Gs){be.push([E1,Ui,Cs,Gs])>1||O1(E1,Ui)})},Rn&&(Ze[E1]=Rn(Ze[E1])))}function O1(E1,Rn){try{!function fn(E1){E1.value instanceof At?Promise.resolve(E1.value.v).then(mn,gn):mi(be[0][2],E1)}(Ie[E1](Rn))}catch(Ui){mi(be[0][3],Ui)}}function mn(E1){O1("next",E1)}function gn(E1){O1("throw",E1)}function mi(E1,Rn){E1(Rn),be.shift(),be.length&&O1(be[0][0],be[0][1])}}function Zt(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ge=he[Symbol.asyncIterator];return ge?ge.call(he):(he=function t1(he){var ge="function"==typeof Symbol&&Symbol.iterator,Te=ge&&he[ge],Ie=0;if(Te)return Te.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Ie>=he.length&&(he=void 0),{value:he&&he[Ie++],done:!he}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),Te={},Ie("next"),Ie("throw"),Ie("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Ie(be){Te[be]=he[be]&&function(ct){return new Promise(function(Pn,O1){!function Ze(be,ct,Pn,O1){Promise.resolve(O1).then(function(fn){be({value:fn,done:Pn})},ct)}(Pn,O1,(ct=he[be](ct)).done,ct.value)})}}}Ve.d(u1,{AQ:()=>n1,N3:()=>At,Tt:()=>se,sH:()=>dt,xN:()=>Zt}),"function"==typeof SuppressedError&&SuppressedError}},n2=>{n2(n2.s=627)}]);